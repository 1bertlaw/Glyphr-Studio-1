<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title> glyphr </title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link rel="icon" type="image/x-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAEBSURBVDhPY/RbdPM/AwWACUqTDbC6IEpdkEFTkotBT5YbzL/0+CvD9effGJbdfA/mIwMMA5odpOEa67c9BtONXrJgGmRQ7YGnYDYMoBgAsjncTBSs8cLb71BRCDAQ5gQbtPLUaxSXoIQBSDNIAbpmEACJgeRAapABxYGIYgDMBpBz0QFIDN12EEAxAOQ3UECB/LoxVg2sCYRBbJj/0QELlIaDtZffgaMMFI3IoQ8Su/bmB5iPDFAMANkEA/6Lb0FZCACKJXSA4gWQTSBnYtMMCxeQGmSA4gKY0zdCoxPmZC0RDnAAwryCDDBSIsimYF0hMBs5KYMAKHzQ08hA50YGBgDfrn7dJSRJxAAAAABJRU5ErkJggg==">
		<script>function setup(){_GP=clone(_UI.default_GP),drawLogo(),navigate()}function navigate(a){switch(mouseoutcec(),document.getElementById("mainwrapper").style.overflowY="scroll",document.getElementById("mainpane").style.marginLeft="470px",document.getElementById("navprimarypane").style.display="block",document.getElementById("navtargetpane").style.display="block",document.getElementById("logocanvas").style.display="block",_UI.navprimaryhere=a||"npChar","test drive"==_UI.navhere&&(_UI.navprimaryhere="npAttributes"),updateNavPrimaryNavTarget(),_UI.navhere){case"firstrun":loadPage_firstrun();break;case"font settings":loadPage_fontsettings();break;case"project settings":loadPage_projectsettings();break;case"open project":loadPage_openproject();break;case"export font":loadPage_exportfont();break;case"help":loadPage_help();break;case"about":loadPage_about();break;case"test drive":loadPage_testdrive();break;case"character edit":loadPage_charedit(),document.getElementById("mainwrapper").style.overflowY="hidden",_UI.selectedshape=-1;break;case"linked shapes":loadPage_linkedshapes(),document.getElementById("mainwrapper").style.overflowY="hidden"}drawNavPrimaryOptions(),document.body.focus()}function updateNavPrimaryNavTarget(){document.getElementById("navprimarypane").innerHTML=generateNavPrimaryOptions(),drawNavPrimaryOptions();var a=document.getElementById("navtargetpane");if(a.innerHTML="","character edit"!=_UI.navhere&&"linked shapes"!=_UI.navhere&&"test drive"!=_UI.navhere)return _UI.navprimaryhere="npNav",a.innerHTML=generateNavTargetOptions(),void 0;switch(_UI.navprimaryhere){case"npNav":a.innerHTML=generateNavTargetOptions();break;case"npChar":"character edit"==_UI.navhere&&(a.innerHTML="<h1>character edit</h1>"+updateselectchar(),drawselectcharthumbs()),"linked shapes"==_UI.navhere&&(a.innerHTML="<h1>linked shapes</h1>"+linkedshapes_subnav(),drawLinkedShapeLayerThumbs());break;case"npLayers":updatelayers();break;case"npAttributes":"test drive"==_UI.navhere?a.innerHTML=updatetestdriveoptions():updateCharEditDetails();break;case"npSave":triggerProjectFileDownload()}}function drawNavPrimaryOptions(){var a=_UI.colors.g9,b=_UI.colors.accent,c=a;c="npNav"==_UI.navprimaryhere?b:a;var d=document.getElementById("npNav"),e=d.getContext("2d");d.width=50,d.height=50,draw_primaryNav_navigate(e,c),"character edit"==_UI.navhere&&(c="npChar"==_UI.navprimaryhere?b:a,d=document.getElementById("npChar"),e=d.getContext("2d"),d.width=50,d.height=50,draw_primaryNav_character(e,c),c="npLayers"==_UI.navprimaryhere?b:a,d=document.getElementById("npLayers"),e=d.getContext("2d"),d.width=50,d.height=50,draw_primaryNav_layers(e,c),c="npAttributes"==_UI.navprimaryhere?b:a,d=document.getElementById("npAttributes"),e=d.getContext("2d"),d.width=50,d.height=50,draw_primaryNav_attributes(e,c)),"linked shapes"==_UI.navhere&&(c="npChar"==_UI.navprimaryhere?b:a,d=document.getElementById("npChar"),e=d.getContext("2d"),d.width=50,d.height=50,draw_primaryNav_character(e,c),c="npAttributes"==_UI.navprimaryhere?b:a,d=document.getElementById("npAttributes"),e=d.getContext("2d"),d.width=50,d.height=50,draw_primaryNav_attributes(e,c)),"test drive"==_UI.navhere&&(c="npAttributes"==_UI.navprimaryhere?b:a,d=document.getElementById("npAttributes"),e=d.getContext("2d"),d.width=50,d.height=50,draw_primaryNav_attributes(e,c)),updateSaveIcon()}function updateSaveIcon(){var a=_UI.colors.g9;_UI.projectsaved||(a="white"),pncanvas=document.getElementById("npSave"),pnctx=pncanvas.getContext("2d"),pncanvas.width=50,pncanvas.height=50,draw_primaryNav_save(pnctx,a)}function generateNavPrimaryOptions(){var a=[];a.push("npNav"),"character edit"==_UI.navhere&&(a.push("npAttributes"),a.push("npLayers"),a.push("npChar")),"linked shapes"==_UI.navhere&&(a.push("npAttributes"),a.push("npChar")),"test drive"==_UI.navhere&&a.push("npAttributes");for(var b="",c="primarynavbutton",d=0;d<a.length;d++)b+="<canvas class='"+c+"' id='"+a[d]+"' onclick='_UI.navprimaryhere=\""+a[d]+"\";updateNavPrimaryNavTarget();'></canvas>";return b+="<canvas class='"+c+"' id='npSave' onclick='triggerProjectFileDownload();'></canvas>"}function generateNavTargetOptions(){var a=[];a.push("character edit"),a.push("linked shapes"),a.push("test drive"),a.push("_"),a.push("font settings"),a.push("project settings"),a.push("_"),a.push("open project"),a.push("export font"),a.push("_"),a.push("help"),a.push("about"),a.push("_"),a.push("bug"),a.push("feat");for(var b="<h1>navigate</h1>",c=0;c<a.length;c++){var d="navtargetbutton";a[c]==_UI.navhere&&(d="navtargetbuttonsel"),b+="_"==a[c]?"<div style='height:10px;'></div>":"bug"==a[c]?"<a href='javascript:sendBugEmail()' style='font-size:1.1em; padding:4px 0px 4px 0px; font-style:italic;'>report an issue</a><br>":"feat"==a[c]?"<a href='mailto:mail@glyphrstudio.com&subject=Feature%20Request' style='font-size:1.1em; padding:4px 0px 4px 0px; font-style:italic;'>request a feature</a><br>":"<input type='button' class='"+d+"' value='"+a[c]+"' onclick='_UI.navhere=\""+a[c]+"\"; _UI.selectedshape=-1; navigate();'>"}return b}function sendBugEmail(){var a="<h1>Report an issue</h1>";a+="Hey, sorry you ran into some wonky stuff!<br>Letting us know about your problem will help us fix it for everybody.<br>",a+="To send us an email, click the link below.<br><br>Thanks!<br><br><br>",a+="<a href='mailto:mail@glyphrstudio.com&subject=Issue%20Report&body="+genEmailContent()+"' class='button' style='padding:10px;' onclick='closeDialog();'>Send an issue email to the Glyphr team</a><br>",a+="<br>",openDialog(a)}function genEmailContent(){var a="Sorry about the issue \u2013 so we can fix it, please explain step by step how to re-create the issue you ran into. If there was a JavaScript Error message or line number, include that too.%0A%0A%0A%0A";return a+="Thank you!%0A%09The Glyphr Team%0A%0A",a+="___________________________________________%0A%0A",a+="Glyphr Studio Version %09%09"+_UI.thisGlyphrStudioVersion+"%0A",a+="appName %09%09"+navigator.appName+"%0A",a+="language %09%09"+navigator.language+"%0A",a+="platform %09%09"+navigator.platform+"%0A",a+="systemLanguage %09%09"+navigator.systemLanguage+"%0A",a+="userLanguage %09%09"+navigator.userLanguage+"%0A",a+="userAgent %09%09"+encodeURIComponent(navigator.userAgent)+"%0A"}function closeDialog(){document.getElementById("dialog_box").style.display="none",document.getElementById("dialog_bg").style.display="none",document.getElementById("dialogRightContent").innerHTML="<b>Error: unspecified dialog box content.</b>",document.body.focus()}function openDialog(a){document.body.focus(),document.getElementById("dialogRightContent").innerHTML=a,document.getElementById("dialog_box").style.display="block",document.getElementById("dialog_bg").style.display="block"}function setProjectAsSaved(){_UI.projectsaved=!0,window.onbeforeunload=null,document.title="glyphr",updateSaveIcon()}function setProjectAsUnsaved(){_UI.projectsaved=!1,_GP.projectsettings.stoppagenavigation&&(window.onbeforeunload=function(){return"\n\nUnless you specifically saved your data, all your progress will be lost.\n\n"}),document.title="glyphr \u2756",updateSaveIcon()}function putundoq(a){var b=new Object;b.name=a,b.date=(new Date).getTime(),"character edit"==_UI.navhere?(b.state=clone(_UI.charcurrstate),_UI.charundoq.push(b),_UI.charcurrstate=clone(_GP.fontchars)):"linked shapes"==_UI.navhere&&(b.state=clone(_UI.linkcurrstate),_UI.linkedshapeundoq.push(b),_UI.linkcurrstate=clone(_GP.linkedshapes)),setProjectAsUnsaved()}function pullundoq(){if("character edit"==_UI.navhere){if(_UI.charundoq.length>0){var a=_UI.charundoq.pop();_GP.fontchars=a.state,_UI.charcurrstate=clone(_GP.fontchars),redraw("pullundoq")}}else if("linked shapes"==_UI.navhere&&_UI.linkedshapeundoq.length>0){var a=_UI.linkedshapeundoq.pop();_GP.linkedshapes=a.state,_UI.linkcurrstate=clone(_GP.linkedshapes),redraw("pullundoq")}0==_UI.charundoq.length&&0==_UI.linkedshapeundoq.length&&setProjectAsSaved()}function clone(a){var b=a instanceof Array?[]:{};for(i in a)b[i]=a[i]&&"object"==typeof a[i]?clone(a[i]):a[i];return b}function aalength(a){var b=0;for(var c in a)b++;return b}function round(a,b){b=isval(b)?b:4;var c=a.toString().split(".");if(2==c.length){var d=c[1].substring(0,b)+"."+c[1].substring(b+1),d=Math.round(d);a=1*(c[0]+"."+d)}return 1*a}function strSan(a){return a.replace(/[<>'"\\]/g,"")}function isval(a){return"undefined"!=typeof a&&null!==a}function shiftColor(a,b,c){b=Math.max(0,Math.min(b,1));var d={};return"#"==a.charAt(0)?(a=a.substring(1,7),d.r=parseInt(a.substring(0,2),16),d.g=parseInt(a.substring(2,4),16),d.b=parseInt(a.substring(4,6),16)):"rgb("==a.substring(0,4)?(a=a.split("(")[1].split(")")[0].split(","),d.r=a[0],d.g=a[1],d.b=a[2]):(d.r=0,d.g=0,d.b=0),d.r=Math.max(0,Math.min(d.r,255)),d.g=Math.max(0,Math.min(d.g,255)),d.b=Math.max(0,Math.min(d.b,255)),c?(d.r=Math.round((255-1*d.r)*b+1*d.r),d.g=Math.round((255-1*d.g)*b+1*d.g),d.b=Math.round((255-1*d.b)*b+1*d.b)):(d.r=Math.round(1*d.r-d.r*b),d.g=Math.round(1*d.g-d.g*b),d.b=Math.round(1*d.b-d.b*b)),"rgb("+d.r+","+d.g+","+d.b+")"}function setOTprop(a,b,c){if(_GP.opentypeproperties[a]){for(var d=_GP.opentypeproperties[a],e=0;e<d.length;e++)if(d[e].key==b)return d[e].val=c,void 0;console.log("SETOTPROP ERROR: could not find "+b+" in "+a)}else console.log("SETOTPROP ERROR: could not find table"+a)}function getOTprop(a,b){if(_GP.opentypeproperties[a]){for(var c=_GP.opentypeproperties[a],d=0;d<c.length;d++)if(c[d].key==b)return c[d].val;console.log("GETOTPROP ERROR: could not find "+b+" in "+a)}else console.log("GETOTPROP ERROR: could not find table"+a);return"|| RETURN VALUE ERROR ||"}function Char(a){this.objtype="char",this.isautowide=isval(a.isautowide)?a.isautowide:!0,this.leftsidebearing=isval(a.leftsidebearing)?a.leftsidebearing:!1,this.charwidth=isval(a.charwidth)?a.charwidth:0,this.charname=a.charname||"ERROR_CHARNAME",this.charvalue=a.charvalue||"ERROR_CHARVALUE",this.cmapcode=a.cmapcode||"ERROR_CMAPCODE",this.charshapes=[];var b=0,c=0;if(a.charshapes&&a.charshapes.length)for(var d=0;d<a.charshapes.length;d++)a.charshapes[d].link?(this.charshapes[d]=new LinkedShapeInstance(a.charshapes[d]),b++):(this.charshapes[d]=new Shape(a.charshapes[d]),c++);this.isautowide&&this.calcCharWidth()}function getCharFromText(a){if(" "===a)return _GP.fontchars[32];for(var b,c=0;c<_GP.fontchars.length;c++)if(b=_GP.fontchars[c],b&&b.charvalue===a)return b;return console.error("GETCHARFROMTEXT - could not find "+a),!1}function updateCurrentCharWidth(){if("character edit"==_UI.navhere)_GP.fontchars[_UI.selectedchar].calcCharWidth();else if("linked shapes"==_UI.navhere&&_GP.linkedshapes[_UI.shownlinkedshape]){var a=_GP.linkedshapes[_UI.shownlinkedshape].usedin;if(a)for(var b=0;b<a.length;b++)_GP.fontchars[a[b]].calcCharWidth()}}function createNewFontcharsArray(){return[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,new Char({charname:"SPACE",charvalue:"(space)",cmapcode:"0x20",isautowide:!1,charwidth:200}),new Char({charname:"EXCLAMATION MARK",charvalue:"!",cmapcode:"0x21"}),new Char({charname:"QUOTATION MARK",charvalue:'"',cmapcode:"0x22"}),new Char({charname:"NUMBER SIGN",charvalue:"#",cmapcode:"0x23"}),new Char({charname:"DOLLAR SIGN",charvalue:"$",cmapcode:"0x24"}),new Char({charname:"PERCENT SIGN",charvalue:"%",cmapcode:"0x25"}),new Char({charname:"AMPERSAND",charvalue:"&",cmapcode:"0x26"}),new Char({charname:"APOSTROPHE",charvalue:"'",cmapcode:"0x27"}),new Char({charname:"LEFT PARENTHESIS",charvalue:"(",cmapcode:"0x28"}),new Char({charname:"RIGHT PARENTHESIS",charvalue:")",cmapcode:"0x29"}),new Char({charname:"ASTERISK",charvalue:"*",cmapcode:"0x2a"}),new Char({charname:"PLUS SIGN",charvalue:"+",cmapcode:"0x2b"}),new Char({charname:"COMMA",charvalue:",",cmapcode:"0x2c"}),new Char({charname:"HYPHEN-MINUS",charvalue:"-",cmapcode:"0x2d"}),new Char({charname:"FULL STOP",charvalue:".",cmapcode:"0x2e"}),new Char({charname:"SOLIDUS",charvalue:"/",cmapcode:"0x2f"}),new Char({charname:"DIGIT ZERO",charvalue:"0",cmapcode:"0x30"}),new Char({charname:"DIGIT ONE",charvalue:"1",cmapcode:"0x31"}),new Char({charname:"DIGIT TWO",charvalue:"2",cmapcode:"0x32"}),new Char({charname:"DIGIT THREE",charvalue:"3",cmapcode:"0x33"}),new Char({charname:"DIGIT FOUR",charvalue:"4",cmapcode:"0x34"}),new Char({charname:"DIGIT FIVE",charvalue:"5",cmapcode:"0x35"}),new Char({charname:"DIGIT SIX",charvalue:"6",cmapcode:"0x36"}),new Char({charname:"DIGIT SEVEN",charvalue:"7",cmapcode:"0x37"}),new Char({charname:"DIGIT EIGHT",charvalue:"8",cmapcode:"0x38"}),new Char({charname:"DIGIT NINE",charvalue:"9",cmapcode:"0x39"}),new Char({charname:"COLON",charvalue:":",cmapcode:"0x3a"}),new Char({charname:"SEMICOLON",charvalue:";",cmapcode:"0x3b"}),new Char({charname:"LESS-THAN SIGN",charvalue:"<",cmapcode:"0x3c"}),new Char({charname:"EQUALS SIGN",charvalue:"=",cmapcode:"0x3d"}),new Char({charname:"GREATER-THAN SIGN",charvalue:">",cmapcode:"0x3e"}),new Char({charname:"QUESTION MARK",charvalue:"?",cmapcode:"0x3f"}),new Char({charname:"COMMERCIAL AT",charvalue:"@",cmapcode:"0x40"}),new Char({charname:"LATIN CAPITAL LETTER A",charvalue:"A",cmapcode:"0x41"}),new Char({charname:"LATIN CAPITAL LETTER B",charvalue:"B",cmapcode:"0x42"}),new Char({charname:"LATIN CAPITAL LETTER C",charvalue:"C",cmapcode:"0x43"}),new Char({charname:"LATIN CAPITAL LETTER D",charvalue:"D",cmapcode:"0x44"}),new Char({charname:"LATIN CAPITAL LETTER E",charvalue:"E",cmapcode:"0x45"}),new Char({charname:"LATIN CAPITAL LETTER F",charvalue:"F",cmapcode:"0x46"}),new Char({charname:"LATIN CAPITAL LETTER G",charvalue:"G",cmapcode:"0x47"}),new Char({charname:"LATIN CAPITAL LETTER H",charvalue:"H",cmapcode:"0x48"}),new Char({charname:"LATIN CAPITAL LETTER I",charvalue:"I",cmapcode:"0x49"}),new Char({charname:"LATIN CAPITAL LETTER J",charvalue:"J",cmapcode:"0x4a"}),new Char({charname:"LATIN CAPITAL LETTER K",charvalue:"K",cmapcode:"0x4b"}),new Char({charname:"LATIN CAPITAL LETTER L",charvalue:"L",cmapcode:"0x4c"}),new Char({charname:"LATIN CAPITAL LETTER M",charvalue:"M",cmapcode:"0x4d"}),new Char({charname:"LATIN CAPITAL LETTER N",charvalue:"N",cmapcode:"0x4e"}),new Char({charname:"LATIN CAPITAL LETTER O",charvalue:"O",cmapcode:"0x4f"}),new Char({charname:"LATIN CAPITAL LETTER P",charvalue:"P",cmapcode:"0x50"}),new Char({charname:"LATIN CAPITAL LETTER Q",charvalue:"Q",cmapcode:"0x51"}),new Char({charname:"LATIN CAPITAL LETTER R",charvalue:"R",cmapcode:"0x52"}),new Char({charname:"LATIN CAPITAL LETTER S",charvalue:"S",cmapcode:"0x53"}),new Char({charname:"LATIN CAPITAL LETTER T",charvalue:"T",cmapcode:"0x54"}),new Char({charname:"LATIN CAPITAL LETTER U",charvalue:"U",cmapcode:"0x55"}),new Char({charname:"LATIN CAPITAL LETTER V",charvalue:"V",cmapcode:"0x56"}),new Char({charname:"LATIN CAPITAL LETTER W",charvalue:"W",cmapcode:"0x57"}),new Char({charname:"LATIN CAPITAL LETTER X",charvalue:"X",cmapcode:"0x58"}),new Char({charname:"LATIN CAPITAL LETTER Y",charvalue:"Y",cmapcode:"0x59"}),new Char({charname:"LATIN CAPITAL LETTER Z",charvalue:"Z",cmapcode:"0x5a"}),new Char({charname:"LEFT SQUARE BRACKET",charvalue:"[",cmapcode:"0x5b"}),new Char({charname:"REVERSE SOLIDUS",charvalue:"\\",cmapcode:"0x5c"}),new Char({charname:"RIGHT SQUARE BRACKET",charvalue:"]",cmapcode:"0x5d"}),new Char({charname:"CIRCUMFLEX ACCENT",charvalue:"^",cmapcode:"0x5e"}),new Char({charname:"LOW LINE",charvalue:"_",cmapcode:"0x5f"}),new Char({charname:"GRAVE ACCENT",charvalue:"`",cmapcode:"0x60"}),new Char({charname:"LATIN SMALL LETTER A",charvalue:"a",cmapcode:"0x61"}),new Char({charname:"LATIN SMALL LETTER B",charvalue:"b",cmapcode:"0x62"}),new Char({charname:"LATIN SMALL LETTER C",charvalue:"c",cmapcode:"0x63"}),new Char({charname:"LATIN SMALL LETTER D",charvalue:"d",cmapcode:"0x64"}),new Char({charname:"LATIN SMALL LETTER E",charvalue:"e",cmapcode:"0x65"}),new Char({charname:"LATIN SMALL LETTER F",charvalue:"f",cmapcode:"0x66"}),new Char({charname:"LATIN SMALL LETTER G",charvalue:"g",cmapcode:"0x67"}),new Char({charname:"LATIN SMALL LETTER H",charvalue:"h",cmapcode:"0x68"}),new Char({charname:"LATIN SMALL LETTER I",charvalue:"i",cmapcode:"0x69"}),new Char({charname:"LATIN SMALL LETTER J",charvalue:"j",cmapcode:"0x6a"}),new Char({charname:"LATIN SMALL LETTER K",charvalue:"k",cmapcode:"0x6b"}),new Char({charname:"LATIN SMALL LETTER L",charvalue:"l",cmapcode:"0x6c"}),new Char({charname:"LATIN SMALL LETTER M",charvalue:"m",cmapcode:"0x6d"}),new Char({charname:"LATIN SMALL LETTER N",charvalue:"n",cmapcode:"0x6e"}),new Char({charname:"LATIN SMALL LETTER O",charvalue:"o",cmapcode:"0x6f"}),new Char({charname:"LATIN SMALL LETTER P",charvalue:"p",cmapcode:"0x70"}),new Char({charname:"LATIN SMALL LETTER Q",charvalue:"q",cmapcode:"0x71"}),new Char({charname:"LATIN SMALL LETTER R",charvalue:"r",cmapcode:"0x72"}),new Char({charname:"LATIN SMALL LETTER S",charvalue:"s",cmapcode:"0x73"}),new Char({charname:"LATIN SMALL LETTER T",charvalue:"t",cmapcode:"0x74"}),new Char({charname:"LATIN SMALL LETTER U",charvalue:"u",cmapcode:"0x75"}),new Char({charname:"LATIN SMALL LETTER V",charvalue:"v",cmapcode:"0x76"}),new Char({charname:"LATIN SMALL LETTER W",charvalue:"w",cmapcode:"0x77"}),new Char({charname:"LATIN SMALL LETTER X",charvalue:"x",cmapcode:"0x78"}),new Char({charname:"LATIN SMALL LETTER Y",charvalue:"y",cmapcode:"0x79"}),new Char({charname:"LATIN SMALL LETTER Z",charvalue:"z",cmapcode:"0x7a"}),new Char({charname:"LEFT CURLY BRACKET",charvalue:"{",cmapcode:"0x7b"}),new Char({charname:"VERTICAL LINE",charvalue:"|",cmapcode:"0x7c"}),new Char({charname:"RIGHT CURLY BRACKET",charvalue:"}",cmapcode:"0x7d"}),new Char({charname:"TILDE",charvalue:"~",cmapcode:"0x7e"})]}function Coord(a){this.objtype="coord",this.x=a.x||0,this.y=a.y||0,this.xlock=a.xlock||!1,this.ylock=a.yllock||!1}function LinkedShape(a){this.objtype="linkedshape",this.shape=a&&a.shape?new Shape(a.shape):new Shape({name:"New Linked Shape"}),this.usedin=a.usedin||[]}function LinkedShapeInstance(a){this.objtype="linkedshapeinstance",this.link=a.link||getFirstLinkedShape(),this.uselinkedshapexy=isval(a.uselinkedshapexy)?a.uselinkedshapexy:!0,this.name=a.name||"new linkedshape instance",this.xpos=a.xpos||0,this.ypos=a.ypos||0,this.xlock=isval(a.xlock)?a.xlock:!1,this.ylock=isval(a.ylock)?a.ylock:!1,this.visible=isval(a.visible)?a.visible:!0,this.path=!1,this.hlock=!1,this.wlock=!1}function insertLinkedShapeDialog(){if(aalength(_GP.linkedshapes)>0){var a="Choose a Linked Shape to insert as a layer in this character:";a+=generateSSThumbs(),a+="<div style='display:block;'><input type='button' class='button' value='cancel' onclick='closeDialog();'></div>",openDialog(a),drawSSThumbs()}else openDialog("<div class='dialoglargetext'>No Linked Shapes exist.  First, create some Linked Shapes, then you can insert them into characters.</div>")}function insertLinkedShape(a){var b=new LinkedShapeInstance({link:a,xpos:100,ypos:100});addShape(b),_GP.fontchars[_UI.selectedchar].calcCharWidth(),addToUsedIn(a,_UI.selectedchar),closeDialog(),putundoq("insert linked shape from charedit"),redraw("insertLinkedShape")}function generateSSThumbs(){var a="<div class='ssthumbcontainer'>";for(var b in _GP.linkedshapes)a+="<table cellpadding=0 cellspacing=0 border=0><tr><td>",a+="<canvas class='ssthumb' id='thumb"+b+"' onclick='insertLinkedShape(\""+b+"\");' height="+_UI.thumbsize+"' width="+_UI.thumbsize+"></canvas>",a+="</td></tr><tr><td>",a+=_GP.linkedshapes[b].shape.name,a+="</td></tr></table>";return a+="</div>"}function drawSSThumbs(){var a={};for(var b in _GP.linkedshapes)a=document.getElementById("thumb"+b).getContext("2d"),_GP.linkedshapes[b].shape.drawShapeToArea(a,_UI.thumbview)}function addToUsedIn(a,b){var c=_GP.linkedshapes[a].usedin;c.push(""+b),c.sort(function(a,b){return a-b})}function removeFromUsedIn(a,b){var c=_GP.linkedshapes[a].usedin,d=c.indexOf(""+b);-1!=d&&c.splice(d,1)}function linkedShapeInstanceDetails(a){return content="<tr><td colspan=3><h3>linked shape</h3></td></tr>",content+="<tr><td class='leftcol'>&nbsp;</td><td style='margin-top:0px; padding-top:0px;'> name </td><td style='margin-top:0px; padding-top:0px; padding-right:10px;'><input class='input' style='width:90%;' type='text' value='"+a.name+'\' onchange=\'ss().name = this.value; putundoq("shape name"); redraw("linkedShapeInstanceDetails");\'></td></tr>',content+="<tr><td class='leftcol'>&nbsp;</td><td> use linked shape position</td><td>"+checkUI("ss().uselinkedshapexy="+!a.uselinkedshapexy+'; putundoq("use linked shape position"); redraw("linkedShapeInstanceDetails");',a.uselinkedshapexy)+"</td></tr>",a.uselinkedshapexy||(content+="<tr><td class='leftcol'>&nbsp;</td><td colspan=2><h3 style='font-size:.9em; color:rgb(153,158,163);'>x & y values are relative to the linked shape position</h3></td></tr>",content+="<tr><td class='leftcol'>&nbsp;</td><td style='margin-top:0px; padding-top:0px; text-transform:none;'>&#916; x </td><td style='margin-top:0px; padding-top:0px; padding-right:10px;'><input class='input' type='text' value='"+a.xpos+'\' onchange=\'ss().xpos = (this.value*1); putundoq("linkedshape xpos"); redraw("linkedShapeInstanceDetails");\'>'+spinner()+"</td></tr>",content+="<tr><td class='leftcol'>&nbsp;</td><td style='margin-top:0px; padding-top:0px; text-transform:none;'>&#916; y </td><td style='margin-top:0px; padding-top:0px; padding-right:10px;'><input class='input' type='text' value='"+a.ypos+'\' onchange=\'ss().ypos = (this.value*1); putundoq("linkedshape ypos"); redraw("linkedShapeInstanceDetails");\'>'+spinner()+"</td></tr>"),content+="<tr><td class='leftcol'>&nbsp;</td><td> linked shape name </td><td>"+_GP.linkedshapes[a.link].shape.name+"</td></tr>",content+="<tr><td class='leftcol'>&nbsp;</td><td colspan=2><input type='button' class='button' value='edit this linked shape' onclick='goToEditLinkedShape(\""+a.link+"\");'/></td></tr>"}function goToEditLinkedShape(a){_UI.shownlinkedshape=a,_UI.navhere="linked shapes",navigate()}function clickSelectLinkedShape(a,b){return _GP.linkedshapes[_UI.shownlinkedshape].shape.isHere(a,b)?(_UI.selectedshape=_UI.shownlinkedshape,_UI.navprimaryhere="npAttributes",!0):(_UI.selectedshape=-1,!1)}function getFirstLinkedShape(){for(var a in _GP.linkedshapes)return a;return"[ERROR] - LINKEDSHAPES array has zero keys"}function generateNewSSID(){return _GP.projectsettings.linkedshapecounter++,"id"+_GP.projectsettings.linkedshapecounter}function Path(a){if(this.objtype="path",this.pathpoints=!1,a.pathpoints&&a.pathpoints.length){this.pathpoints=[];for(var b=0;b<a.pathpoints.length;b++)this.pathpoints[b]=new PathPoint(a.pathpoints[b])}this.clockwise=isval(a.clockwise)?a.clockwise:findClockwise(this.pathpoints),this.topy=isval(a.topy)?a.topy:-1,this.bottomy=isval(a.bottomy)?a.bottomy:-1,this.leftx=isval(a.leftx)?a.leftx:-1,this.rightx=isval(a.rightx)?a.rightx:-1,this.selectPathPoint(!1),this.pathpoints&&this.calcMaxes()}function findClockwise(a){var b,c,d,e=0;if(a.length<3)return 0;for(var f=0;f<a.length;f++)b=(f+1)%a.length,c=(f+2)%a.length,d=(a[b].P.x-a[f].P.x)*(a[c].P.y-a[b].P.y),d-=(a[b].P.y-a[f].P.y)*(a[c].P.x-a[b].P.x),0>d?e--:d>0&&e++;return e}function getBounds(a,b,c,d,e,f,g,h){var i={minx:Math.min(a,g),miny:Math.min(b,h),maxx:Math.max(a,g),maxy:Math.max(b,h)},j=c-a,k=d-b,l=e-c,m=f-d,n=g-e,o=h-f;if(c<i.minx||c>i.maxx||e<i.minx||e>i.maxx){j+n!=2*l&&(l+=.01);var p=2*(j-l),q=2*(j-2*l+n),r=(2*l-2*j)*(2*l-2*j)-2*j*q,s=Math.sqrt(r),t=(p+s)/q,u=(p-s)/q;t>0&&1>t&&checkXbounds(i,getBezierValue(t,a,c,e,g)),u>0&&1>u&&checkXbounds(i,getBezierValue(u,a,c,e,g))}if(d<i.miny||d>i.maxy||f<i.miny||f>i.maxy){k+o!=2*m&&(m+=.01);var p=2*(k-m),q=2*(k-2*m+o),r=(2*m-2*k)*(2*m-2*k)-2*k*q,s=Math.sqrt(r),t=(p+s)/q,u=(p-s)/q;t>0&&1>t&&checkYbounds(i,getBezierValue(t,b,d,f,h)),u>0&&1>u&&checkYbounds(i,getBezierValue(u,b,d,f,h))}return i}function checkXbounds(a,b){a.minx>b?a.minx=b:a.maxx<b&&(a.maxx=b)}function checkYbounds(a,b){a.miny>b?a.miny=b:a.maxy<b&&(a.maxy=b)}function getBezierValue(a,b,c,d,e){var f=1-a;return f*f*f*b+3*f*f*a*c+3*f*a*a*d+a*a*a*e}function PathPoint(a){this.objtype="pathpoint",this.P=a.P?new Coord(a.P):new Coord({x:100,y:100}),this.H1=a.H1?new Coord(a.H1):new Coord({x:0,y:0}),this.H2=a.H2?new Coord(a.H2):new Coord({x:200,y:200}),this.type=a.type||"corner",this.selected=a.selected||!1,this.useh1=isval(a.useh1)?a.useh1:!0,this.useh2=isval(a.useh2)?a.useh2:!0}function Shape(a){this.objtype="shape",this.name=a.name||"new shape",this.xpos=isval(a.xpos)?a.xpos:0,this.ypos=isval(a.ypos)?a.ypos:400,this.path=isval(a.path)?new Path(a.path):rectPathFromCorners(!1),this.visible=isval(a.visible)?a.visible:!0,this.xlock=a.xlock||!1,this.ylock=a.ylock||!1,this.wlock=a.wlock||!1,this.hlock=a.hlock||!1,this.link=!1,this.uselinkedshapexy=!1}function sx_cx(a){var b=getView("sx_cx"),c=b.dx;return c+=a*b.dz}function sy_cy(a){var b=getView("sy_cy"),c=b.dy;return c-=a*b.dz}function rectPathFromCorners(a){var b=0,c=_GP.projectsettings.ascent,d=_GP.projectsettings.upm/_GP.projectsettings.griddivisions,e=0;a&&(b=a.leftx,c=a.topy,d=a.rightx,e=a.bottomy);var f=Math.round((d-b)/4),g=Math.round((c-e)/4),h=new Coord({x:b,y:c}),i=new Coord({x:b,y:c-g}),j=new Coord({x:b+f,y:c}),k=new Coord({x:d,y:c}),l=new Coord({x:d-f,y:c}),m=new Coord({x:d,y:c-g}),n=new Coord({x:d,y:e}),o=new Coord({x:d,y:e+g}),p=new Coord({x:d-f,y:e}),q=new Coord({x:b,y:e}),r=new Coord({x:b+f,y:e}),s=new Coord({x:b,y:e+g}),t=[];t[0]=new PathPoint({P:h,H1:i,H2:j}),t[1]=new PathPoint({P:k,H1:l,H2:m}),t[2]=new PathPoint({P:n,H1:o,H2:p}),t[3]=new PathPoint({P:q,H1:r,H2:s});var u=new Path({pathpoints:t,leftx:b,rightx:d,topy:c,bottomy:e});return u}function ovalPathFromCorners(a){var b=a.leftx,c=a.topy,d=a.rightx,e=a.bottomy,f=Math.round((d-b)/2),g=Math.round((c-e)/2),h=Math.round(.448*f),i=Math.round(.448*g),j=new Coord({x:b+f,y:c}),k=new Coord({x:b+h,y:c}),l=new Coord({x:d-h,y:c}),m=new Coord({x:d,y:e+g}),n=new Coord({x:d,y:c-i}),o=new Coord({x:d,y:e-i}),p=new Coord({x:b+f,y:e}),q=new Coord({x:d-h,y:e}),r=new Coord({x:b+h,y:e}),s=new Coord({x:b,y:e+g}),t=new Coord({x:b,y:e+i}),u=new Coord({x:b,y:c-i}),v=[];return v[0]=new PathPoint({P:j,H1:k,H2:l,type:"symmetric"}),v[1]=new PathPoint({P:m,H1:n,H2:o,type:"symmetric"}),v[2]=new PathPoint({P:p,H1:q,H2:r,type:"symmetric"}),v[3]=new PathPoint({P:s,H1:t,H2:u,type:"symmetric"}),new Path({pathpoints:v})}function addShape(a){return a?a.link?_UI.selectedtool="shaperesize":a.path&&"shapemove"==_UI.selectedtool&&deubg("ADDSHAPE triggered as true: newshape.path && _UI.selectedtool == shapemove \n >> NOT calling calcmaxes, okay?"):(a=new Shape({}),a.name="layer "+_UI.shapelayers.length),"character edit"==_UI.navhere&&(_UI.selectedshape=_UI.shapelayers.length,_UI.navprimaryhere="npAttributes"),_UI.shapelayers.push(a),updateCurrentCharWidth(),a}function addBasicShape(a){var b=50,c=500,d=300,e=new Shape({}),f=!1,g="layer ";if("oval"==a){var h=new PathPoint({P:new Coord({x:0,y:c/2}),H1:new Coord({x:0,y:b}),H2:new Coord({x:0,y:c-b}),type:"symmetric"}),i=new PathPoint({P:new Coord({x:d/2,y:c}),H1:new Coord({x:b,y:c}),H2:new Coord({x:d-b,y:c}),type:"symmetric"}),j=new PathPoint({P:new Coord({x:d,y:c/2}),H1:new Coord({x:d,y:c-b}),H2:new Coord({x:d,y:b}),type:"symmetric"}),k=new PathPoint({P:new Coord({x:d/2,y:0}),H1:new Coord({x:d-b,y:0}),H2:new Coord({x:b,y:0}),type:"symmetric"});f=[h,i,j,k],g="oval "}else{var h=new PathPoint({P:new Coord({x:0,y:0}),H1:new Coord({x:b,y:0}),H2:new Coord({x:0,y:b})}),i=new PathPoint({P:new Coord({x:0,y:c}),H1:new Coord({x:0,y:c-b}),H2:new Coord({x:b,y:c})}),j=new PathPoint({P:new Coord({x:d,y:c}),H1:new Coord({x:d-b,y:c}),H2:new Coord({x:d,y:c-b})}),k=new PathPoint({P:new Coord({x:d,y:0}),H1:new Coord({x:d,y:b}),H2:new Coord({x:d-b,y:0})});f=[h,i,j,k],g="rect "}e.path=new Path({pathpoints:f}),e.name=g+_UI.shapelayers.length,"character edit"==_UI.navhere&&(_UI.selectedshape=_UI.shapelayers.length),_UI.shapelayers.push(e),updateCurrentCharWidth()}function deleteShape(){_UI.shapelayers[_UI.selectedshape].link&&removeFromUsedIn(_UI.shapelayers[_UI.selectedshape].link,_UI.selectedchar),_UI.shapelayers.length>0&&_UI.selectedshape>=0&&(_UI.shapelayers.splice(_UI.selectedshape,1),_UI.shapelayers.length==_UI.selectedshape&&(_UI.selectedshape=_UI.selectedshape-1)),_UI.selectedshape>=0&&_UI.shapelayers[_UI.selectedshape].link&&(_UI.selectedtool="shaperesize"),updateCurrentCharWidth()}function clickSelectShape(a,b){if("linked shapes"==_UI.navhere)return clickSelectLinkedShape(a,b);for(var c,d=_UI.shapelayers.length-1;d>=0;d--)if(c=_UI.shapelayers[d],c.isHere(a,b))return c.link||c.path.selectPathPoint(!1),d!=_UI.selectedshape&&(_UI.selectedshape=d,c.link&&(_UI.selectedtool="shaperesize")),_UI.navprimaryhere="npAttributes",!0;return _UI.selectedshape=-1,!1}function ss(){return"linked shapes"==_UI.navhere?_GP.linkedshapes[_UI.shownlinkedshape].shape:-1!=_UI.selectedshape?_UI.selectedshape>=0&&_UI.selectedshape<_UI.shapelayers.length?_UI.shapelayers[_UI.selectedshape]:(_UI.selectedshape=-1,!1):!1}function loadPage_about(){var a="<div class='pagecontent textpage'><h1>About Glyphr</h1><h2 style='margin-bottom:12px;'>"+_UI.thisGlyphrStudioVersion+"</h2>"+"For more informaiton visit <a href='http://www.glyphrstudio.com' target=_new>www.glyphrstudio.com</a><br>"+"Any questions? Hit up <a href='mailto:mail@glyphrstudio.com'>mail@glyphrstudio.com</a>, and we'd be happy to help out."+"<br><br>"+"The currently opened project was created with: "+_GP.projectsettings.version+"<br>"+"Glyphr projects may be incompatible with different Beta versions of Glyphr Studio.<br><br>"+"Glyphr is licensed under a <a href='http://creativecommons.org/licenses/by-sa/3.0/' target=_new>Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.<br>"+"Which basically means you can use Glyphr for commercial purposes, remix and adapt Glyphr to your own needs, and re-share Glyphr with the same license applied."+"<br><br>";document.getElementById("mainpane").innerHTML=a}function loadPage_charedit(){document.getElementById("mainpane").innerHTML=charedit_content(),setupEditCanvas(),setupGhostCanvas(),initEventHandlers(),_UI.selectedtool="pathedit",redraw("loadPage_charedit")}function charedit_content(){var a='<canvas id="chareditcanvas" width=12 height=12 ></canvas>';return a+='<div id="toolsarea"> [ERROR: Uninitialized content] </div>'}function updateselectchar(a){var b="<div class='charselectarea'>";a=a?a:"selectchar",_UI.selectchardrawarr=[];for(var c=65;91>c;c++)b+=buildbutton(c,a);b+="<div style='display:block; clear:all;'></div>";for(var c=97;123>c;c++)b+=buildbutton(c,a);b+="<div style='display:block; clear:all;'></div>";for(var c=33;48>c;c++)b+=buildbutton(c,a);for(var c=58;65>c;c++)b+=buildbutton(c,a);for(var c=91;97>c;c++)b+=buildbutton(c,a);for(var c=123;127>c;c++)b+=buildbutton(c,a);return b+="<div style='display:block; clear:all;'></div>",b+=buildbutton(32,a),b+="</div>"}function drawselectcharthumbs(){for(var a=_GP.projectsettings,b=(_UI.thumbsize-2*_UI.thumbgutter)/a.upm,c=_UI.thumbgutter+a.ascent*b,d=0;d<_UI.selectchardrawarr.length;d++){var e=_UI.selectchardrawarr[d],f=document.getElementById("cs"+e);f.width=_UI.thumbsize,f.height=_UI.thumbsize;var g=f.getContext("2d");_GP.fontchars[e].drawCharToArea(g,{dz:b,dx:_UI.thumbgutter,dy:c})}}function buildbutton(a,b){var c=b+"("+a+");",d="<div class='charselectbuttonwrapper' onclick='"+c+"' title='"+_GP.fontchars[a].charname+"'>",e=_GP.fontchars[a].charvalue==_GP.fontchars[_UI.selectedchar].charvalue;if(e&="linked shapes"!=_UI.navhere,_GP.fontchars[a].charshapes[0]){var f="";e&&(f=" charselectcanvassel"),d+="<canvas id='cs"+a+"' class='charselectcanvas"+f+"'></canvas>",_UI.selectchardrawarr.push(a)}else{d+=e?"<div class='charselectbuttonsel'":"<div class='charselectbutton'",32==a&&(d+=" style='font-size:13px; padding-top:15px;'"),d+=">";var g=_GP.fontchars[a].charvalue;"'"==g&&(g="&#39"),d+=g+"</div>"}return d+="</div>"}function selectchar(a,b){_UI.selectedchar=a,_UI.shapelayers=_GP.fontchars[a].charshapes,_UI.selectedshape=-1,b||navigate("npAttributes")}function setupGhostCanvas(){_UI.ishereghostcanvas=document.getElementById("ishereghostcanvas"),_UI.ishereghostcanvas.height=_UI.chareditcanvassize,_UI.ishereghostcanvas.width=_UI.chareditcanvassize,_UI.ishereghostctx=_UI.ishereghostcanvas.getContext("2d"),_UI.ishereghostctx.fillStyle="cyan",_UI.ishereghostctx.globalAlpha=.5,_UI.ishereghostcanvas.style.backgroundColor="transparent"}function setupEditCanvas(){_UI.chareditcanvas=document.getElementById("chareditcanvas"),_UI.chareditcanvas.height=_UI.chareditcanvassize,_UI.chareditcanvas.width=_UI.chareditcanvassize,_UI.chareditctx=_UI.chareditcanvas.getContext("2d"),_UI.chareditcanvas.onselectstart=function(){return!1},_UI.chareditcanvas.onmouseout=mouseoutcec,_UI.chareditcanvas.onmouseover=mouseovercec}function resetCursor(){document.body.style.cursor="default"}function setView(a){var b=_UI.selectedchar,c=_UI.views;isval(c[b])||(c[b]=getView("setView")),isval(a.dx)&&(c[b].dx=a.dx),isval(a.dy)&&(c[b].dy=a.dy),isval(a.dz)&&(c[b].dz=a.dz)}function getView(){var b=_UI.selectedchar,c=_UI.views;return isval(c[b])?clone(c[b]):clone(_UI.defaultview)}function viewZoom(a){setView({dz:getView("viewZoom").dz*=a}),redraw("viewZoom")}function resetThumbView(){var a=(_UI.thumbsize-2*_UI.thumbgutter)/_GP.projectsettings.upm;_UI.thumbview={dx:_UI.thumbgutter,dy:_UI.thumbgutter+_GP.projectsettings.ascent*a,dz:a}}function redraw(){if("linked shapes"==_UI.navhere)return _UI.redrawing=!1,linkedshapesredraw("redraw"),void 0;if(!_UI.redrawing){_UI.redrawing=!0;var b=_GP.fontchars[_UI.selectedchar];_UI.chareditctx.clearRect(0,0,_UI.chareditcanvassize,_UI.chareditcanvassize),grid(),_UI.shapelayers=b.charshapes,b.drawCharToArea(_UI.chareditctx,getView("Redraw"));var c=ss("Redraw");c&&(c.drawSelectOutline(0!=c.link),c.link&&(_UI.selectedtool="shaperesize")),updateNavPrimaryNavTarget(),updatetools(),_UI.redrawing=!1}}function updateCharEditDetails(){var a=ss("update details"),b=!1;a&&!a.link&&(b=a.path.sp(!1)),"pathedit"!=_UI.selectedtool&&(b=!1);var c="";c="linked shapes"==_UI.navhere?"<h1>"+_GP.linkedshapes[_UI.shownlinkedshape].shape.name+"</h1>":"<h1>attributes</h1>",_UI.locarr=[],_UI.checkarr=[],c+="<table class='detail'>","character edit"==_UI.navhere?(a&&a.link?c+=linkedShapeInstanceDetails(a):a?(c+=shapeDetails(a),b&&(c+=pointDetails(a))):c+=charDetails(),c+="</table><br>",c+=updateactions()):"linked shapes"==_UI.navhere&&(a&&(c+=shapeDetails(a),b&&(c+=pointDetails(a))),c+=linkedShapeCharDetails(),c+="</table><br>",c+=updatelinkedshapeactions());try{document.getElementById("navtargetpane").innerHTML=c}catch(d){console.error("UPDATEDETAILS - innerHTML update error caught")}b?drawPointButtons(a):!1,"linked shapes"==_UI.navhere&&drawUsedinThumbs();for(var e=0;e<_UI.locarr.length;e++){var f="locid"+e,g=document.getElementById(f);if(g){g.height=11,g.width=11;var h=_UI.locarr[e]?_UI.colors.button_selected:_UI.colors.button_resting;drawLockButton(g,h)}}_UI.locid=0;for(var i=0;i<_UI.checkarr.length;i++){var j="checkid"+i,g=document.getElementById(j);g&&(g.height=15,g.width=15,drawCheckbox(g,_UI.checkarr[i]))}_UI.checkid=0}function charDetails(){var b=_GP.fontchars[_UI.selectedchar],c="";return c+="<tr><td colspan=3><h3>character "+b.charvalue+"</h3></td></tr>",c+="<tr><td class='leftcol'>&nbsp;</td><td style='margin-top:0px; padding-top:0px;'> auto width </td><td class='rightcol'>"+checkUI("_GP.fontchars[_UI.selectedchar].isautowide="+!b.isautowide+'; redraw("charDetails");',b.isautowide)+"</td>"+"</tr>",c+=b.isautowide?"<tr><td class='leftcol'>&nbsp;</td><td> width <span class='unit'>(em units)</span> </td><td class='rightcol'><input type='text' disabled='disabled' value='"+rounddec(b.charwidth)+"'/></td>"+"</tr>":"<tr><td class='leftcol'>&nbsp;</td><td> width <span class='unit'>(em units)</span> </td><td class='rightcol'><input class='input' type='text' value='"+rounddec(b.charwidth)+"' onchange='_GP.fontchars[_UI.selectedchar].charwidth = (this.value*1); redraw(\"charDetails\");'>"+spinner()+"</td>"+"</tr>",c+="<tr><td class='leftcol'>&nbsp;</td><td> width <span class='unit'>(em %)</span> </td><td class='rightcol'><input type='text' disabled='disabled' value='"+rounddec(b.charwidth/_GP.projectsettings.upm)+"'/></td>"+"</tr>",c+="<tr><td colspan=3>&nbsp;</td></tr>",c+="<tr><td class='leftcol'>&nbsp;</td><td style='margin-top:0px; padding-top:0px;'> use default left side bearing </td><td class='rightcol'>"+checkUI("_GP.fontchars[_UI.selectedchar].leftsidebearing="+!b.leftsidebearing+'; redraw("charDetails");',!b.leftsidebearing)+"</td>"+"</tr>",b.leftsidebearing?(b.leftsidebearing===!0&&(b.leftsidebearing=_GP.projectsettings.defaultlsb),c+="<tr><td class='leftcol'>&nbsp;</td><td>left side bearing <span class='unit'>(em units)</span> </td><td class='rightcol'><input class='input' type='text' value='"+b.leftsidebearing+"' onchange='_GP.fontchars[_UI.selectedchar].leftsidebearing = (this.value*1); redraw(\"charDetails\");'>"+spinner()+"</td>"+"</tr>"):c+="<tr><td class='leftcol'>&nbsp;</td><td>left side bearing <span class='unit'>(em units)</span> </td><td class='rightcol'><input type='text' disabled='disabled' value='"+rounddec(_GP.projectsettings.defaultlsb)+"'/></td>"+"</tr>",c+="<tr><td colspan=3>&nbsp;</td></tr>",c+="<tr><td class='leftcol'>&nbsp;</td><td> number of shapes </td><td class='rightcol'><input type='text' disabled='disabled' value='"+_UI.shapelayers.length+"'/></td>"+"</tr>"}function shapeDetails(a){var b="";if(b+="<tr><td colspan=2><h3>shape</h3></td><td style='width:200px'>&nbsp;</td></tr>",b+="<tr><td class='leftcol'>&nbsp;</td><td style='margin-top:0px; padding-top:0px;'> name </td><td class='rightcol' style='margin-top:0px; padding-top:0px; padding-right:10px;'><input class='input' style='width:90%;' type='text' value='"+a.name+"' onchange='ss().changeShapeName(this.value);'></td>"+"</tr>",_UI.eventhandlers.temppathdragshape)b+="<tr><td class='leftcol'>"+lockUI("ss().xlock",a.xlock)+"</td>"+"<td> x </td>"+"<td class='rightcol'><input class='input' type='text' value='"+rounddec(_UI.eventhandlers.temppathdragshape.leftx)+"'>&nbsp;</td>"+"</tr>",b+="<tr><td class='leftcol'>"+lockUI("ss().ylock",a.ylock)+"</td>"+"<td> y </td>"+"<td class='rightcol'><input class='input' type='text' value='"+rounddec(_UI.eventhandlers.temppathdragshape.topy)+"'>&nbsp;</td>"+"</tr>",b+="<tr><td class='leftcol'>"+lockUI("ss().wlock",a.wlock)+"</td>"+"<td> width </td>"+"<td class='rightcol'><input class='input' type='text' value='"+rounddec(_UI.eventhandlers.temppathdragshape.rightx-_UI.eventhandlers.temppathdragshape.leftx)+"'>&nbsp;</td>"+"</tr>",b+="<tr><td class='leftcol'>"+lockUI("ss().hlock",a.hlock)+"</td>"+"<td> height </td>"+"<td class='rightcol'><input class='input' type='text' value='"+rounddec(_UI.eventhandlers.temppathdragshape.topy-_UI.eventhandlers.temppathdragshape.bottomy)+"'>&nbsp;</td>"+"</tr>";else{b+="<tr><td class='leftcol'>"+lockUI("ss().xlock",a.xlock)+"</td>"+"<td> shape x </td>"+"<td class='rightcol'><input class='input' type='text' "+(a.xlock?"disabled='disabled'":'onchange=\'if(!_UI.redrawing){ss().path.setLeftX(this.value); putundoq("Shape X Position"); redraw("shapeDetails - X Position");}\'')+" value='"+rounddec(a.path.leftx)+"' >"+(a.xlock?"":spinner())+"</td>"+"</tr>",b+="<tr><td class='leftcol'>"+lockUI("ss().ylock",a.ylock)+"</td>"+"<td> shape y </td>"+"<td class='rightcol'><input class='input' type='text' "+(a.ylock?"disabled='disabled'":'onchange=\'if(!_UI.redrawing){ss().path.setTopY(this.value); putundoq("Shape Y Position"); redraw("shapeDetails - Y Position");}\'')+" value='"+rounddec(a.path.topy)+"' >"+(a.ylock?"":spinner())+"</td>"+"</tr>";var c=a.path.rightx-a.path.leftx;b+="<tr><td class='leftcol'>"+lockUI("ss().wlock",a.wlock)+"</td>"+"<td> width </td>"+"<td class='rightcol'><input class='input' type='text' "+(a.wlock?"disabled='disabled'":"onchange='if(!_UI.redrawing){ss().path.updatePathSize((this.value-"+c+'),0); putundoq("Shape Width"); redraw("shapeDetails - Width");}\'')+" value='"+rounddec(c)+"' >"+(a.wlock?"":spinner())+"</td>"+"</tr>";var d=a.path.topy-a.path.bottomy;b+="<tr><td class='leftcol'>"+lockUI("ss().hlock",a.hlock)+"</td>"+"<td> height </td>"+"<td class='rightcol'><input class='input' type='text' "+(a.hlock?"disabled='disabled'":"onchange='if(!_UI.redrawing){ss().path.updatePathSize(0,(this.value-"+d+")); ss().path.updatePathPosition(0,((this.value-"+d+')*-1),true); putundoq("Shape Height"); redraw("shapeDetails - Height");}\'')+" value='"+rounddec(d)+"' >"+(a.hlock?"":spinner())+"</td>"+"</tr>"}return b+="<tr><td class='leftcol'>&nbsp;</td><td> direction </td><td class='rightcol'><input type='text' disabled='disabled' value='"+(0==a.path.clockwise?"unknown":a.path.clockwise>0?"counterclockwise":"clockwise")+"'/>"+"<input type='button' onclick='ss().path.reversePath();putundoq(\"Reverse Path Direction\");redraw(\"shapeDetails - Clockwise\");' value='"+(a.path.clockwise>0?"&#8635":"&#8634")+";' class='button spinnerbutton' style='width:40px;'/></td>"+"</tr>"}function pointDetails(a){var b=a.path.sp(),c="";return c+="<tr><td colspan=3><h3>path point</h3></td></tr>",c+="<tr><td class='leftcol'>&nbsp;</td><td> selected point </td><td class='rightcol'><input class='input' type='text' value='"+a.path.sp(!0)+"' onchange='ss().path.selectPathPoint(this.value); redraw(\"pointDetails\");'>"+spinner()+"</td>"+"</tr>",c+="<tr><td class='leftcol'>&nbsp;</td><td> point type </td><td class='rightcol'>  ",c+="<canvas class='canvasbutton' title='point type: corner' onclick='ss().path.sp().type = \"corner\"; putundoq(\"Point Type: Corner\"); redraw(\"pointDetails\");' id='pointcornercanvas'></canvas>",c+="<canvas class='canvasbutton' title='point type: flat' onclick='ss().path.sp().type = \"flat\"; putundoq(\"Point Type: Flat\"); redraw(\"pointDetails\");' id='pointflatcanvas'></canvas>",c+="<canvas class='canvasbutton' title='point type: symmetric' onclick='ss().path.sp().type = \"symmetric\"; putundoq(\"Point Type: Symmetric\"); redraw(\"pointDetails\");' id='pointsymmetriccanvas'></canvas>",c+="</td></tr>",c+="<tr><td class='leftcol'>"+lockUI("ss().path.sp().P.xlock",b.P.xlock)+"</td>"+"<td> point x </td>"+"<td class='rightcol'><input class='input' type='text' "+(b.P.xlock?"disabled='disabled'":'onchange=\'ss().path.sp().setPointPosition("P", Math.round(this.value), "null"); putundoq("Point X Position"); redraw("pointDetails");\'')+" value='"+rounddec(b.P.x)+"' >"+(b.P.xlock?"":spinner())+"</td>"+"</tr>",c+="<tr><td class='leftcol'>"+lockUI("ss().path.sp().P.ylock",b.P.ylock)+"</td>"+"<td> point y </td>"+"<td class='rightcol'><input class='input' type='text' "+(b.P.ylock?"disabled='disabled'":'onchange=\'ss().path.sp().setPointPosition("P", "null", Math.round(this.value)); putundoq("Point Y Position"); redraw("pointDetails");\'')+" value='"+rounddec(b.P.y)+"' >"+(b.P.ylock?"":spinner())+"</td>"+"</tr>",c+="<tr><td colspan=3><h3>handle 1 <span class='unit'>(before the point)</span></h3></td></tr>",c+="<tr><td class='leftcol'>&nbsp;</td><td> use handle 1 </td><td class='rightcol'>"+checkUI("ss().path.sp().useh1="+!b.useh1+'; putundoq("Use H1"); ss().path.calcMaxes(); redraw("pointDetails");',b.useh1)+"</td>"+"</tr>",b.useh1&&(c+="<tr><td class='leftcol'>"+lockUI("ss().path.sp().H1.xlock",b.H1.xlock)+"</td>"+"<td> handle 1 x </td>"+"<td class='rightcol'><input class='input' type='text' "+(b.H1.xlock?"disabled='disabled'":'onchange=\'ss().path.sp().setPointPosition("H1", Math.round(this.value), "null"); putundoq("H1 X Position"); redraw("pointDetails");\'')+" value='"+rounddec(b.H1.x)+"' >"+(b.H1.xlock?"":spinner())+"</td>"+"</tr>",c+="<tr><td class='leftcol'>"+lockUI("ss().path.sp().H1.ylock",b.H1.ylock)+"</td>"+"<td> handle 1 y </td>"+"<td class='rightcol'><input class='input' type='text' "+(b.H1.ylock?"disabled='disabled'":'onchange=\'ss().path.sp().setPointPosition("H1", "null", Math.round(this.value)); putundoq("H1 Y Position"); redraw("pointDetails");\'')+" value='"+rounddec(b.H1.y)+"' >"+(b.H1.ylock?"":spinner())+"</td>"+"</tr>"),c+="<tr><td colspan=3><h3>handle 2 <span class='unit'>(after the point)</span></h3></td></tr>",c+="<tr><td class='leftcol'>&nbsp;</td><td> use handle 2 </td><td class='rightcol'>"+checkUI("ss().path.sp().useh2="+!b.useh2+'; putundoq("Use H2"); ss().path.calcMaxes(); redraw("pointDetails");',b.useh2)+"</td>"+"</tr>",b.useh2&&(c+="<tr><td class='leftcol'>"+lockUI("ss().path.sp().H2.xlock",b.H2.xlock)+"</td>"+"<td> handle 2 x </td>"+"<td class='rightcol'><input class='input' type='text' "+(b.H2.xlock?"disabled='disabled'":'onchange=\'ss().path.sp().setPointPosition("H2", Math.round(this.value), "null"); putundoq("H2 X Position"); redraw("pointDetails");\'')+" value='"+rounddec(b.H2.x)+"' >"+(b.H2.xlock?"":spinner())+"</td>"+"</tr>",c+="<tr><td class='leftcol'>"+lockUI("ss().path.sp().H2.ylock",b.H2.ylock)+"</td>"+"<td> handle 2 y </td>"+"<td class='rightcol'><input class='input' type='text' "+(b.H2.ylock?"disabled='disabled'":'onchange=\'ss().path.sp().setPointPosition("H2", "null", Math.round(this.value)); putundoq("H2 Y Position y"); redraw("pointDetails");\'')+" value='"+rounddec(b.H2.y)+"' >"+(b.H2.ylock?"":spinner())+"</td>"+"</tr>"),c}function drawPointButtons(a){var c,d,e,b=a.path.sp();d=document.getElementById("pointcornercanvas"),d.height=15,d.width=15,d.style.backgroundColor="transparent",c=d.getContext("2d"),e="corner"==b.type?_UI.colors.button_selected:_UI.colors.button_resting,drawPointCornerButton(c,e),d=document.getElementById("pointflatcanvas"),d.height=15,d.width=15,d.style.backgroundColor="transparent",c=d.getContext("2d"),e="flat"==b.type?_UI.colors.button_selected:_UI.colors.button_resting,drawPointFlatButton(c,e),d=document.getElementById("pointsymmetriccanvas"),d.height=15,d.width=15,d.style.backgroundColor="transparent",c=d.getContext("2d"),e="symmetric"==b.type?_UI.colors.button_selected:_UI.colors.button_resting,drawPointSymmetricButton(c,e)}function lockUI(a,b){var c="<canvas id='locid"+_UI.locid+"' ";return _UI.locarr[_UI.locid]=b,_UI.locid=1*_UI.locid+1,c+=" onclick='"+a+" = "+!b+'; redraw("lockUI");\'></canvas>'}function checkUI(a,b){var c="<canvas id='checkid"+_UI.checkid+"' ";return _UI.checkarr[_UI.checkid]=b,_UI.checkid=1*_UI.checkid+1,c+=" onclick='"+a+"'></canvas>"}function rounddec(a){a=a?a:0;var b=a.toString().split(".");return 1==b.length?b:""+b[0]+"."+b[1].substr(0,3)}function updateactions(){var a="<h1>actions</h1><table class='actionsgrid'><tr>",b=ss("Update Actions"),c="<td><h3>universal</h3>";c+="<input  class='"+(_UI.charundoq.length>0?"button":"buttondis")+"' type='button' value='Undo"+(_UI.charundoq.length>0?" "+_UI.charundoq.length:"")+"' onclick='pullundoq()'><br>",c+="<input class='button' type='button' value='add new shape' onclick='addShape();putundoq(\"Add Shape\");redraw(\"updateactions\");'><br>",c+="<input class='button' type='button' value='add linked shape' onclick='insertLinkedShapeDialog();'><br>",c+="<input class='"+(_UI.clipboardshape?"button":"buttondis")+"' type='button' value='Paste' onclick='pasteShape();putundoq(\"Paste Shape\");redraw(\"updateactions\");'><br>",c+="</td>";var d="<td><h3>shape</h3>";d+="<input class='"+(b?"button":"buttondis")+"' type='button' value='Copy' onclick='copyShape()'><br>",d+="<input class='"+(b?"button":"buttondis")+"' type='button' value='Flip Horizontal' onclick='ss().path.flipEW();putundoq(\"Flip Shape Horizontal\");redraw(\"updateactions\");'><br>",d+="<input class='"+(b?"button":"buttondis")+"' type='button' value='Flip Vertical' onclick='ss().path.flipNS();putundoq(\"Flip Shape Vertical\");redraw(\"updateactions\");'><br>",d+="<input class='"+(b?"button":"buttondis")+"' type='button' value='Delete' onclick='deleteShape();putundoq(\"Delete Shape\");redraw(\"updateactions\");'><br>",d+="</td>";var e="<td><h3>layer</h3>";e+="<input class='"+(b?"button":"buttondis")+"' type='button' value='Move Up' onclick='moveupShape();putundoq(\"Move Shape Layer Up\");'><br>",e+="<input class='"+(b?"button":"buttondis")+"' type='button' value='Move Down' onclick='movedownShape();putundoq(\"Move Shape Layer Down\");'><br>",e+="</td>";var f="<td><h3>editor view</h3>";f+="<input class='button' type='button' value='Toggle Grid' onclick='_UI.showgrid? _UI.showgrid=false : _UI.showgrid=true; redraw(\"updateactions\");'><br>",f+="<input class='button' type='button' value='Toggle Guides' onclick='_UI.showguides? _UI.showguides=false : _UI.showguides=true; redraw(\"updateactions\");'><br>",f+="</td>";var g="<td><h3>path point</h3>";g+="<input class='button' type='button' value='Insert' onclick='ss().path.insertPathPoint(); putundoq(\"Insert Path Point\"); redraw(\"updateactions\");'><br>",g+="<input class='"+(b?"button":"buttondis")+"' type='button' value='Delete' onclick='ss().path.deletePathPoint(); putundoq(\"Delete Path Point\"); redraw(\"updateactions\");'><br>",g+="<input class='button' type='button' value='Reset Handles' onclick='ss().path.sp().resetHandles(); putundoq(\"Reset Path Point\"); redraw(\"updateactions\");'><br>",g+="</td>",a+=c,a+=_UI.shapelayers.length>0?d:"<td> &nbsp; </td>";var h=!1;return b&&!b.link&&(h=b.path.sp(!1)),"pathedit"!=_UI.selectedtool&&(h=!1),a+=h?g:"<td> &nbsp; </td>",a+="</tr><tr>",a+=f,_UI.shapelayers.length>1&&(a+=e),a+="</td></tr></table><br><br>"}function updateLayerActions(){var a="<h1>actions</h1><table class='actionsgrid'><tr>",b=ss("Update Actions"),c="<td><h3>shape</h3>";c+="<input class='button' type='button' value='add new shape' onclick='addShape();putundoq(\"Add Shape\");redraw(\"updateLayerActions\");'><br>",c+="<input class='button' type='button' value='add linked shape' onclick='insertLinkedShapeDialog();'><br>";var d="<input class='"+(b?"button":"buttondis")+"' type='button' value='Delete' onclick='deleteShape();putundoq(\"Delete Shape\");redraw(\"updateLayerActions\");'><br>",e="<td><h3>layer</h3>";return e+="<input class='"+(b?"button":"buttondis")+"' type='button' value='Move Up' onclick='moveupShape();putundoq(\"Move Shape Layer Up\");'><br>",e+="<input class='"+(b?"button":"buttondis")+"' type='button' value='Move Down' onclick='movedownShape();putundoq(\"Move Shape Layer Down\");'><br>",e+="</td>",a+=c,_UI.shapelayers.length>0&&(a+=d),a+="</td>",_UI.shapelayers.length>1&&(a+=e),a+="<td> &nbsp; </td></tr></table>"}function copyShape(){if("linked shapes"==_UI.navhere)_UI.clipboardshape={s:_GP.linkedshapes[_UI.shownlinkedshape].shape,c:_UI.shownlinkedshape};else if("character edit"==_UI.navhere){var a=ss("copy shape");a.link&&(a=_GP.linkedshapes[a.link].shape),a&&(_UI.clipboardshape={s:a,c:_UI.selectedchar}),redraw("copyShape")}}function pasteShape(){if(_UI.clipboardshape){var a=clone(_UI.clipboardshape.s);_UI.clipboardshape.c==_UI.selectedchar?a.path.updatePathPosition(20,20,!0):!0;var b=a.name,c=" (copy)",d=a.name.lastIndexOf("(copy");if(d>0){var e=b.substring(d+5);b=b.substring(0,d),")"==e?c="(copy 2)":(e=e.substring(1),e=e.substring(0,e.length-1),c="(copy "+(parseInt(e)+1)+")")}a.name=b+c,a.link&&addToUsedIn(a.link,_UI.selectedchar),addShape(a)}}function moveupShape(){var a=ss("Move Up Shape");if(a&&_UI.selectedshape<_UI.shapelayers.length-1){var b=_UI.shapelayers[_UI.selectedshape+1];_UI.shapelayers[_UI.selectedshape+1]=_UI.shapelayers[_UI.selectedshape],_UI.shapelayers[_UI.selectedshape]=b,_UI.selectedshape++,redraw("moveupShape")}}function movedownShape(){var a=ss("Move Down Shape");if(a&&_UI.selectedshape>0){var b=_UI.shapelayers[_UI.selectedshape-1];_UI.shapelayers[_UI.selectedshape-1]=_UI.shapelayers[_UI.selectedshape],_UI.shapelayers[_UI.selectedshape]=b,_UI.selectedshape--,redraw("movedownShape")}}function spinner(){var a="";return a+="<input type='button' value='&#9652;' class='button spinnerbutton' onclick='inc(this);'>",a+="<input type='button' value='&#9662;' class='button spinnerbutton' onclick='dec(this);'>"}function inc(a){a.parentNode.childNodes[0]&&(isNaN(a.parentNode.childNodes[0].value)&&(a.parentNode.childNodes[0].value=0),a.parentNode.childNodes[0].value=1*a.parentNode.childNodes[0].value+_GP.projectsettings.spinnervaluechange,a.parentNode.childNodes[0].onchange())}function dec(a){a.parentNode.childNodes[0]&&(isNaN(a.parentNode.childNodes[0].value)&&(a.parentNode.childNodes[0].value=0),a.parentNode.childNodes[0].value=1*a.parentNode.childNodes[0].value-_GP.projectsettings.spinnervaluechange,a.parentNode.childNodes[0].onchange())}function updatelayers(){var a="<h1>shapes</h1>";if(a+="<div style='height:7px; display:block;'></div>",_UI.shapelayers.length>0){a+="<table class='layertable'>";for(var b=_UI.shapelayers.length-1;b>=0;b--)a+=b==_UI.selectedshape?"<tr class='layersel'":"<tr class='layer'",a+=" onclick='_UI.selectedshape = "+b+'; redraw("updatelayers");\'>',a+="<td class='layerthumb'><canvas id='layerthumb"+b+"' height='"+_UI.thumbsize+"' width='"+_UI.thumbsize+"'></canvas></td>",a+="<td class='layername'>"+_UI.shapelayers[b].name,_UI.shapelayers[b].link&&(a+="<span class='layernote'>[linked to "+_GP.linkedshapes[_UI.shapelayers[b].link].shape.name+"]</span>"),a+="</td></tr>";a+="</table>"}else a+="<div style='margin-left:10px; font-style:oblique;'>No shapes exist yet.<br><br></div>";_UI.clipboardshape&&(a+="<br>Clipboard: "+_UI.clipboardshape.s.name),a+=updateLayerActions();try{document.getElementById("navtargetpane").innerHTML=a}catch(c){}if(_UI.shapelayers.length>0)for(var d={},e=!1,b=_UI.shapelayers.length-1;b>=0;b--)e=document.getElementById("layerthumb"+b),d=e.getContext("2d"),e.style.backgroundColor=_UI.colors.offwhite,b==_UI.selectedshape&&(e.style.backgroundColor="rgb(255,255,255)"),_UI.shapelayers[b].drawShapeToArea(d,_UI.thumbview)}function updatetools(){var a="",b=!0,c=ss("Charedit: UpdateTools");"linked shapes"==_UI.navhere&&(_GP.linkedshapes[_UI.selectedshape]||(c=!1)),"pathedit"==_UI.selectedtool?a="buttonsel tool":c.link?(a="buttondis tool",b=!1):a="button tool";var d="";d+="<div title='edit path' class='"+a+"' "+(b?"onclick='clicktool(\"pathedit\");'":"")+"/><canvas id='patheditbuttoncanvas'></canvas></div>",d+="<div title='move & resize shape' class='"+("shaperesize"==_UI.selectedtool?"buttonsel ":"button ")+"tool' onclick='clicktool(\"shaperesize\");'/><canvas id='shaperesizebuttoncanvas'></canvas></div>","character edit"==_UI.navhere&&(d+="<div class='tool' style='width:10px;'>&nbsp;</div>",d+="<div title='new rectangle shape' class='"+("newrect"==_UI.selectedtool?"buttonsel ":"button ")+"tool' onclick='clicktool(\"newrect\");'/><canvas id='newrectbuttoncanvas'></canvas></div>",d+="<div title='new oval shape' class='"+("newoval"==_UI.selectedtool?"buttonsel ":"button ")+"tool' onclick='clicktool(\"newoval\");'/><canvas id='newovalbuttoncanvas'></canvas></div>",d+="<div title='new path shape' class='"+("newpath"==_UI.selectedtool?"buttonsel ":"button ")+"tool' onclick='clicktool(\"newpath\");'/><canvas id='newpathbuttoncanvas'></canvas></div>"),d+="<div class='tool' style='width:10px;'>&nbsp;</div>",d+="<div title='scroll and pan' class='"+("pan"==_UI.selectedtool?"buttonsel ":"button ")+"tool' onclick='clicktool(\"pan\");'/><canvas id='panbuttoncanvas'></canvas></div>",d+="<div title='zoom: in' class='button tool' onclick='viewZoom(1.1);'><canvas id='zoominbuttoncanvas'></canvas></div>",d+="<div title='zoom: out' class='button tool' onclick='viewZoom(.9);'><canvas id='zoomoutbuttoncanvas'></canvas></div>",d+="<div title='zoom: one to one' class='button tool' onclick='setView({\"dz\":1});redraw(\"updatetools\");'><canvas id='zoom1to1buttoncanvas'></canvas></div>",d+="<div title='zoom: full em' class='button tool' onclick='setView(clone(_UI.defaultview)); redraw(\"updatetools\");'><canvas id='zoomembuttoncanvas'></canvas></div>",d+="<div title='zoom level' class='tool out'>"+round(100*getView("updatetools").dz,2)+"%</div>";try{document.getElementById("toolsarea").innerHTML=d}catch(e){console.error("UPDATETOOLS - innerHTML update error caught")}var f,g,h=19,i=16;g=document.getElementById("patheditbuttoncanvas"),g.height=h,g.width=i,g.style.backgroundColor="transparent",f=g.getContext("2d"),"pathedit"==_UI.selectedtool?drawPathEditButton(f,"white","black"):b?drawPathEditButton(f,"transparent",_UI.colors.accent):drawPathEditButton(f,"rgb(80,80,80)","rgb(80,80,80)"),g=document.getElementById("shaperesizebuttoncanvas"),g.height=h,g.width=i,g.style.margin="3px 3px 0px 3px",g.style.backgroundColor="transparent",f=g.getContext("2d"),"shaperesize"==_UI.selectedtool?drawShapeResizeButton(f,"white","black"):drawShapeResizeButton(f,"transparent",_UI.colors.accent),g=document.getElementById("panbuttoncanvas"),g.height=h,g.width=i,g.style.margin="3px 4px 0px 2px",g.style.backgroundColor="transparent",f=g.getContext("2d"),"pan"==_UI.selectedtool?drawPanButton(f,"white","black"):drawPanButton(f,_UI.colors.accent,"transparent"),g=document.getElementById("zoominbuttoncanvas"),g.height=h,g.width=i,g.style.margin="2px 4px 0px 2px",g.style.backgroundColor="transparent",f=g.getContext("2d"),drawZoomInButton(f,_UI.colors.accent,"transparent"),g=document.getElementById("zoomoutbuttoncanvas"),g.height=h,g.width=i,g.style.margin="2px 4px 0px 2px",g.style.backgroundColor="transparent",f=g.getContext("2d"),drawZoomOutButton(f,_UI.colors.accent,"transparent"),g=document.getElementById("zoom1to1buttoncanvas"),g.height=h,g.width=i,g.style.margin="2px 4px 0px 2px",g.style.backgroundColor="transparent",f=g.getContext("2d"),drawZoom1to1Button(f,_UI.colors.accent,"transparent"),g=document.getElementById("zoomembuttoncanvas"),g.height=h,g.width=i,g.style.margin="4px 4px 0px 3px",g.style.backgroundColor="transparent",f=g.getContext("2d"),drawZoomEmButton(f,_UI.colors.accent,"transparent"),"character edit"==_UI.navhere&&(g=document.getElementById("newrectbuttoncanvas"),g.height=h,g.width=i,g.style.margin="2px 4px 0px 4px",g.style.backgroundColor="transparent",f=g.getContext("2d"),"newrect"==_UI.selectedtool?drawNewRectButton(f,"white","black"):drawNewRectButton(f,"transparent",_UI.colors.accent),g=document.getElementById("newovalbuttoncanvas"),g.height=h,g.width=i,g.style.margin="2px 4px 0px 4px",g.style.backgroundColor="transparent",f=g.getContext("2d"),"newoval"==_UI.selectedtool?drawNewOvalButton(f,"white","black"):drawNewOvalButton(f,"transparent",_UI.colors.accent),g=document.getElementById("newpathbuttoncanvas"),g.height=h,g.width=i,g.style.margin="2px 4px 0px 4px",g.style.backgroundColor="transparent",f=g.getContext("2d"),"newpath"==_UI.selectedtool?drawNewPathButton(f,"white","black"):drawNewPathButton(f,"transparent",_UI.colors.accent))}function clicktool(a){_UI.selectedtool=a;var b=ss("clicktool");_UI.eventhandlers.eh_addpath.firstpoint=!0,"newrect"==a||"newoval"==a?_UI.selectedshape=-1:"newpath"==a?_UI.selectedshape=-1:"pathedit"==a?b&&b.path.selectPathPoint(0):(a="shapemove")&&b&&b.path.calcMaxes(),redraw("clicktool")}function grid(){var a=_GP.projectsettings,b=getView("grid");_UI.chareditctx.fillStyle=_UI.colors.offwhite,_UI.chareditctx.fillRect(0,0,99999,99999);var c=a.upm*b.dz;(_UI.chareditcanvassize*b.dz-c)/2,a.ascent*b.dz;var f={};f.xmax=_UI.chareditcanvassize,f.xmin=0,f.ymax=_UI.chareditcanvassize,f.ymin=0,_UI.chareditctx.fillStyle="white",_UI.chareditctx.fillRect(f.xmin,f.ymin,f.xmax-f.xmin,f.ymax-f.ymin);var g=b.dy-a.ascent*b.dz,h=b.dy-a.xheight*b.dz,i=b.dy-(a.ascent-a.upm)*b.dz,j=a.overshoot*b.dz,k=i+j+a.linegap*b.dz;if(_UI.showgrid||_UI.showguides){if(_UI.chareditctx.lineWidth=1,_UI.chareditctx.strokeStyle=_GP.projectsettings.color_grid,_UI.showgrid){for(var l=a.upm/a.griddivisions*b.dz,m=b.dx;m<f.xmax-1;m+=l)vertical(m,f.ymin,f.ymax);vertical(f.xmax+1,f.ymin,f.ymax);for(var m=b.dx;m>=f.xmin;m-=l)vertical(m,f.ymin,f.ymax);for(var m=b.dy;m<f.ymax-1;m+=l)horizontal(m,f.xmin,f.xmax);horizontal(f.ymax,f.xmin,f.xmax+1);for(var m=b.dy;m>=f.ymin;m-=l)horizontal(m,f.xmin,f.xmax)}if(_UI.showguides){if(_UI.chareditctx.strokeStyle=shiftColor(_GP.projectsettings.color_guideline,.8,!0),horizontal(h-j,f.xmin,f.xmax),horizontal(g-j,f.xmin,f.xmax),horizontal(b.dy+j,f.xmin,f.xmax),horizontal(i+j,f.xmin,f.xmax),horizontal(k,f.xmin,f.xmax),"character edit"==_UI.navhere){var n=_GP.fontchars[_UI.selectedchar];vertical(b.dx-b.dz*(n.leftsidebearing||_GP.projectsettings.defaultlsb),f.xmin,f.xmax),vertical(b.dx+b.dz*n.charwidth,f.xmin,f.xmax)}_UI.chareditctx.strokeStyle=shiftColor(_GP.projectsettings.color_guideline,.5,!0),horizontal(h,f.xmin,f.xmax),horizontal(g,f.xmin,f.xmax),horizontal(i,f.xmin,f.xmax),_UI.chareditctx.fillStyle=_GP.projectsettings.color_guideline,_UI.chareditctx.beginPath(),_UI.chareditctx.moveTo(b.dx,b.dy),_UI.chareditctx.lineTo(b.dx,b.dy+2*_GP.projectsettings.pointsize),_UI.chareditctx.lineTo(b.dx-2*_GP.projectsettings.pointsize,b.dy),_UI.chareditctx.closePath(),_UI.chareditctx.fill(),_UI.chareditctx.strokeStyle=_GP.projectsettings.color_guideline,horizontal(b.dy,f.xmin,f.xmax),vertical(b.dx,f.ymin,f.ymax)}}}function horizontal(a,b,c){a=Math.round(a)-.5,_UI.chareditctx.beginPath(),_UI.chareditctx.moveTo(b,a),_UI.chareditctx.lineTo(c,a),_UI.chareditctx.stroke(),_UI.chareditctx.closePath()}function vertical(a,b,c){a=Math.round(a)-.5,_UI.chareditctx.beginPath(),_UI.chareditctx.moveTo(a,b),_UI.chareditctx.lineTo(a,c+1),_UI.chareditctx.stroke(),_UI.chareditctx.closePath()}function loadPage_exportfont(){var a=document.getElementById("mainpane");a.innerHTML="<div class='pagecontent textpage'><h1>Export Font</h1>To transform your Glyphr Project into an OTF font, you must use a tool called TTX. You can learn more about TTX, and find donwload links for it, over at <a href='http://www.glyphrstudio.com/ttx/' target=_new>glyphrstudio.com/ttx</a>. Generate the .xml file below.  Once you have TTX installed, simply drag your .xml file over the TTX .exe program icon, and an OTF font will be generated.<br><br><input type='button' class='buttonsel' value='Generate TTX XML File' onclick='triggerTTXFileDownload()'></input><br><br></div>"}function loadPage_fontsettings(){var a=_GP.projectsettings,b="<div class='pagecontent textpage'><h1>Font Settings</h1>";b+="<p style='margin-bottom:20px;'>These properties are used by the Glyphr project while you are designing this font.  By default, these are the same as some of the OpenType settings below.<br><i>Values will be saved as you change them</i>.</p>",b+="<h3>Character Proportions</h3>",b+="Glyphr projects export OpenType fonts with PostScript outlines.  Characters in this kind of font have a total height of 1000 Em units. The baseline is the one main dividing line for each character, with the ascent and descent above it and below it. Some characters, like p and y, fall below the baseline into the descent.<br><table class='fontmetricstable'><tr><td>Ascent height: </td><td><input type='text' value='"+a.ascent+"' onchange='updateAscender(this.value);'>"+spinner()+"</td><td></td><td><span class='unit'>(em units)</span></td></tr>"+"<tr><td>Descent height: </td><td><input type='text' id='metric-des' disabled='disabled' value='"+(a.ascent-a.upm)+"'/></td><td></td><td><span class='unit'>(em units)</span></td></tr>"+"<tr><td>Total Units per Em: </td><td><input type='text' disabled='disabled' value='"+a.upm+"'/></td><td></td><td><span class='unit'>(em units)</span></td></tr>"+"</table><br>",b+="<h3>Default Left Side Bearing</h3>This is the amount of blank space that is added to the left of characters when they are displayed.  This metric can be set individually per character, but will default to this value if not set. <table class='fontmetricstable'><tr><td>Left Side Bearing: </td><td><input type='text' value='"+a.defaultlsb+"' onchange='_GP.projectsettings.lsb = this.value;'>"+spinner()+"</td><td><span class='unit'>(em units)</span></td></tr>"+"</table><br>",b+="<h3>Line Gap</h3>This is the amount of vertical space between characters on separate lines. This is recomended to be 20% to 25% of the total Units per Em.<table class='fontmetricstable'><tr><td>Line Gap: </td><td><input type='text' value='"+a.linegap+"' onchange='_GP.projectsettings.linegap = this.value;'>"+spinner()+"</td><td><span class='unit'>(em units)</span></td></tr>"+"</table><br>",b+="<br><h1>OpenType Properties</h1><p style='margin-bottom:20px;'>These properties will be saved directly to the various OpenType tables when the font is exported to TTX format.  More information about all of these properties can be found in the <a href='http://www.microsoft.com/typography/otspec/otff.htm#otttables' target=_new>OpenType Specification</a>.<br><i>Values will be saved as you change them</i>.</p>",b+="<h2>Tables</h2>";var c=_GP.opentypeproperties;b+="<h3>name</h3>",b+="<table class='opentypepropertiestable' cellpadding=0 cellspacing=0 border=0>";for(var d=0;d<c.name.length;d++)7!=d&&(b+="<tr><td class='propname'>"+c.name[d].key+"</td><td><input type='text' value='"+c.name[d].val+"' onchange='_GP.opentypeproperties.name["+d+"].val = this.value;' /></td></tr>");b+="</table>",b+="<h3>head</h3>",b+="<table class='opentypepropertiestable' cellpadding=0 cellspacing=0 border=0>";for(var d=0;d<c.head.length;d++)b+="<tr><td class='propname'>"+c.head[d].key+"</td><td><input type='text' value='"+c.head[d].val+'\' onchange=\'setOTprop("head", "'+c.head[d].key+"\", this.value);' /></td></tr>";b+="</table>",b+="<h3>os/2</h3>",b+="<table class='opentypepropertiestable' cellpadding=0 cellspacing=0 border=0>";for(var d=0;d<c.os_2.length;d++)b+="<tr><td class='propname'>"+c.os_2[d].key+"</td><td><input type='text' value='"+c.os_2[d].val+'\' onchange=\'setOTprop("os_2", "'+c.os_2[d].key+"\", this.value);' /></td></tr>";b+="</table>",b+="<h3>post</h3>",b+="<table class='opentypepropertiestable' cellpadding=0 cellspacing=0 border=0>";for(var d=0;d<c.post.length;d++)b+="<tr><td class='propname'>"+c.post[d].key+"</td><td><input type='text' value='"+c.post[d].val+'\' onchange=\'setOTprop("post", "'+c.post[d].key+"\", this.value);' /></td></tr>";b+="</table>",b+="<h3>cff</h3>",b+="<table class='opentypepropertiestable' cellpadding=0 cellspacing=0 border=0>";for(var d=0;d<c.cff.length;d++)b+="<tr><td class='propname'>"+c.cff[d].key+"</td><td><input type='text' value='"+c.cff[d].val+'\' onchange=\'setOTprop("cff", "'+c.cff[d].key+"\", this.value);' /></td></tr>";b+="</table>",b+="</div>",document.getElementById("mainpane").innerHTML=b}function updateAscender(a){var b=_GP.projectsettings;b.ascent=Math.max(0,Math.min(b.upm,Math.round(a))),document.getElementById("metric-des").value=b.ascent-b.upm}function loadPage_help(){var a="<div class='textpage pagecontent'><a name='top'></a>";a+="<h1>Help</h1><p>Peruse the document, but if you have any other questions, you can email <a href='mailto:mail@glyphrstudio.com'>mail@glyphrstudio.com</a>, and we'd be happy to help out.</p><h3>jump to a section</h3><p><a href='#nav_and_layout'>Navigation and Layout</a></p><p>Editing: &nbsp; <a href='#page_char_edit_and_linked_shapes'>Character Edit and Linked Shape Pages</a> &nbsp;<a href='#shape_editing'>Shape Editing</a> &nbsp;<a href='#edit_canvas_tools'>Canvas Tools</a> &nbsp;<br/>Attributes Panels: &nbsp; <a href='#attributes_character'>Character</a> &nbsp;<a href='#attributes_shape'>Shape</a> &nbsp;<a href='#attributes_path_point'>Path Point</a> &nbsp;<a href='#attributes_linked_shape'>Linked Shape</a> &nbsp;</p><p>Other Pages: &nbsp; <a href='#page_test_drive'>Test Drive</a> &nbsp;<a href='#page_font_settings'>Font Settings</a> &nbsp;<a href='#page_project_settings'>Project Settings</a> &nbsp;<a href='#page_open_project'>Open Project</a> &nbsp;<a href='#page_export_font'>Export Font</a> &nbsp;<a href='#page_about'>About</a> &nbsp;</p><br/><a name = 'nav_and_layout'></a><h2>Navigation and Layout</h2><a href='#top'><span class='unit'>(back to top)</span></a><p>The Glyphr Studio work space has three vertical areas: from left to right, the Navigation Bar, the Panel, and the Main Content area.  Selecting an icon in the Navigation Bar will update the Panel and the Main Content areas.  The top option in the Navigation Bar displays all the main pages in the Panel, allowing you to navigate around Glyphr Studio.</p><p>Some of the pages have additional Navigation Bar icons - like Attributes, Layers, and Character Selection - that are specific to character editing, or other activities.</p><p>The bottom-most icon in the Navigation Bar is a save icon - it does not actually navigate anywhere, but instead is just an omnipresent shortcut to save your Glyphr Project.  When there are changes that have not been saved, the save icon becomes slightly highlighted, and a diamond icon \u2756 will be added to the browser title.</p><br/><a name = 'page_char_edit_and_linked_shapes'></a><h2>Character Edit and Linked Shapes pages</h2><a href='#top'><span class='unit'>(back to top)</span></a><p>The Character Edit and Linked Shapes pages have many shape editing controls in common.  Linked Shapes are single outlines that can be inserted into many characters of a font.  Updating the Linked Shape will also update all the Linked Shape instances.  Characters in your font can have many shapes (both linked and not), so there is an added concept of Layers on the Character Edit page.</p><p>Linked Shapes are individual shapes that can be added to many Characters. Any time the Linked Shape is edited, all the Characters that use that Linked Shape are updated. There are many individual letter forms that are shared across characters in a single font - for example the round o form of the letters b, d, g, o, p, q. Linked Shapes were designed to make it easy to keep similar letter forms consistent across a font.</p><p>Creating new Linked Shapes, and adding a Linked Shape to a character can be done through the Actions list in the Attributes Panel. The Linked Shapes page is very similar to the Character Edit page. Each Linked Shape is just a single Shape, so there are no shape layers, or add shape buttons. The Linked Shapes page also displays all the shapes that use the current Linked Shape - they are displayed as a thumbnail in the lower left, and update as the Linked Shape is edited. Clicking on one of these thumbnails will navigate to the Character Edit page for that character.</p><br/><a name = 'shape_editing'></a><h2>Shape Editing</h2><a href='#top'><span class='unit'>(back to top)</span></a><p>Shape Editing concepts can be found on the Character Edit and Linked Shape pages.  In general, a font is just a collection of data, which can be represented hierarchically as:</p><p>Font<br/>- Character<br/>-- Shape<br/>--- Path<br/>---- Path Point<br/>----- Point and Handles<br/></p><p>This data, along with metadata and attributes for each, can be edited either in the Attributes Panel, or interactively using the Edit Canvas in the Content Area.</p><p>Many of these attributes can be locked by selecting the small lock icon to the left of the attribute.  This will stop this attribute from accidentally being changed, and in most cases, will limit what can be done on the Edit Canvas.</p><p>Unless otherwise noted, most attributes are in Em units.</p><br/><a name = 'edit_canvas_tools'></a><h2>Edit Canvas Tools</h2><a href='#top'><span class='unit'>(back to top)</span></a><p>In the Upper Left hand side of the Edit Canvas there are 10 tools. The currently selected tool has a blue background. The tools, from left to right, are:<ul>	<li><b>Point Select</b> - Selects and edits individual Path Points and Handles. It cannot move or resize shapes.</li>	<li><b>Shape Select</b> - Selects, moves, and resizes shapes. It cannot edit the individual path points.</li>	<li><b>New Rectangle / New Oval</b> - Click and drag to draw new Rectangles or Ovals.</li>	<li><b>New Path</b> - Draws a new path. Single clicking will create Path Points that do not have handles.  Clicking and dragging will add a Path Point where the click began, and also a symmetrical handle where the click ends.  To stop adding new Path Points, either click the first Path Point, or click off the Edit Canvas.</li>	<li><b>Pan Tool</b> - Moves the canvas up/down/left/right.<br/>The Keyboard Shortcut for this tool is the Spacebar.</li>	<li><b>Zoom In / Zoom Out</b> - The plus / minus buttons will increase or decrease the size of the Edit Canvas.<br/>The Keyboard Shortcut for this tool is the Mouse Scroll Wheel.</li>	<li><b>1:1 Button</b> - Sets the Zoom level where 1 Pixel = 1 Em Unit.</li>	<li><b>M Button (Em Square Button)</b> - Sets the Zoom level to display the entire Em square area </li>	<li><b>Zoom Percent</b> - Displays the current zoom level (read only).</li></ul></p><br/><a name = 'attributes_character'></a><h2>Attributes Panel - Character</h2>(Character Edit Page)<br/><a href='#top'><span class='unit'>(back to top)</span></a><p>When no shape is selected, the Attributes Panel shows attributes for the currently selected Character.<ul>	<li><b>Auto Width</b> - When selected, the width of the character will be calculated automatically based on the farthest right edge of all the Shapes in that character.</li>	<li><b>Width (em units)</b> - If Auto Width is set, this is a read-only attribute for how wide the character is in Em Units.  If Auto Width is not set, a width can be set manually for the character.</li>	<li><b>Width (em %)</b> - Read only display of how wide the character is as compared to the Em square.</li>	<li><b>Use Default Left Side Bearing</b> - When selected, the global default Left Side Bearing will be used for this character.  The Default Left Side Bearing can be updated in on the Font Settings page.  When not selected, the Left Side Bearing can be set manually for this character.</li>	<li><b>Left Side Bearing</b> - If Use Default Left Side Bearing is selected, this displays the inherited value.  If Use Default Left Side Bearing is not selected, this is where a custom value can be entered.</li>	<li><b>Number of Shapes</b> - A read only count of the number of shapes in this character.</li></ul></p><br/><a name = 'attributes_shape'></a><h2>Attributes Panel - Shape</h2>(Character Edit and Linked Shape Pages)<br/><a href='#top'><span class='unit'>(back to top)</span></a><p><ul>	<li><b>Name</b> - Any name you want to give this shape.</li>	<li><b>X/Y</b> - The shape's coordinates, as defined by the blue bounding box's upper left corner. </li>	<li><b>Height / Width</b> - Overall size dimensions of the shape. </li>	<li><b>Direction</b> - he clockwise or counterclockwise direction of Path Points along a Path determine if that path will additively or subtractively overlap with other Shapes in the character.</li></ul></p><br/><a name = 'attributes_path_point'></a><h2>Attributes Panel - Path Point </h2>(Character Edit and Linked Shape Pages)<br/><a href='#top'><span class='unit'>(back to top)</span></a><p><ul>	<li><b>Selected Point</b> - Displays which point is currently selected. 0 is the first Path Point.</li>	<li><b>Point Type</b> - Each Path Point has two handles that control the curve of the path before and after it. There are three kinds of Point Types: Corner (Handles can be anywhere), Flat (Handles will be in line with each other), and Symmetric (Handles will be in-line with each other and equidistant from the Path Point).</li>	<li><b>Point X/Y</b> - The Path Point's coordinates. </li>	<li><b>Use Handle 1/2</b> - Deselecting this will remove the handle, such that it will not impact the curvature of the path.</li>	<li><b>Handle 1 X/Y & Handle 2 X/Y</b> - The Handle's coordinates. </li></ul></p><br/><a name = 'attributes_linked_shape'></a><h2>Attributes Panel - Linked Shape Instance</h2>(Linked Shape Page)<br/><a href='#top'><span class='unit'>(back to top)</span></a><p><ul>	<li><b>Name</b> - Any name you want to give this Linked Shape Instance.  Can be different than the Linked Shape itself.</li>	<li><b>Use Linked Shape Position</b> - By default, a Linked Shape Instance is locked to the position of the Linked Shape.  Unchecking this option will give you the option to move the Linked Shape Instance.</li>	<li><b>\u0394X / \u0394Y</b> - When Use Linked Shape Position is unselected, these coordinates are used to move the Linked Shape Instance to a new location.  These are delta values, meaning they are relative to the original Linked Shape.</li>	<li><b>Linked Shape Name</b> - A read-only value of the Linked Shape that this Linked Shape Instance is linked to.</li>	<li><b>Edit This Linked Shape (action button)</b> - This will navigate to the Linked Shapes page, and allow you to make changes to the original Linked Shape.</li></ul></p><br/><a name = 'page_test_drive'></a><h2>Test Drive Page</h2><a href='#top'><span class='unit'>(back to top)</span></a><p>The Test Drive page is where your font can be tried out in real time. Typing in the upper textbox will display that same text in your font face in the lower box.</p><p>In the Attributes Panel, there is a list of Pangram buttons that will populate the upper textbox with sentences that contain all the letters of the alphabet. Similarly, there are buttons that will populate the upper textbox with certain character sets.</p><p>The Options area lets you change how your font is drawn to the lower box, including options for Font Size, Line Spacing, and Character Spacing.</p><p>The 'Generate PNG File' button will launch a new tab with an image of whatever is displayed in the lower box. Right-click the image to save the PNG file.</p><br/><a name = 'page_font_settings'></a><h2>Font Settings Page</h2><a href='#top'><span class='unit'>(back to top)</span></a><p>Font settings deal with global attributes that affect all characters in your font.  Glyphr Studio uses the properties in the Font Settings section to display and edit shapes:<ul>	<li><b>Character Proportions</b> - Characters have a total height of 1000 Units, called Em Units.  The baseline of that character splits the upper and lower portions of the character vertically.  Input an Ascent Height, and the Descent Height will be calculated automatically.</li>	<li><b>Default Left Side Bearing</b> - All characters a small amount of space to their left that separates them from another character to their left.  Individual Left Side Bearings can be edited in the Attributes Panel of that character.  But, to make things easier, if a specific Left Side Bearing is not set, this Default Left Side Bearing will be applied.</li>	<li><b>Line Gap</b> - This is the space between the bottom of the Em square of one line, and the top of the Em square of characters on a line underneath.</li></ul>Open Type Properties are a set of font metadata that is saved with the font file.  They include things like Font Name, Version Number, and other descriptive information.</p><br/><a name = 'page_project_settings'></a><h2>Project Settings Page</h2><a href='#top'><span class='unit'>(back to top)</span></a><p>This information does not necessarily have a direct effect on the Font itself, but is used to help with designing your font.  This information is saved when a Glyphr Project is saved, and will be imported when a saved project is loaded.  Viewing the Grids and Guides can be toggled from the Actions section of the Attribute Panel.<ul>	<li><b>Project Name</b> - Initially, this project name is used as the Font Name as well.  But, the Glyphr Project can have a different name from the Font itself, which can be edited here.</li>	<li><b>Grid System</b> - This can be helpful in visualizing shape dimensions, it draws a light gray grid across the Edit Canvas.  Input a number of divisions per Em.</li>	<li><b>X Height</b> - another main dividing line within a character is the 'x height'.  It is a shorthand way of describing the average height of lowercase letters in a font.</li>	<li><b>Overshoot</b> - Usually rounded shapes extend a small amount past guide lines, so rounded shapes visually appear to line up with squared shapes.  This will draw a light overshoot guideline past the Cap Height, X Height, and Baseline guidelines.</li></ul></p><br/><a name = 'page_open_project'></a><h2>Open Project Page</h2><a href='#top'><span class='unit'>(back to top)</span></a><p>There are two options for opening a new Glyphr Project: loading a previously-saved Glyphr Project file, or starting a new font from scratch. To load an existing Glyphr Project file, drag and drop the file onto the area indicated. To start a new project from scratch, edit the Project Name. The Font Name can be edited at any time from the Font Metadata page.</p><p>Loading or starting a new Glyphr Project will delete the current Glyphr Project, so be sure to save your existing project before loading or starting a new one.</p><br/><a name = 'page_export_font'></a><h2>Export Font Page</h2><a href='#top'><span class='unit'>(back to top)</span></a><p>This page has information about TTX, a program used to turn font files into XML, and XML files back into fonts.  Glyphr uses TTX as an intermediary step to create a font file.  Glyphr will generate a TTX XML file for you, which you can then use to generate an OpenType font file.</p><p>More information can be found at <a href='http://www.glyphrstudio.com/ttx' target=_new>glyphrstudio.com/ttx</a></p><br/><a name = 'page_about'></a><h2>About Page</h2><a href='#top'><span class='unit'>(back to top)</span></a><p>Displays various information about the currently loaded Glyphr Project, and the current Glyphr Studio being used.  Glyphr Projects created with different versions of Glyphr Studio may not play nicely together.</p>",a+="</div>",document.getElementById("mainpane").innerHTML=a}function loadPage_linkedshapes(){document.getElementById("mainpane").innerHTML=linkedshapes_content(),setupEditCanvas(),setupGhostCanvas(),initEventHandlers(),grid(),document.onkeypress=keypress,_UI.selectedshape=-1,linkedshapesredraw("loadPage_linkedshapes")}function linkedshapes_content(){var a='<canvas id="chareditcanvas" width=12 height=12 ></canvas>';return a+='<div id="toolsarea"> [ERROR: Uninitialized content] </div>',a+='<table class="charedittable" cellspacing=0 cellpadding=0 border=0><tr>',a+='<td id="detailsarea"> [ERROR: Uninitialized content] </td></tr>',a+='<tr><td id="actionsarea"> [ERROR: Uninitialized content] </td>',a+="</tr></table>"}function linkedshapes_subnav(){var a="<div class='subnavunit'>";a+="<table class='layertable'>";for(var b in _GP.linkedshapes)a+=makeSSSubnavButton(b);return a+="</table>",a+="<h1>actions</h1>",a+="<table class='actionsgrid'><tr><td><h3>linked shape</h3>",a+="<input class='button' type='button' value='create new' onclick='addLinkedShape();putundoq(\"Create New Linked Shape\");navigate();'><br>",a+="<input class='"+(aalength(_GP.linkedshapes)>1?"button":"buttondis")+"' type='button' value='delete' onclick='deleteLinkedShapeConfirm();'><br>",a+="<input class='button' type='button' value='insert to character' onclick='showAddSSToCharDialog();'><br>",a+="</td> &nbsp; </td></td> &nbsp; </td></tr></table>"}function drawLinkedShapeLayerThumbs(){var a=_GP.projectsettings,b={},c=!1,d=(_UI.thumbsize-2*_UI.thumbgutter)/a.upm,e=_UI.thumbgutter+a.ascent*d;for(var f in _GP.linkedshapes)c=document.getElementById("layerthumb"+f),b=c.getContext("2d"),c.style.backgroundColor=_UI.colors.offwhite,f==_UI.shownlinkedshape&&(c.style.backgroundColor="rgb(255,255,255)"),_GP.linkedshapes[f].shape.drawShapeToArea(b,{dz:d,dx:_UI.thumbgutter,dy:e})}function makeSSSubnavButton(a){var b="";return b+=a==_UI.shownlinkedshape?"<tr class='layersel'":"<tr class='layer'",b+=" onclick='makeLinkedShapeSelected(\""+a+"\");'>",b+="<td class='layerthumb'><canvas id='layerthumb"+a+"' height='"+_UI.thumbsize+"' width='"+_UI.thumbsize+"'></canvas></td>",b+="<td class='layername'>"+_GP.linkedshapes[a].shape.name+"</td></tr>"}function makeLinkedShapeSelected(a){_UI.shownlinkedshape=a,_UI.selectedshape=a,_UI.shapelayers=[_GP.linkedshapes[a].shape],navigate("npAttributes")}function linkedshapesredraw(){_UI.redrawing||(_UI.redrawing=!0,_UI.chareditctx.clearRect(0,0,5e3,5e3),grid(),vertical(_UI.chareditcanvassize.makeCrisp()),_GP.linkedshapes[_UI.shownlinkedshape].shape.drawShape_Single(_UI.chareditctx),_GP.linkedshapes[_UI.selectedshape]&&_GP.linkedshapes[_UI.selectedshape].shape.drawSelectOutline(),updateNavPrimaryNavTarget(),updatetools(),_UI.redrawing=!1)}function linkedShapeCharDetails(){var a="";return _GP.linkedshapes[_UI.shownlinkedshape].usedin.length>0?(a+="<table style='margin-top:10px;'><tr><td colspan=3><h3>characters that use this linked shape</h3>",a+=generateUsedinThumbs(),a+="</td></tr></table>"):a+="<table><tr><td>&nbsp;</td><td colspan=2><br><i>this linked shape is not currently being used by any characters. <a href='#' onclick='showAddSSToCharDialog();'>add this linked shape to a character now</a>.</i></td></tr></table>",a}function generateUsedinThumbs(){for(var a="<div class='ssthumbcontainer'>",b=_GP.linkedshapes[_UI.shownlinkedshape].usedin,c=b.filter(function(a,c){return b.indexOf(a)==c}),d=0;d<c.length;d++)a+="<table cellpadding=0 cellspacing=0 border=0><tr><td>",a+="<canvas id='thumb"+c[d]+"' class='ssusedinthumb' height="+_UI.thumbsize+"' width="+_UI.thumbsize+" onclick='goToEditChar("+1*c[d]+");'></canvas>",a+="</td></tr><tr><td>",a+=_GP.fontchars[1*c[d]].charvalue,a+="</td></tr></table>";return a+="</div>"}function goToEditChar(a){_UI.selectedshape=-1,_UI.selectedchar=a,_UI.navhere="character edit",_UI.navprimaryhere="npAttributes",navigate()}function drawUsedinThumbs(){for(var a=_GP.projectsettings,b=_GP.linkedshapes[_UI.shownlinkedshape].usedin,c={},d=(_UI.thumbsize-2*_UI.thumbgutter)/a.upm,e=_UI.thumbgutter+a.ascent*d,f=0;f<b.length;f++)c=document.getElementById("thumb"+b[f]).getContext("2d"),_GP.fontchars[b[f]].drawCharToArea(c,{dz:d,dx:_UI.thumbgutter,dy:e})}function updatelinkedshapeactions(){var a="<h1>actions</h1><table class='actionsgrid'><tr>",b=ss("Update Actions"),c="<td><h3>*</h3>";c+="<input class='"+(_UI.linkedshapeundoq.length>0?"button":"buttondis")+"' type='button' value='Undo"+(_UI.linkedshapeundoq.length>0?" "+_UI.linkedshapeundoq.length:"")+"' onclick='pullundoq()'><br>",c+="<input class='button' type='button' value='Copy' onclick='copyShape()'><br>",c+="</td>";var d="<td><h3>linked shape</h3>";d+="<input class='button' type='button' value='create new' onclick='addLinkedShape();putundoq(\"Create New Linked Shape\");navigate();'><br>",d+="<input class='"+(aalength(_GP.linkedshapes)>1?"button":"buttondis")+"' type='button' value='delete' onclick='deleteLinkedShapeConfirm();'><br>",d+="<input class='button' type='button' value='insert to character' onclick='showAddSSToCharDialog();'><br>";var e="";_UI.eventhandlers.temppathdragshape&&"pathedit"==_UI.selectedtool&&(e+="<td><h3>shape</h3>",e+="<input class='button' type='button' value='Flip Horizontal' onclick='ss().path.flipEW();putundoq(\"Flip Shape Horizontal\");redraw(\"updatelinkedshapeactions\");'><br>",e+="<input class='button' type='button' value='Flip Vertical' onclick='ss().path.flipNS();putundoq(\"Flip Shape Vertical\");redraw(\"updatelinkedshapeactions\");'><br>",e+="</td>");var f="<td><h3>editor view</h3>";f+="<input class='button' type='button' value='Toggle Grid' onclick='_UI.showgrid? _UI.showgrid=false : _UI.showgrid=true; redraw(\"updatelinkedshapeactions\");'><br>",f+="<input class='button' type='button' value='Toggle Guides' onclick='_UI.showguides? _UI.showguides=false : _UI.showguides=true; redraw(\"updatelinkedshapeactions\");'><br>",f+="</td>";var g="<td><h3>path point</h3>";g+="<input class='button' type='button' value='Insert' onclick='ss().path.insertPathPoint(); putundoq(\"Insert Path Point\"); redraw(\"updatelinkedshapeactions\");'><br>",g+="<input class='"+(b?"button":"buttondis")+"' type='button' value='Delete' onclick='ss().path.deletePathPoint(); putundoq(\"Delete Path Point\"); redraw(\"updatelinkedshapeactions\");'><br>",g+="<input class='button' type='button' value='Reset Handles' onclick='ss().path.sp().resetHandles(); putundoq(\"Reset Path Point\"); redraw(\"updatelinkedshapeactions\");'><br>",g+="</td>",a+=c,a+=d,a+=e;var h=!1;return b&&!b.link&&(h=b.path.sp(!1)),"pathedit"!=_UI.selectedtool&&(h=!1),a+=h?g:"<td><h3>&nbsp;</h3></td>",a+="</tr><tr>",a+=f,a+="</td></tr></table>"}function addLinkedShape(){var a=generateNewSSID(),b="linkedshape "+_GP.projectsettings.linkedshapecounter;_UI.shownlinkedshape=a,_UI.selectedshape=a,_GP.linkedshapes[a]=new LinkedShape({name:b})}function deleteLinkedShapeConfirm(){var a="Are you sure you want to delete this linked shape?<br>",b=_GP.linkedshapes[_UI.shownlinkedshape].usedin;if(b.length>0){a+="If you do, the linked shape instances will also be removed from the following characters:<br><br>";for(var c=0;c<b.length;c++)a+="&nbsp; &nbsp; "+_GP.fontchars[b[c]].charname.replace(/LATIN /gi,"")+"<br>"}else a+="This linked shape is not currently being used by any characters.<br>";a+="<br>Warning: This action cannot be undone!<br>",a+="<br><input type='button' value='permanently delete this linked shape' onclick='deleteLinkedShape();'> &nbsp; <input type='button' value='cancel' onclick='closeDialog();'>",openDialog(a)}function deleteLinkedShape(){if(closeDialog(),aalength(_GP.linkedshapes)>1){for(var a=_GP.linkedshapes[_UI.shownlinkedshape].usedin,b=0;b<a.length;b++)for(var c=_GP.fontchars[a[b]].charshapes,d=0;d<c.length;d++)c[d].link==_UI.shownlinkedshape&&c.splice(d,1);delete _GP.linkedshapes[_UI.shownlinkedshape],_UI.shownlinkedshape=getFirstLinkedShape(),_UI.selectedshape=_UI.shownlinkedshape,navigate()}else alert("Error: deleting the last linked shape should not have been an allowed action.")}function pasteLinkedShape(){_UI.clipboardshape&&(_GP.linkedshapes[_UI.shownlinkedshape].shape=_UI.clipboardshape)}function showAddSSToCharDialog(a){var b="<table style='width:756px'><tr><td>";b+=a?a:"There is currently "+_GP.linkedshapes[_UI.shownlinkedshape].usedin.length+" instances of '"+_GP.linkedshapes[_UI.shownlinkedshape].shape.name+"' being used.<br><br>",b+="Select the character into which you would like to insert this linked shape:<br><br></td></tr>",b+="<tr><td>",b+=updateselectchar("insertLinkedShapeToChar"),b+="</td></tr>",b+="<tr><td><br><input type='button' class='button' value='done' onclick='closeDialog();'/></td></tr></table>",openDialog(b),drawselectcharthumbs()}function insertLinkedShapeToChar(a){var b=_UI.selectedchar;selectchar(a,!0),insertLinkedShape(_UI.shownlinkedshape),_UI.selectedchar=b,putundoq("Insert Linked Shape to Character"),closeDialog(),showAddSSToCharDialog("The LinkedShape '"+_GP.linkedshapes[_UI.shownlinkedshape].shape.name+"' was successfully inserted into character "+_GP.fontchars[a].charname+".<br><br>")}function loadPage_openproject(){var a="<div class='pagecontent textpage'><h1>Open Project</h1><h2>But wait!</h2>If you open a new project, your current project will be lost.  Be sure to download a Glyphr project file if you want to save your current project.<br><br>		<input type='button' class='button'style='padding:10px;' value='Save current project' onclick='triggerProjectFileDownload();'/><br><br><h2>Okay, now...</h2>";a+=importOrCreateNew(),a+="</div>",document.getElementById("mainpane").innerHTML=a,document.getElementById("droptarget").addEventListener("dragover",handleDragOver,!1),document.getElementById("droptarget").addEventListener("drop",handleDrop,!1)}function loadPage_firstrun(){var a="<div class='splashscreen textpage'><canvas id='splashscreencanvas' height=494 width=800></canvas>";a+="<div class='splashver'>"+_UI.thisGlyphrStudioVersion+"<br><br>",a+="For more informaiton visit <a href='http://www.glyphrstudio.com' target=_new>www.glyphrstudio.com</a><br>",a+="Glyphr Studio is licensed under a <a href='http://creativecommons.org/licenses/by-sa/3.0/' target=_new>Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.<br>",a+="Which basically means you can use Glyphr Studio for commercial purposes, remix and adapt Glyphr Studio to your own needs, and re-share Glyphr Studio with the same license applied.",a+="</div>",a+=importOrCreateNew(),a+="</div>";var b=document.getElementById("mainpane");b.innerHTML=a,b.style.marginLeft="0px",document.getElementById("navprimarypane").style.display="none",document.getElementById("navtargetpane").style.display="none",document.getElementById("logocanvas").style.display="none",document.getElementById("droptarget").addEventListener("dragover",handleDragOver,!1),document.getElementById("droptarget").addEventListener("drop",handleDrop,!1),drawSplashScreen()}function handleDrop(a){a.stopPropagation(),a.preventDefault();var b=a.dataTransfer.files[0],c=new FileReader,d="";document.getElementById("droptarget").innerHTML="Loading File...",c.onload=function(){return function(){d=JSON.parse(c.result),d.projectsettings.version?hydrateGlyphrProject(d):(document.getElementById("droptarget").innerHTML="drop file here...",alert("File does not appear to be a Glyphr Project, try again..."))}}(b),c.readAsText(b)}function hydrateGlyphrProject(a){_GP=clone(_UI.default_GP),a.projectsettings&&(_GP.projectsettings=clone(a.projectsettings)),a.opentypeproperties&&(_GP.opentypeproperties=clone(a.opentypeproperties));for(var b in a.linkedshapes)a.linkedshapes.hasOwnProperty(b)&&(_GP.linkedshapes[b]=new LinkedShape(a.linkedshapes[b]));for(var c=0;c<a.fontchars.length;c++)a.fontchars[c]&&(_GP.fontchars[1*c]=new Char(a.fontchars[c]));finalizeGlyphrProject()}function handleDragOver(a){a.stopPropagation(),a.preventDefault(),a.dataTransfer.dropEffect="copy"}function importOrCreateNew(){var a="<table style='width:100%;'><tr><td style='padding-right:50px; width:45%;'><h3>Load an existing Glyphr Project</h3><div id='droptarget'>drop file here...</div></td><td style='width:9%'>&nbsp;</td></td><td style='width:45%;'><h3>Start a new Glyphr Project</h3>Project name: &nbsp; <input id='newprojectname' type='text' value='My Font'/><br><input type='button' class='buttonsel' value=' Start a new font from scratch ' onclick='newGlyphrProject()'><br><br></td></tr></table>";return a}function newGlyphrProject(){var a=document.getElementById("newprojectname").value;a=a?a:"My Font",_GP=clone(_UI.default_GP),_GP.projectsettings.name=a,_GP.opentypeproperties.name[1].val=a,_GP.opentypeproperties.name[3].val=a+" 1.0",_GP.opentypeproperties.name[4].val=a,_GP.opentypeproperties.name[6].val=a,setOTprop("cff","FullName",a),setOTprop("cff","FamilyName",a),setOTprop("head","created",ttxDateString()),_GP.projectsettings.version=_UI.thisGlyphrStudioVersion,_GP.fontchars=createNewFontcharsArray(),_GP.linkedshapes={},_GP.linkedshapes.id0=new LinkedShape({shape:new Shape({})}),finalizeGlyphrProject()}function finalizeGlyphrProject(){_UI.charcurrstate=clone(_GP.fontchars),_UI.linkcurrstate=clone(_GP.linkedshapes),isval(_GP.projectsettings.linkedshapecounter)||(_GP.projectsettings.linkedshapecounter=0),_UI.selectedchar=97,_UI.shownlinkedshape=getFirstLinkedShape(),resetThumbView(),_UI.navhere="character edit",navigate()}function loadPage_projectsettings(){var a=_GP.projectsettings,b="<div class='pagecontent textpage'><h1>Project Settings</h1>";b+="These project and interface settings will be saved with your Glyphr project file.",b+="<h2>Project Name</h2>The Font Name and the Project name can be different, but they start out the same.  The Font Name details can be changed on the Font Settings page.<table class='fontmetricstable'><tr><td>Project Name:</td><td><input type='text' style='width:100%' value='"+a.name+"' onchange='_GP.projectsettings.name = this.value;' /></td></tr>"+"</table><br>",b+="<h2>Grids and Guides</h2>",b+="<h3>Grid System</h3>",b+="Defining a grid system to use while editing characters in this font makes stuff a whole lot easier.  This number is the number of vertical and horizontal divisions to use, it should divide evenly into the Units per Em.<br><table class='fontmetricstable'><tr><td>Units per Em:</td><td><input type='text' disabled='disabled' value='"+a.upm+"'/></td><td><span class='unit'>(total)</span></td></tr>"+"<tr><td>Grid Divisions</td><td><input type='text' value='"+a.griddivisions+"' onchange='updateGridDivisions(this.value);'/>"+spinner()+"</td><td><span class='unit'>(number)</span></td></tr>"+"<tr><td>Grid Square Size:</td><td><input type='text' id='metirc-ssize' disabled='disabled' value='"+a.upm/a.griddivisions+"'/></td><td><span class='unit'>(em units)</span></td></tr>"+"</table><br>",b+="<h3>x Height</h3>",b+="X-height is the distance between the baseline, and the top of lowercase letters.<br><table class='fontmetricstable'><tr><td>x Height: </td><td><input type='text' id='metric-xheight' value='"+a.xheight+"' onchange='_GP.projectsettings.xheight = this.value'>"+spinner()+"</td><td><span class='unit'>(em units)</span></td></tr>"+"</table><br>",b+="<h3>Overshoot</h3>",b+="Round letters usually extend a little above the x height line and below the baseline. A light guideline will show this overshoot distance.<br><table class='fontmetricstable'><tr><td>Overshoot:</td><td><input type='text' value='"+a.overshoot+"' onchange='_GP.projectsettings.overshoot = this.value);'>"+spinner()+"</td><td><span class='unit'>(em units)</span></td></tr>"+"</table><br>",b+="</div>",document.getElementById("mainpane").innerHTML=b}function updateGridDivisions(a){var b=_GP.projectsettings;b.griddivisions=Math.min(b.upm,Math.max(1,a)),document.getElementById("metirc-ssize").value=b.upm/b.griddivisions}function loadPage_testdrive(){var a="<div class='pagecontent'><h1>Test Drive</h1><textarea id='tdtextarea' onkeyup='updateTestdriveCanvas()'></textarea><br><canvas id='tdcanvas'></canvas><br><div id='genimg' style='display:none;'></div></div>";document.getElementById("mainpane").innerHTML=a,document.getElementById("tdtextarea").focus(),_UI.testdrivecanvas=document.getElementById("tdcanvas"),_UI.testdrivecanvas.width=800,_UI.testdrivecanvas.height=700,_UI.testdrivectx=_UI.testdrivecanvas.getContext("2d"),"npAttributes"==_UI.navprimaryhere&&changefontscale(100)}function updatetestdriveoptions(){if("npAttributes"==_UI.navprimaryhere){var a="<h1>settings</h1><h2>sample text</h2><div>"+drawSampletextButtons()+"</div>";return a+="<br><h2>options</h2><div>"+drawTDOptions()+"</div>",a+="</td></tr></table></div>"}}function updateTestdriveCanvas(){var i,a=document.getElementById("tdtextarea").value,b=_UI.testdrivectx,c=_GP.projectsettings,d=_UI.testdrive_fontscale,e=a.split(""),f=_GP.projectsettings.upm*d,g=_UI.testdrive_padsize,h=_UI.testdrive_padsize+c.ascent*d;b.clearRect(0,0,5e3,5e3),_UI.testdrive_showhorizontals?drawLine(h):!1;for(var j=0;j<e.length;j++)"\n"==e[j]?(g=_UI.testdrive_padsize,h+=f,h+=1*document.getElementById("linegap").value*d,_UI.testdrive_showhorizontals?drawLine(h):!1):(i=getCharFromText(e[j]),i&&(_UI.testdrive_showcharbox&&(b.fillStyle="transparent",b.strokeStyle=_UI.colors.accent,b.lineWidth=1,b.strokeRect(g.makeCrisp(),h.makeCrisp()-c.ascent*d,Math.round(i.charwidth*d),Math.round(f))),g+=i.drawCharToArea(b,{dz:_UI.testdrive_fontscale,dx:g,dy:h}),g+=1*document.getElementById("charspacing").value*d))}function drawLine(a){a=a.makeCrisp(),_UI.testdrivectx.strokeStyle=_UI.colors.accent,_UI.testdrivectx.beginPath(),_UI.testdrivectx.lineWidth=1,_UI.testdrivectx.moveTo(0,a),_UI.testdrivectx.lineTo(_UI.testdrivecanvas.width,a),_UI.testdrivectx.stroke(),_UI.testdrivectx.closePath()}function drawSampletextButtons(){var a="<h3>pangrams</h3>";return a+=makeTDButton("the five boxing wizards jump quickly"),a+=makeTDButton("pack my box with five dozen liquor jugs"),a+=makeTDButton("the quick brown fox jumps over a lazy dog"),a+=makeTDButton("amazingly few discotheques provide jukeboxes"),a+=makeTDButton("quick enemy movement will jeopardize six of the gunboats"),a+="<h3>character sets</h3>",a+=makeTDButton("abcdefghijklmnopqrstuvwxyz"),a+=makeTDButton("ABCDEFGHIJKLMNOPQRSTUVWXYZ"),a+=makeTDButton("0123456789"),a+=makeTDSymbolButton()}function makeTDButton(a){return"<input type='button' class='button' onclick='document.getElementById(\"tdtextarea\").value=\""+a+"\";updateTestdriveCanvas();' value='"+a+"'><br>"}function makeTDSymbolButton(){return"<input type='button' class='button' onclick='document.getElementById(\"tdtextarea\").value=\"!\\\"#$%&&#39;()*+,-./:;\\<=\\>?@[\\\\]^_`{|}~\";updateTestdriveCanvas();' value='!\"#$%&&#39;()*+,-./:;<=>?@[\\]^_`{|}~'><br>"}function drawTDOptions(){var a="<table class='detail'>";return a+="<tr><td> font size <span class='unit'>(px)</span> </td><td><input class='input' type='text' value='100' onchange='changefontscale(this.value); updateTestdriveCanvas();'>"+spinner()+"</td></tr>",a+="<tr><td> 96dpi font size <span class='unit'>(pt)</span> </td><td id='roughptsize'>75</td></tr>",a+="<tr><td> line gap <span class='unit'>(em units)</span> </td><td><input class='input' id='linegap' type='text' value='"+_GP.projectsettings.linegap+"' onchange='updateTestdriveCanvas();'>"+spinner()+"</td></tr>",a+="<tr><td> character spacing <span class='unit'>(em units)</span> </td><td><input class='input' id='charspacing' type='text' value='0' onchange='updateTestdriveCanvas();'>"+spinner()+"</td></tr>",a+="<tr><td> show character boxes </td><td><input type='checkbox'"+(_UI.testdrive_showcharbox?" checked ":"")+" onchange='_UI.testdrive_showcharbox = this.checked; updateTestdriveCanvas();'></td></tr>",a+="<tr><td> show baseline </td><td><input type='checkbox'"+(_UI.testdrive_showhorizontals?" checked ":"")+" onchange='_UI.testdrive_showhorizontals = this.checked; updateTestdriveCanvas();'></td></tr>",a+="<tr><td colspan=2><input type='button' class='button' value='generate png file' onclick='createimg();'></td></tr>",a+="</table>"}function changefontscale(a){_UI.testdrive_fontscale=a/_GP.projectsettings.upm,document.getElementById("roughptsize").innerHTML=.75*a}function createimg(){var a=document.getElementById("tdcanvas").toDataURL(),b=window.open(document.location.href,"Glyphr Test Drive");b.document.write('<!DOCTYPE html><html><head><title>Glyphr - Test Drive Image</title></head><body style="padding:40px; text-align:center;"><img src="'+a+'" title="Glyphr Test Drive" style="border:1px solid #f6f6f6;">'+"</html>")}function drawLogo(){logoctx=document.getElementById("logocanvas").getContext("2d"),logoctx.clearRect(0,0,3e3,3e3),logoctx.strokeStyle=_UI.colors.accent,logoctx.beginPath(),logoctx.moveTo(37,41),logoctx.lineTo(37,2),logoctx.lineTo(40.8,2),logoctx.lineWidth=4,logoctx.stroke(),logoctx.beginPath(),logoctx.moveTo(2,30),logoctx.bezierCurveTo(2,43.3,31,43.3,31,30),logoctx.bezierCurveTo(31,11,2,11,2,30),logoctx.closePath(),logoctx.stroke(),logoctx.beginPath(),logoctx.moveTo(31,30),logoctx.lineTo(31,46),logoctx.bezierCurveTo(31,59.3,2,59.3,2,46),logoctx.lineTo(6,46),logoctx.stroke(),logoctx.beginPath(),logoctx.moveTo(72,30),logoctx.bezierCurveTo(72,43.3,43,43.3,43,30),logoctx.lineTo(43,16),logoctx.lineTo(47,16),logoctx.stroke(),logoctx.beginPath(),logoctx.moveTo(47,46),logoctx.lineTo(43,46),logoctx.bezierCurveTo(43,59.3,72,59.3,72,46),logoctx.lineTo(72,30),logoctx.lineTo(72,14),logoctx.stroke(),logoctx.beginPath(),logoctx.moveTo(107,30),logoctx.bezierCurveTo(107,43.3,78,43.3,78,30),logoctx.bezierCurveTo(78,11,107,11,107,30),logoctx.closePath(),logoctx.stroke(),logoctx.beginPath(),logoctx.moveTo(78,30),logoctx.lineTo(78,56),logoctx.lineTo(81.9,56),logoctx.stroke(),logoctx.beginPath(),logoctx.moveTo(142,42),logoctx.lineTo(142,30),logoctx.bezierCurveTo(142,11,113,11,113,30),logoctx.lineTo(113,40),logoctx.lineTo(117,40),logoctx.stroke(),logoctx.beginPath(),logoctx.moveTo(113,28),logoctx.lineTo(113,2),logoctx.lineTo(116.9,2),logoctx.stroke(),logoctx.beginPath(),logoctx.moveTo(177,30),logoctx.bezierCurveTo(177,11,148,11,148,30),logoctx.lineTo(148,40),logoctx.lineTo(152,40),logoctx.stroke(),logoctx.fillStyle=_UI.colors.accent_light,logoctx.beginPath(),logoctx.moveTo(148,49),logoctx.lineTo(149,49),logoctx.lineTo(149,48),logoctx.lineTo(148,48),logoctx.lineTo(148,49),logoctx.closePath(),logoctx.fill(),logoctx.beginPath(),logoctx.moveTo(148,46),logoctx.lineTo(148,47),logoctx.lineTo(149,47),logoctx.lineTo(149,46),logoctx.lineTo(148,46),logoctx.closePath(),logoctx.fill(),logoctx.beginPath(),logoctx.moveTo(161,47),logoctx.lineTo(161,46),logoctx.lineTo(160,46),logoctx.lineTo(160,47),logoctx.lineTo(161,47),logoctx.closePath(),logoctx.fill(),logoctx.beginPath(),logoctx.moveTo(146,44),logoctx.lineTo(146,51),logoctx.lineTo(163,51),logoctx.lineTo(163,44),logoctx.lineTo(146,44),logoctx.closePath(),logoctx.moveTo(150,47),logoctx.lineTo(149,47),logoctx.lineTo(149,48),logoctx.lineTo(150,48),logoctx.lineTo(150,49),logoctx.lineTo(149,49),logoctx.lineTo(149,50),logoctx.lineTo(148,50),logoctx.lineTo(147,50),logoctx.lineTo(147,45),logoctx.lineTo(148,45),logoctx.lineTo(149,45),logoctx.lineTo(149,46),logoctx.lineTo(150,46),logoctx.lineTo(150,47),logoctx.closePath(),logoctx.moveTo(154,46),logoctx.lineTo(152,46),logoctx.lineTo(152,47),logoctx.lineTo(153,47),logoctx.lineTo(153,48),logoctx.lineTo(152,48),logoctx.lineTo(152,49),logoctx.lineTo(154,49),logoctx.lineTo(154,50),logoctx.lineTo(152,50),logoctx.lineTo(151,50),logoctx.lineTo(151,45),logoctx.lineTo(152,45),logoctx.lineTo(154,45),logoctx.lineTo(154,46),logoctx.closePath(),logoctx.moveTo(158,46),logoctx.lineTo(157,46),logoctx.lineTo(157,50),logoctx.lineTo(156,50),logoctx.lineTo(156,46),logoctx.lineTo(155,46),logoctx.lineTo(155,45),logoctx.lineTo(158,45),logoctx.lineTo(158,46),logoctx.closePath(),logoctx.moveTo(162,50),logoctx.lineTo(161,50),logoctx.lineTo(161,48),logoctx.lineTo(160,48),logoctx.lineTo(160,50),logoctx.lineTo(159,50),logoctx.lineTo(159,46),logoctx.lineTo(160,46),logoctx.lineTo(160,45),logoctx.lineTo(161,45),logoctx.lineTo(161,46),logoctx.lineTo(162,46),logoctx.lineTo(162,50),logoctx.closePath(),logoctx.fill(),logoctx.beginPath(),logoctx.moveTo(164,45),logoctx.lineTo(164,46),logoctx.lineTo(165,46),logoctx.lineTo(165,45),logoctx.lineTo(164,45),logoctx.closePath(),logoctx.fill(),logoctx.beginPath(),logoctx.moveTo(168,45),logoctx.lineTo(168,46),logoctx.lineTo(169,46),logoctx.lineTo(169,45),logoctx.lineTo(168,45),logoctx.closePath(),logoctx.fill(),logoctx.beginPath(),logoctx.moveTo(167,46),logoctx.lineTo(167,47),logoctx.lineTo(168,47),logoctx.lineTo(168,46),logoctx.lineTo(167,46),logoctx.closePath(),logoctx.fill(),logoctx.beginPath(),logoctx.moveTo(166,47),logoctx.lineTo(166,48),logoctx.lineTo(168,48),logoctx.lineTo(168,47),logoctx.lineTo(166,47),logoctx.closePath(),logoctx.fill(),logoctx.beginPath(),logoctx.moveTo(164,49),logoctx.lineTo(164,50),logoctx.lineTo(165,50),logoctx.lineTo(165,49),logoctx.lineTo(164,49),logoctx.closePath(),logoctx.fill(),logoctx.beginPath(),logoctx.moveTo(165,50),logoctx.lineTo(165,51),logoctx.lineTo(168,51),logoctx.lineTo(168,50),logoctx.lineTo(165,50),logoctx.closePath(),logoctx.fill(),logoctx.beginPath(),logoctx.moveTo(168,47),logoctx.lineTo(168,50),logoctx.lineTo(169,50),logoctx.lineTo(169,47),logoctx.lineTo(168,47),logoctx.closePath(),logoctx.fill(),logoctx.beginPath(),logoctx.moveTo(165,44),logoctx.lineTo(165,45),logoctx.lineTo(168,45),logoctx.lineTo(168,44),logoctx.lineTo(165,44),logoctx.closePath(),logoctx.fill()}function drawSplashScreen(){ssctx=document.getElementById("splashscreencanvas").getContext("2d"),ssctx.clearRect(0,0,3e3,3e3),ssctx.fillStyle=_UI.colors.accent,ssctx.save(),ssctx.beginPath(),ssctx.moveTo(800,494),ssctx.lineTo(0,494),ssctx.lineTo(0,0),ssctx.lineTo(800,0),ssctx.lineTo(800,494),ssctx.closePath(),ssctx.fill(),ssctx.strokeStyle=_UI.colors.offwhite,ssctx.save(),ssctx.beginPath(),ssctx.moveTo(260.2,219.6),ssctx.lineTo(260.2,121.3),ssctx.lineTo(270.6,121.3),ssctx.lineWidth=10.5,ssctx.stroke(),ssctx.beginPath(),ssctx.moveTo(167,188.6),ssctx.bezierCurveTo(167,224.8,244.7,224.8,244.7,188.6),ssctx.bezierCurveTo(244.7,136.8,167,136.8,167,188.6),ssctx.closePath(),ssctx.stroke(),ssctx.beginPath(),ssctx.moveTo(244.7,188.6),ssctx.lineTo(244.7,224.8),ssctx.bezierCurveTo(244.7,261.1,167,261.1,167,224.8),ssctx.lineTo(177.4,224.8),ssctx.stroke(),ssctx.beginPath(),ssctx.moveTo(368.9,188.6),ssctx.lineTo(368.9,250.7),ssctx.lineTo(379.3,250.7),ssctx.stroke(),ssctx.beginPath(),ssctx.moveTo(446.6,188.6),ssctx.bezierCurveTo(446.6,224.8,368.9,224.8,368.9,188.6),ssctx.bezierCurveTo(368.9,136.8,446.6,136.8,446.6,188.6),ssctx.closePath(),ssctx.stroke(),ssctx.beginPath(),ssctx.moveTo(565.7,214.5),ssctx.lineTo(555.3,214.5),ssctx.lineTo(555.3,188.6),ssctx.bezierCurveTo(555.3,136.8,633,136.8,633,188.6),ssctx.stroke(),ssctx.beginPath(),ssctx.moveTo(353.4,147.2),ssctx.lineTo(353.4,224.8),ssctx.bezierCurveTo(353.4,261.1,275.7,261.1,275.7,224.8),ssctx.lineTo(286.1,224.8),ssctx.stroke(),ssctx.beginPath(),ssctx.moveTo(275.7,188.6),ssctx.bezierCurveTo(275.7,224.8,353.3,224.8,353.3,188.6),ssctx.lineWidth=10.2,ssctx.stroke(),ssctx.beginPath(),ssctx.moveTo(275.7,189.8),ssctx.lineTo(275.7,152.3),ssctx.lineTo(286.1,152.3),ssctx.lineWidth=10.5,ssctx.stroke(),ssctx.beginPath(),ssctx.moveTo(472.5,121.3),ssctx.lineTo(462.1,121.3),ssctx.lineTo(462.1,214.5),ssctx.lineTo(472.5,214.5),ssctx.stroke(),ssctx.beginPath(),ssctx.moveTo(462.1,188.6),ssctx.bezierCurveTo(462.1,136.8,539.8,136.8,539.8,188.6),ssctx.lineTo(539.8,219.6),ssctx.stroke(),ssctx.restore(),ssctx.save(),ssctx.fillStyle=_UI.colors.accent_light,ssctx.beginPath(),ssctx.moveTo(554.2,240.1),ssctx.bezierCurveTo(553.2,240.1,552.4,240,551.6,239.8),ssctx.bezierCurveTo(550.9,239.6,550.3,239.3,549.6,239),ssctx.lineTo(549.6,236.6),ssctx.lineTo(549.8,236.6),ssctx.bezierCurveTo(550.4,237.2,551.1,237.7,551.9,238),ssctx.bezierCurveTo(552.6,238.3,553.4,238.5,554.1,238.5),ssctx.bezierCurveTo(555.2,238.5,555.9,238.2,556.5,237.8),ssctx.bezierCurveTo(557,237.4,557.3,236.8,557.3,236.1),ssctx.bezierCurveTo(557.3,235.5,557.1,235.1,556.8,234.7),ssctx.bezierCurveTo(556.6,234.4,556.1,234.1,555.5,233.9),ssctx.bezierCurveTo(555.1,233.8,554.7,233.7,554.3,233.6),ssctx.bezierCurveTo(554,233.6,553.5,233.4,553,233.3),ssctx.bezierCurveTo(552.5,233.2,552.1,233,551.7,232.8),ssctx.bezierCurveTo(551.3,232.6,550.9,232.4,550.6,232.1),ssctx.bezierCurveTo(550.4,231.7,550.1,231.4,550,231),ssctx.bezierCurveTo(549.8,230.5,549.7,230.1,549.7,229.5),ssctx.bezierCurveTo(549.7,228.4,550.2,227.4,551.1,226.6),ssctx.bezierCurveTo(551.9,225.9,553.1,225.5,554.5,225.5),ssctx.bezierCurveTo(555.3,225.5,556,225.6,556.7,225.7),ssctx.bezierCurveTo(557.4,225.9,558.1,226.1,558.7,226.4),ssctx.lineTo(558.7,228.6),ssctx.lineTo(558.5,228.6),ssctx.bezierCurveTo(558.1,228.2,557.5,227.9,556.8,227.6),ssctx.bezierCurveTo(556.1,227.3,555.4,227.1,554.6,227.1),ssctx.bezierCurveTo(553.7,227.1,553,227.3,552.5,227.7),ssctx.bezierCurveTo(551.9,228.1,551.7,228.6,551.7,229.3),ssctx.bezierCurveTo(551.7,229.9,551.8,230.4,552.1,230.7),ssctx.bezierCurveTo(552.5,231.1,552.9,231.4,553.5,231.5),ssctx.bezierCurveTo(553.9,231.6,554.4,231.7,555,231.9),ssctx.bezierCurveTo(555.6,232,556,232.1,556.4,232.3),ssctx.bezierCurveTo(557.4,232.6,558.1,233,558.5,233.6),ssctx.bezierCurveTo(559,234.2,559.2,234.9,559.2,235.8),ssctx.bezierCurveTo(559.2,236.4,559.1,236.9,558.9,237.4),ssctx.bezierCurveTo(558.6,238,558.3,238.4,557.9,238.8),ssctx.bezierCurveTo(557.5,239.2,557,239.5,556.4,239.7),ssctx.bezierCurveTo(555.8,240,555.1,240.1,554.2,240.1),ssctx.closePath(),ssctx.fill(),ssctx.beginPath(),ssctx.moveTo(564.4,239.8),ssctx.lineTo(564.4,227.4),ssctx.lineTo(559.7,227.4),ssctx.lineTo(559.7,225.7),ssctx.lineTo(571,225.7),ssctx.lineTo(571,227.4),ssctx.lineTo(566.3,227.4),ssctx.lineTo(566.3,239.8),ssctx.lineTo(564.4,239.8),ssctx.closePath(),ssctx.fill(),ssctx.beginPath(),ssctx.moveTo(577.4,240.1),ssctx.bezierCurveTo(576.5,240.1,575.8,240,575.2,239.8),ssctx.bezierCurveTo(574.6,239.6,574,239.3,573.6,238.8),ssctx.bezierCurveTo(573.1,238.3,572.8,237.7,572.6,237.1),ssctx.bezierCurveTo(572.4,236.4,572.3,235.5,572.3,234.5),ssctx.lineTo(572.3,225.7),ssctx.lineTo(574.1,225.7),ssctx.lineTo(574.1,234.5),ssctx.bezierCurveTo(574.1,235.2,574.2,235.7,574.3,236.2),ssctx.bezierCurveTo(574.3,236.6,574.5,237,574.7,237.4),ssctx.bezierCurveTo(575,237.7,575.3,238,575.8,238.2),ssctx.bezierCurveTo(576.2,238.4,576.7,238.5,577.4,238.5),ssctx.bezierCurveTo(577.9,238.5,578.5,238.4,578.9,238.2),ssctx.bezierCurveTo(579.4,238,579.7,237.7,580,237.4),ssctx.bezierCurveTo(580.2,237,580.4,236.6,580.5,236.2),ssctx.bezierCurveTo(580.5,235.7,580.6,235.2,580.6,234.6),ssctx.lineTo(580.6,225.7),ssctx.lineTo(582.5,225.7),ssctx.lineTo(582.5,234.5),ssctx.bezierCurveTo(582.5,235.5,582.4,236.3,582.2,237),ssctx.bezierCurveTo(582,237.7,581.6,238.3,581.1,238.8),ssctx.bezierCurveTo(580.7,239.3,580.1,239.6,579.5,239.8),ssctx.bezierCurveTo(578.9,240,578.2,240.1,577.4,240.1),ssctx.closePath(),ssctx.fill(),ssctx.beginPath(),ssctx.moveTo(596.3,232.8),ssctx.bezierCurveTo(596.3,234.1,596,235.2,595.5,236.3),ssctx.bezierCurveTo(595,237.3,594.3,238.1,593.4,238.7),ssctx.bezierCurveTo(592.7,239.1,591.9,239.4,591.2,239.6),ssctx.bezierCurveTo(590.5,239.7,589.5,239.8,588.4,239.8),ssctx.lineTo(585.1,239.8),ssctx.lineTo(585.1,225.7),ssctx.lineTo(588.4,225.7),ssctx.bezierCurveTo(589.7,225.7,590.7,225.8,591.5,226),ssctx.bezierCurveTo(592.2,226.2,592.9,226.5,593.4,226.9),ssctx.bezierCurveTo(594.3,227.5,595,228.2,595.5,229.2),ssctx.bezierCurveTo(596,230.2,596.3,231.4,596.3,232.8),ssctx.closePath(),ssctx.moveTo(594.3,232.8),ssctx.bezierCurveTo(594.3,231.7,594.1,230.8,593.8,230),ssctx.bezierCurveTo(593.4,229.2,592.9,228.6,592.2,228.2),ssctx.bezierCurveTo(591.7,227.9,591.1,227.7,590.6,227.5),ssctx.bezierCurveTo(590,227.4,589.3,227.3,588.4,227.3),ssctx.lineTo(587,227.3),ssctx.lineTo(587,238.2),ssctx.lineTo(588.4,238.2),ssctx.bezierCurveTo(589.3,238.2,590,238.1,590.6,238),ssctx.bezierCurveTo(591.3,237.9,591.8,237.6,592.3,237.3),ssctx.bezierCurveTo(593,236.8,593.5,236.2,593.8,235.5),ssctx.bezierCurveTo(594.1,234.8,594.3,233.9,594.3,232.8),ssctx.closePath(),ssctx.fill(),ssctx.beginPath(),ssctx.moveTo(603.2,239.8),ssctx.lineTo(597.7,239.8),ssctx.lineTo(597.7,238.4),ssctx.lineTo(599.5,238.4),ssctx.lineTo(599.5,227.2),ssctx.lineTo(597.7,227.2),ssctx.lineTo(597.7,225.7),ssctx.lineTo(603.2,225.7),ssctx.lineTo(603.2,227.2),ssctx.lineTo(601.4,227.2),ssctx.lineTo(601.4,238.4),ssctx.lineTo(603.2,238.4),ssctx.lineTo(603.2,239.8),ssctx.closePath(),ssctx.fill(),ssctx.beginPath(),ssctx.moveTo(615.5,227.4),ssctx.bezierCurveTo(616,228,616.4,228.7,616.7,229.7),ssctx.bezierCurveTo(617,230.6,617.2,231.6,617.2,232.8),ssctx.bezierCurveTo(617.2,233.9,617,235,616.7,235.9),ssctx.bezierCurveTo(616.4,236.8,616,237.6,615.5,238.2),ssctx.bezierCurveTo(614.9,238.9,614.2,239.3,613.5,239.6),ssctx.bezierCurveTo(612.7,240,611.9,240.1,610.9,240.1),ssctx.bezierCurveTo(610,240.1,609.1,240,608.4,239.6),ssctx.bezierCurveTo(607.6,239.3,606.9,238.8,606.4,238.2),ssctx.bezierCurveTo(605.9,237.6,605.4,236.8,605.1,235.9),ssctx.bezierCurveTo(604.9,235,604.7,233.9,604.7,232.8),ssctx.bezierCurveTo(604.7,231.6,604.9,230.6,605.2,229.7),ssctx.bezierCurveTo(605.4,228.8,605.9,228,606.4,227.4),ssctx.bezierCurveTo(606.9,226.7,607.6,226.3,608.4,225.9),ssctx.bezierCurveTo(609.1,225.6,610,225.4,610.9,225.4),ssctx.bezierCurveTo(611.9,225.4,612.8,225.6,613.5,225.9),ssctx.bezierCurveTo(614.3,226.3,614.9,226.7,615.5,227.4),ssctx.closePath(),ssctx.moveTo(615.2,232.8),ssctx.bezierCurveTo(615.2,231.9,615.1,231,614.9,230.3),ssctx.bezierCurveTo(614.7,229.6,614.4,229,614.1,228.5),ssctx.bezierCurveTo(613.7,228,613.2,227.7,612.7,227.4),ssctx.bezierCurveTo(612.2,227.2,611.6,227.1,610.9,227.1),ssctx.bezierCurveTo(610.3,227.1,609.7,227.2,609.2,227.4),ssctx.bezierCurveTo(608.7,227.7,608.2,228,607.8,228.5),ssctx.bezierCurveTo(607.4,229,607.2,229.6,607,230.3),ssctx.bezierCurveTo(606.8,231,606.7,231.9,606.7,232.8),ssctx.bezierCurveTo(606.7,234.6,607,236,607.8,237),ssctx.bezierCurveTo(608.6,238,609.6,238.5,610.9,238.5),ssctx.bezierCurveTo(612.3,238.5,613.3,238,614.1,237),ssctx.bezierCurveTo(614.8,236,615.2,234.6,615.2,232.8),ssctx.closePath(),ssctx.fill(),ssctx.restore(),ssctx.restore()}function draw_primaryNav_navigate(a,b){a.fillStyle=b,a.strokeStyle=b,a.save(),a.beginPath(),a.moveTo(24,0),a.lineTo(29,19),a.lineTo(24,24),a.lineTo(24,0),a.closePath(),a.fill(),a.beginPath(),a.moveTo(24,0),a.lineTo(19,19),a.lineTo(24,24),a.lineTo(24,0),a.closePath(),a.lineWidth=.3,a.stroke(),a.beginPath(),a.moveTo(10,10),a.lineTo(19,19),a.lineTo(15,20),a.lineTo(10,10),a.closePath(),a.stroke(),a.beginPath(),a.moveTo(10,38),a.lineTo(19,29),a.lineTo(20,33),a.lineTo(10,38),a.closePath(),a.stroke(),a.beginPath(),a.moveTo(24,48),a.lineTo(29,29),a.lineTo(24,24),a.lineTo(24,48),a.closePath(),a.stroke(),a.beginPath(),a.moveTo(48,24),a.lineTo(29,19),a.lineTo(24,24),a.lineTo(48,24),a.closePath(),a.stroke(),a.beginPath(),a.moveTo(0,24),a.lineTo(19,29),a.lineTo(24,24),a.lineTo(0,24),a.closePath(),a.stroke(),a.beginPath(),a.moveTo(24,24),a.lineTo(48,24),a.lineTo(29,29),a.lineTo(24,24),a.closePath(),a.fill(),a.beginPath(),a.moveTo(24,24),a.lineTo(24,48),a.lineTo(19,29),a.lineTo(24,24),a.closePath(),a.fill(),a.beginPath(),a.moveTo(24,24),a.lineTo(0,24),a.lineTo(19,19),a.lineTo(24,24),a.closePath(),a.fill(),a.beginPath(),a.moveTo(20,15),a.lineTo(10,10),a.lineTo(19,19),a.lineTo(20,15),a.closePath(),a.fill(),a.beginPath(),a.moveTo(15,28),a.lineTo(10,38),a.lineTo(19,29),a.lineTo(15,28),a.closePath(),a.fill(),a.beginPath(),a.moveTo(28,33),a.lineTo(38,38),a.lineTo(29,29),a.lineTo(28,33),a.closePath(),a.fill(),a.beginPath(),a.moveTo(33,20),a.lineTo(38,10),a.lineTo(29,19),a.lineTo(33,20),a.closePath(),a.fill(),a.beginPath(),a.moveTo(29,19),a.lineTo(38,10),a.lineTo(28,15),a.lineTo(29,19),a.closePath(),a.stroke(),a.beginPath(),a.moveTo(38,38),a.lineTo(29,29),a.lineTo(33,28),a.lineTo(38,38),a.closePath(),a.stroke(),a.restore()}function draw_primaryNav_character(a,b){a.fillStyle=b,a.beginPath(),a.moveTo(13.6,17.2),a.lineTo(13.6,19.6),a.lineTo(8.9,19.6),a.lineTo(8.9,17.9),a.bezierCurveTo(7.6,19.2,6.2,19.8,4.6,19.8),a.bezierCurveTo(3.4,19.8,2.3,19.4,1.4,18.6),a.bezierCurveTo(.5,17.8,0,16.7,0,15.5),a.bezierCurveTo(0,14.2,.5,13.2,1.5,12.3),a.bezierCurveTo(2.4,11.5,3.6,11.1,5,11.1),a.bezierCurveTo(6.2,11.1,7.5,11.5,8.7,12.2),a.lineTo(8.7,10.9),a.bezierCurveTo(8.7,10.2,8.6,9.7,8.5,9.3),a.bezierCurveTo(8.3,8.9,8,8.6,7.5,8.3),a.bezierCurveTo(7.1,8,6.4,7.8,5.7,7.8),a.bezierCurveTo(4.3,7.8,3.3,8.4,2.7,9.4),a.lineTo(.2,8.7),a.bezierCurveTo(1.3,6.6,3.3,5.6,6.1,5.6),a.bezierCurveTo(7.1,5.6,8,5.7,8.7,6),a.bezierCurveTo(9.5,6.3,10,6.6,10.4,7.1),a.bezierCurveTo(10.7,7.5,11,8,11.1,8.5),a.bezierCurveTo(11.2,9,11.3,9.8,11.3,10.9),a.lineTo(11.3,17.2),a.lineTo(13.6,17.2),a.closePath(),a.moveTo(8.7,14.5),a.bezierCurveTo(7.5,13.6,6.3,13.2,5.2,13.2),a.bezierCurveTo(4.4,13.2,3.8,13.4,3.3,13.8),a.bezierCurveTo(2.8,14.2,2.6,14.8,2.6,15.5),a.bezierCurveTo(2.6,16.1,2.8,16.6,3.2,17.1),a.bezierCurveTo(3.7,17.5,4.2,17.7,5,17.7),a.bezierCurveTo(6.3,17.7,7.5,17.2,8.7,16.1),a.lineTo(8.7,14.5),a.closePath(),a.fill(),a.beginPath(),a.moveTo(16,19.6),a.lineTo(16,17.2),a.lineTo(18.4,17.2),a.lineTo(18.4,2.4),a.lineTo(16,2.4),a.lineTo(16,0),a.lineTo(21,0),a.lineTo(21,7.9),a.bezierCurveTo(22.4,6.3,24,5.6,26,5.6),a.bezierCurveTo(27.8,5.6,29.4,6.2,30.7,7.5),a.bezierCurveTo(32,8.8,32.6,10.5,32.6,12.6),a.bezierCurveTo(32.6,14.6,32,16.3,30.7,17.7),a.bezierCurveTo(29.5,19.1,27.9,19.8,26,19.8),a.bezierCurveTo(24.9,19.8,23.9,19.6,23,19.1),a.bezierCurveTo(22.1,18.6,21.4,18.1,21,17.5),a.lineTo(21,19.6),a.lineTo(16,19.6),a.closePath(),a.moveTo(21.1,12.8),a.bezierCurveTo(21.1,14.2,21.6,15.3,22.4,16.2),a.bezierCurveTo(23.3,17,24.3,17.4,25.4,17.4),a.bezierCurveTo(26.6,17.4,27.6,17,28.5,16.1),a.bezierCurveTo(29.4,15.2,29.8,14,29.8,12.5),a.bezierCurveTo(29.8,11.1,29.4,10,28.5,9.2),a.bezierCurveTo(27.7,8.4,26.6,8,25.5,8),a.bezierCurveTo(24.4,8,23.3,8.4,22.5,9.2),a.bezierCurveTo(21.6,10.1,21.1,11.2,21.1,12.8),a.closePath(),a.fill(),a.beginPath(),a.moveTo(47.6,5.8),a.lineTo(47.6,10.9),a.lineTo(45.2,10.9),a.bezierCurveTo(45.1,9.9,44.6,9.2,44,8.7),a.bezierCurveTo(43.3,8.1,42.5,7.9,41.6,7.9),a.bezierCurveTo(40.4,7.9,39.4,8.3,38.7,9.2),a.bezierCurveTo(37.9,10,37.5,11.1,37.5,12.5),a.bezierCurveTo(37.5,13.8,37.9,14.9,38.6,15.9),a.bezierCurveTo(39.3,16.9,40.4,17.4,41.7,17.4),a.bezierCurveTo(43.6,17.4,44.9,16.5,45.8,14.7),a.lineTo(48,15.7),a.bezierCurveTo(46.8,18.4,44.6,19.8,41.6,19.8),a.bezierCurveTo(39.4,19.8,37.7,19.1,36.5,17.6),a.bezierCurveTo(35.3,16.1,34.6,14.4,34.6,12.5),a.bezierCurveTo(34.6,10.4,35.3,8.7,36.7,7.4),a.bezierCurveTo(38,6.1,39.6,5.4,41.3,5.4),a.bezierCurveTo(42.9,5.4,44.1,5.8,45.2,6.7),a.lineTo(45.2,5.8),a.lineTo(47.6,5.8),a.closePath(),a.fill(),a.beginPath(),a.moveTo(7.8,33),a.lineTo(5.1,36),a.lineTo(6.9,36),a.lineTo(6.9,38.4),a.lineTo(.3,38.4),a.lineTo(.3,36),a.lineTo(2.3,36),a.lineTo(6.3,31.4),a.lineTo(2.4,27.2),a.lineTo(.6,27.2),a.lineTo(.6,24.8),a.lineTo(7,24.8),a.lineTo(7,27.2),a.lineTo(5.3,27.2),a.lineTo(7.7,29.8),a.lineTo(10.1,27.2),a.lineTo(8.7,27.2),a.lineTo(8.7,24.8),a.lineTo(15.2,24.8),a.lineTo(15.2,27.2),a.lineTo(12.9,27.2),a.lineTo(9.2,31.4),a.lineTo(13.4,36),a.lineTo(15.2,36),a.lineTo(15.2,38.4),a.lineTo(8.7,38.4),a.lineTo(8.7,36),a.lineTo(10.6,36),a.lineTo(7.8,33),a.closePath(),a.fill(),a.beginPath(),a.moveTo(25,38.2),a.lineTo(20.5,27.2),a.lineTo(18.3,27.2),a.lineTo(18.3,24.8),a.lineTo(25,24.8),a.lineTo(25,27.2),a.lineTo(23.4,27.2),a.lineTo(26.3,34.7),a.lineTo(29.2,27.2),a.lineTo(27.4,27.2),a.lineTo(27.4,24.8),a.lineTo(34,24.8),a.lineTo(34,27.2),a.lineTo(32,27.2),a.lineTo(25.2,44.5),a.lineTo(20.7,44.5),a.lineTo(20.7,42.2),a.lineTo(23.4,42.2),a.lineTo(25,38.2),a.closePath(),a.fill(),a.beginPath(),a.moveTo(36.3,38.4),a.lineTo(36.3,36.2),a.lineTo(44.8,27),a.lineTo(39.2,27),a.lineTo(39.2,29.6),a.lineTo(36.9,29.6),a.lineTo(36.9,24.8),a.lineTo(48,24.8),a.lineTo(48,27.2),a.lineTo(39.4,36.2),a.lineTo(45.7,36.2),a.lineTo(45.7,33.4),a.lineTo(48,33.4),a.lineTo(48,38.4),a.lineTo(36.3,38.4),a.closePath(),a.fill()}function draw_primaryNav_layers(a,b){a.fillStyle=b,a.save(),a.beginPath(),a.moveTo(24,21),a.lineTo(0,10.5),a.lineTo(24,0),a.lineTo(48,10.5),a.lineTo(24,21),a.closePath(),a.fill(),a.beginPath(),a.moveTo(24,30),a.lineTo(0,19.5),a.lineTo(8,16),a.lineTo(24,23),a.lineTo(40,16),a.lineTo(48,19.5),a.lineTo(24,30),a.closePath(),a.fill(),a.beginPath(),a.moveTo(24,39),a.lineTo(0,28.5),a.lineTo(8,25),a.lineTo(24,32),a.lineTo(40,25),a.lineTo(48,28.5),a.lineTo(24,39),a.closePath(),a.fill(),a.beginPath(),a.moveTo(24,48),a.lineTo(0,37.5),a.lineTo(8,34),a.lineTo(24,41),a.lineTo(40,34),a.lineTo(48,37.5),a.lineTo(24,48),a.closePath(),a.fill(),a.restore()}function draw_primaryNav_attributes(a,b){a.fillStyle=b,a.beginPath(),a.moveTo(1,7),a.lineTo(8,14),a.lineTo(17,3),a.lineTo(14,0),a.lineTo(8,8),a.lineTo(4,4),a.lineTo(1,7),a.closePath(),a.fill(),a.beginPath(),a.moveTo(19,43),a.lineTo(0,43),a.lineTo(0,44),a.lineTo(19,44),a.lineTo(19,43),a.lineTo(19,43),a.closePath(),a.fill(),a.beginPath(),a.moveTo(19,35),a.lineTo(0,35),a.lineTo(0,36),a.lineTo(19,36),a.lineTo(19,35),a.lineTo(19,35),a.closePath(),a.fill(),a.beginPath(),a.moveTo(19,39),a.lineTo(0,39),a.lineTo(0,40),a.lineTo(19,40),a.lineTo(19,39),a.lineTo(19,39),a.closePath(),a.fill(),a.beginPath(),a.moveTo(19,26),a.lineTo(0,26),a.lineTo(0,27),a.lineTo(19,27),a.lineTo(19,26),a.lineTo(19,26),a.closePath(),a.fill(),a.beginPath(),a.moveTo(19,18),a.lineTo(0,18),a.lineTo(0,19),a.lineTo(19,19),a.lineTo(19,18),a.lineTo(19,18),a.closePath(),a.fill(),a.beginPath(),a.moveTo(19,22),a.lineTo(0,22),a.lineTo(0,23),a.lineTo(19,23),a.lineTo(19,22),a.lineTo(19,22),a.closePath(),a.fill(),a.beginPath(),a.moveTo(48,10),a.lineTo(19,10),a.lineTo(19,11),a.lineTo(48,11),a.lineTo(48,10),a.lineTo(48,10),a.closePath(),a.fill(),a.beginPath(),a.moveTo(48,2),a.lineTo(19,2),a.lineTo(19,3),a.lineTo(48,3),a.lineTo(48,2),a.lineTo(48,2),a.closePath(),a.fill(),a.beginPath(),a.moveTo(48,6),a.lineTo(19,6),a.lineTo(19,7),a.lineTo(48,7),a.lineTo(48,6),a.lineTo(48,6),a.closePath(),a.fill(),a.beginPath(),a.moveTo(23,16),a.lineTo(23,29),a.lineTo(48,29),a.lineTo(48,16),a.lineTo(23,16),a.closePath(),a.moveTo(25,25),a.lineTo(30,20),a.lineTo(35,25),a.lineTo(25,25),a.closePath(),a.moveTo(41,25),a.lineTo(36,20),a.lineTo(46,20),a.lineTo(41,25),a.closePath(),a.fill(),a.beginPath(),a.moveTo(23,33),a.lineTo(23,46),a.lineTo(48,46),a.lineTo(48,33),a.lineTo(23,33),a.closePath(),a.moveTo(25,42),a.lineTo(30,37),a.lineTo(35,42),a.lineTo(25,42),a.closePath(),a.moveTo(41,42),a.lineTo(36,37),a.lineTo(46,37),a.lineTo(41,42),a.closePath(),a.fill()}function draw_primaryNav_save(a,b){a.fillStyle=b,a.save(),a.beginPath(),a.moveTo(18,27),a.lineTo(19,27),a.lineTo(19,32),a.lineTo(18,32),a.lineTo(18,27),a.closePath(),a.fill(),a.beginPath(),a.moveTo(32,16),a.lineTo(36,16),a.lineTo(36,18),a.lineTo(32,18),a.lineTo(32,16),a.closePath(),a.fill(),a.beginPath(),a.moveTo(18,12),a.lineTo(20,12),a.lineTo(20,23),a.lineTo(18,23),a.lineTo(18,12),a.closePath(),a.fill(),a.beginPath(),a.moveTo(28,12),a.lineTo(30,12),a.lineTo(30,23),a.lineTo(28,23),a.lineTo(28,12),a.closePath(),a.fill(),a.beginPath(),a.moveTo(18,22),a.lineTo(30,22),a.lineTo(30,24),a.lineTo(18,24),a.lineTo(18,22),a.closePath(),a.fill(),a.beginPath(),a.moveTo(21,27),a.lineTo(30,27),a.lineTo(30,32),a.lineTo(21,32),a.lineTo(21,27),a.closePath(),a.fill(),a.beginPath(),a.moveTo(18,27),a.lineTo(29,27),a.lineTo(29,28),a.lineTo(18,28),a.lineTo(18,27),a.closePath(),a.fill(),a.beginPath(),a.moveTo(18,31),a.lineTo(29,31),a.lineTo(29,32),a.lineTo(18,32),a.lineTo(18,31),a.closePath(),a.fill(),a.beginPath(),a.moveTo(17,34),a.lineTo(14,31),a.lineTo(14,14),a.lineTo(36,14),a.lineTo(36,12),a.lineTo(12,12),a.lineTo(12,31.8),a.lineTo(16.2,36),a.lineTo(36,36),a.lineTo(36,34),a.lineTo(17,34),a.closePath(),a.fill(),a.beginPath(),a.moveTo(36,12),a.lineTo(34,12),a.lineTo(34,14),a.lineTo(34,34),a.lineTo(34,36),a.lineTo(36,36),a.lineTo(36,12),a.closePath(),a.fill(),a.restore()}function drawNewPathButton(a,b,c){a.fillStyle=b,a.beginPath(),a.moveTo(8,10),a.lineTo(4,10),a.lineTo(4,6),a.lineTo(8,6),a.lineTo(8,10),a.closePath(),a.fill(),a.beginPath(),a.moveTo(10,9),a.lineTo(8,9),a.lineTo(8,6),a.lineTo(10,6),a.lineTo(10,9),a.closePath(),a.fill(),a.beginPath(),a.moveTo(10,4),a.lineTo(9,4),a.lineTo(9,3),a.lineTo(10,3),a.lineTo(10,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(2,2),a.lineTo(0,2),a.lineTo(0,1),a.lineTo(2,1),a.lineTo(2,2),a.closePath(),a.fill(),a.beginPath(),a.moveTo(11,9),a.lineTo(10,9),a.lineTo(10,8),a.lineTo(11,8),a.lineTo(11,9),a.closePath(),a.fill(),a.beginPath(),a.moveTo(10,6),a.lineTo(9,6),a.lineTo(9,5),a.lineTo(10,5),a.lineTo(10,6),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,6),a.lineTo(1,6),a.lineTo(1,5),a.lineTo(4,5),a.lineTo(4,6),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,10),a.lineTo(2,10),a.lineTo(2,7),a.lineTo(4,7),a.lineTo(4,10),a.closePath(),a.fill(),a.beginPath(),a.moveTo(5,11),a.lineTo(3,11),a.lineTo(3,10),a.lineTo(5,10),a.lineTo(5,11),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,5),a.lineTo(1,5),a.lineTo(1,2),a.lineTo(9,2),a.lineTo(9,5),a.closePath(),a.fill(),a.fillStyle=c,a.beginPath(),a.moveTo(12,15),a.lineTo(7,15),a.lineTo(7,14),a.lineTo(12,14),a.lineTo(12,15),a.closePath(),a.fill(),a.beginPath(),a.moveTo(10,17),a.lineTo(9,17),a.lineTo(9,12),a.lineTo(10,12),a.lineTo(10,17),a.closePath(),a.fill(),a.beginPath(),a.moveTo(2,2),a.lineTo(9,2),a.lineTo(9,1),a.lineTo(2,1),a.lineTo(2,2),a.closePath(),a.fill(),a.beginPath(),a.moveTo(0,1),a.lineTo(2,1),a.lineTo(2,0),a.lineTo(0,0),a.lineTo(0,1),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,6),a.lineTo(9,6),a.lineTo(9,5),a.lineTo(4,5),a.lineTo(4,6),a.closePath(),a.fill(),a.beginPath(),a.moveTo(2,7),a.lineTo(4,7),a.lineTo(4,6),a.lineTo(2,6),a.lineTo(2,7),a.closePath(),a.fill(),a.beginPath(),a.moveTo(5,11),a.lineTo(8,11),a.lineTo(8,10),a.lineTo(5,10),a.lineTo(5,11),a.closePath(),a.fill(),a.beginPath(),a.moveTo(8,10),a.lineTo(11,10),a.lineTo(11,9),a.lineTo(8,9),a.lineTo(8,10),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,3),a.lineTo(10,3),a.lineTo(10,2),a.lineTo(9,2),a.lineTo(9,3),a.closePath(),a.fill(),a.beginPath(),a.moveTo(10,4),a.lineTo(11,4),a.lineTo(11,3),a.lineTo(10,3),a.lineTo(10,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(1,10),a.lineTo(2,10),a.lineTo(2,7),a.lineTo(1,7),a.lineTo(1,10),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,5),a.lineTo(10,5),a.lineTo(10,4),a.lineTo(9,4),a.lineTo(9,5),a.closePath(),a.fill(),a.beginPath(),a.moveTo(2,11),a.lineTo(3,11),a.lineTo(3,10),a.lineTo(2,10),a.lineTo(2,11),a.closePath(),a.fill(),a.beginPath(),a.moveTo(11,11),a.lineTo(12,11),a.lineTo(12,10),a.lineTo(11,10),a.lineTo(11,11),a.closePath(),a.fill(),a.beginPath(),a.moveTo(3,12),a.lineTo(5,12),a.lineTo(5,11),a.lineTo(3,11),a.lineTo(3,12),a.closePath(),a.fill()}function drawNewOvalButton(a,b,c){a.fillStyle=b,a.beginPath(),a.moveTo(8,2),a.lineTo(4,2),a.lineTo(4,1),a.lineTo(8,1),a.lineTo(8,2),a.closePath(),a.fill(),a.beginPath(),a.moveTo(8,10),a.lineTo(4,10),a.lineTo(4,9),a.lineTo(8,9),a.lineTo(8,10),a.closePath(),a.fill(),a.beginPath(),a.moveTo(2,7),a.lineTo(1,7),a.lineTo(1,4),a.lineTo(2,4),a.lineTo(2,7),a.closePath(),a.fill(),a.beginPath(),a.moveTo(11,7),a.lineTo(10,7),a.lineTo(10,4),a.lineTo(11,4),a.lineTo(11,7),a.closePath(),a.fill(),a.save(),a.beginPath(),a.moveTo(10,9),a.lineTo(2,9),a.lineTo(2,2),a.lineTo(10,2),a.lineTo(10,9),a.closePath(),a.fill(),a.fillStyle=c,a.beginPath(),a.moveTo(8,1),a.lineTo(4,1),a.lineTo(4,0),a.lineTo(8,0),a.lineTo(8,1),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,2),a.lineTo(2,2),a.lineTo(2,1),a.lineTo(4,1),a.lineTo(4,2),a.closePath(),a.fill(),a.beginPath(),a.moveTo(8,11),a.lineTo(4,11),a.lineTo(4,10),a.lineTo(8,10),a.lineTo(8,11),a.closePath(),a.fill(),a.beginPath(),a.moveTo(1,7),a.lineTo(0,7),a.lineTo(0,4),a.lineTo(1,4),a.lineTo(1,7),a.closePath(),a.fill(),a.beginPath(),a.moveTo(2,4),a.lineTo(1,4),a.lineTo(1,2),a.lineTo(2,2),a.lineTo(2,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(8,2),a.lineTo(10,2),a.lineTo(10,1),a.lineTo(8,1),a.lineTo(8,2),a.closePath(),a.fill(),a.beginPath(),a.moveTo(10,4),a.lineTo(11,4),a.lineTo(11,2),a.lineTo(10,2),a.lineTo(10,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,9),a.lineTo(2,9),a.lineTo(2,10),a.lineTo(4,10),a.lineTo(4,9),a.closePath(),a.fill(),a.beginPath(),a.moveTo(2,7),a.lineTo(1,7),a.lineTo(1,9),a.lineTo(2,9),a.lineTo(2,7),a.closePath(),a.fill(),a.beginPath(),a.moveTo(8,9),a.lineTo(10,9),a.lineTo(10,10),a.lineTo(8,10),a.lineTo(8,9),a.closePath(),a.fill(),a.beginPath(),a.moveTo(10,7),a.lineTo(11,7),a.lineTo(11,9),a.lineTo(10,9),a.lineTo(10,7),a.closePath(),a.fill(),a.beginPath(),a.moveTo(12,7),a.lineTo(11,7),a.lineTo(11,4),a.lineTo(12,4),a.lineTo(12,7),a.closePath(),a.fill(),a.beginPath(),a.moveTo(12,15),a.lineTo(7,15),a.lineTo(7,14),a.lineTo(12,14),a.lineTo(12,15),a.closePath(),a.fill(),a.beginPath(),a.moveTo(10,17),a.lineTo(9,17),a.lineTo(9,12),a.lineTo(10,12),a.lineTo(10,17),a.closePath(),a.fill()}function drawNewRectButton(a,b,c){a.fillStyle=b,a.beginPath(),a.moveTo(11,10),a.lineTo(1,10),a.lineTo(1,1),a.lineTo(11,1),a.lineTo(11,10),a.closePath(),a.fill(),a.fillStyle=c,a.beginPath(),a.moveTo(12,1),a.lineTo(0,1),a.lineTo(0,0),a.lineTo(12,0),a.lineTo(12,1),a.closePath(),a.fill(),a.beginPath(),a.moveTo(12,11),a.lineTo(0,11),a.lineTo(0,10),a.lineTo(12,10),a.lineTo(12,11),a.closePath(),a.fill(),a.beginPath(),a.moveTo(12,15),a.lineTo(7,15),a.lineTo(7,14),a.lineTo(12,14),a.lineTo(12,15),a.closePath(),a.fill(),a.beginPath(),a.moveTo(1,10),a.lineTo(0,10),a.lineTo(0,1),a.lineTo(1,1),a.lineTo(1,10),a.closePath(),a.fill(),a.beginPath(),a.moveTo(12,10),a.lineTo(11,10),a.lineTo(11,1),a.lineTo(12,1),a.lineTo(12,10),a.closePath(),a.fill(),a.beginPath(),a.moveTo(10,17),a.lineTo(9,17),a.lineTo(9,12),a.lineTo(10,12),a.lineTo(10,17),a.closePath(),a.fill()}function drawShapeResizeButton(a,b,c){a.fillStyle=b,a.save(),a.beginPath(),a.moveTo(4,4),a.lineTo(0,4),a.lineTo(0,0),a.lineTo(4,0),a.lineTo(4,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,9),a.lineTo(5,9),a.lineTo(5,5),a.lineTo(9,5),a.lineTo(9,9),a.closePath(),a.fill(),a.beginPath(),a.moveTo(14,14),a.lineTo(10,14),a.lineTo(10,10),a.lineTo(14,10),a.lineTo(14,14),a.closePath(),a.fill(),a.beginPath(),a.moveTo(14,4),a.lineTo(10,4),a.lineTo(10,0),a.lineTo(14,0),a.lineTo(14,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,14),a.lineTo(0,14),a.lineTo(0,10),a.lineTo(4,10),a.lineTo(4,14),a.closePath(),a.fill(),a.fillStyle=c,a.beginPath(),a.moveTo(12,11),a.lineTo(11,11),a.lineTo(11,3),a.lineTo(12,3),a.lineTo(12,11),a.closePath(),a.fill(),a.beginPath(),a.moveTo(11,12),a.lineTo(3,12),a.lineTo(3,11),a.lineTo(11,11),a.lineTo(11,12),a.closePath(),a.fill(),a.beginPath(),a.moveTo(11,3),a.lineTo(3,3),a.lineTo(3,2),a.lineTo(11,2),a.lineTo(11,3),a.closePath(),a.fill(),a.beginPath(),a.moveTo(3,11),a.lineTo(2,11),a.lineTo(2,3),a.lineTo(3,3),a.lineTo(3,11),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,1),a.lineTo(0,1),a.lineTo(0,0),a.lineTo(4,0),a.lineTo(4,1),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,4),a.lineTo(0,4),a.lineTo(0,3),a.lineTo(4,3),a.lineTo(4,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(1,4),a.lineTo(0,4),a.lineTo(0,0),a.lineTo(1,0),a.lineTo(1,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,4),a.lineTo(3,4),a.lineTo(3,0),a.lineTo(4,0),a.lineTo(4,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(14,1),a.lineTo(10,1),a.lineTo(10,0),a.lineTo(14,0),a.lineTo(14,1),a.closePath(),a.fill(),a.beginPath(),a.moveTo(14,4),a.lineTo(10,4),a.lineTo(10,3),a.lineTo(14,3),a.lineTo(14,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(11,4),a.lineTo(10,4),a.lineTo(10,0),a.lineTo(11,0),a.lineTo(11,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(14,4),a.lineTo(13,4),a.lineTo(13,0),a.lineTo(14,0),a.lineTo(14,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(14,11),a.lineTo(10,11),a.lineTo(10,10),a.lineTo(14,10),a.lineTo(14,11),a.closePath(),a.fill(),a.beginPath(),a.moveTo(14,14),a.lineTo(10,14),a.lineTo(10,13),a.lineTo(14,13),a.lineTo(14,14),a.closePath(),a.fill(),a.beginPath(),a.moveTo(11,14),a.lineTo(10,14),a.lineTo(10,10),a.lineTo(11,10),a.lineTo(11,14),a.closePath(),a.fill(),a.beginPath(),a.moveTo(14,14),a.lineTo(13,14),a.lineTo(13,10),a.lineTo(14,10),a.lineTo(14,14),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,11),a.lineTo(0,11),a.lineTo(0,10),a.lineTo(4,10),a.lineTo(4,11),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,14),a.lineTo(0,14),a.lineTo(0,13),a.lineTo(4,13),a.lineTo(4,14),a.closePath(),a.fill(),a.beginPath(),a.moveTo(1,14),a.lineTo(0,14),a.lineTo(0,10),a.lineTo(1,10),a.lineTo(1,14),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,14),a.lineTo(3,14),a.lineTo(3,10),a.lineTo(4,10),a.lineTo(4,14),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,6),a.lineTo(5,6),a.lineTo(5,5),a.lineTo(9,5),a.lineTo(9,6),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,9),a.lineTo(5,9),a.lineTo(5,8),a.lineTo(9,8),a.lineTo(9,9),a.closePath(),a.fill(),a.beginPath(),a.moveTo(6,9),a.lineTo(5,9),a.lineTo(5,5),a.lineTo(6,5),a.lineTo(6,9),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,9),a.lineTo(8,9),a.lineTo(8,5),a.lineTo(9,5),a.lineTo(9,9),a.closePath(),a.fill()}function drawPathEditButton(a,b,c){a.fillStyle=b,a.beginPath(),a.moveTo(8,18),a.lineTo(7,18),a.lineTo(7,14),a.lineTo(8,14),a.lineTo(8,18),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,18),a.lineTo(8,18),a.lineTo(8,16),a.lineTo(9,16),a.lineTo(9,18),a.closePath(),a.fill(),a.beginPath(),a.moveTo(6,14),a.lineTo(5,14),a.lineTo(5,12),a.lineTo(6,12),a.lineTo(6,14),a.closePath(),a.fill(),a.beginPath(),a.moveTo(3,4),a.lineTo(1,4),a.lineTo(1,3),a.lineTo(3,3),a.lineTo(3,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(7,16),a.lineTo(6,16),a.lineTo(6,7),a.lineTo(7,7),a.lineTo(7,16),a.closePath(),a.fill(),a.beginPath(),a.moveTo(6,12),a.lineTo(1,12),a.lineTo(1,6),a.lineTo(6,6),a.lineTo(6,12),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,12),a.lineTo(8,12),a.lineTo(8,9),a.lineTo(9,9),a.lineTo(9,12),a.closePath(),a.fill(),a.beginPath(),a.moveTo(8,12),a.lineTo(7,12),a.lineTo(7,8),a.lineTo(8,8),a.lineTo(8,12),a.closePath(),a.fill(),a.beginPath(),a.moveTo(11,12),a.lineTo(10,12),a.lineTo(10,11),a.lineTo(11,11),a.lineTo(11,12),a.closePath(),a.fill(),a.beginPath(),a.moveTo(10,12),a.lineTo(9,12),a.lineTo(9,10),a.lineTo(10,10),a.lineTo(10,12),a.closePath(),a.fill(),a.beginPath(),a.moveTo(2,16),a.lineTo(1,16),a.lineTo(1,15),a.lineTo(2,15),a.lineTo(2,16),a.closePath(),a.fill(),a.beginPath(),a.moveTo(2,3),a.lineTo(1,3),a.lineTo(1,2),a.lineTo(2,2),a.lineTo(2,3),a.closePath(),a.fill(),a.beginPath(),a.moveTo(3,15),a.lineTo(1,15),a.lineTo(1,14),a.lineTo(3,14),a.lineTo(3,15),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,14),a.lineTo(1,14),a.lineTo(1,13),a.lineTo(4,13),a.lineTo(4,14),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,5),a.lineTo(1,5),a.lineTo(1,4),a.lineTo(4,4),a.lineTo(4,5),a.closePath(),a.fill(),a.beginPath(),a.moveTo(5,13),a.lineTo(1,13),a.lineTo(1,12),a.lineTo(5,12),a.lineTo(5,13),a.closePath(),a.fill(),a.beginPath(),a.moveTo(5,6),a.lineTo(1,6),a.lineTo(1,5),a.lineTo(5,5),a.lineTo(5,6),a.closePath(),a.fill(),a.fillStyle=c,a.beginPath(),a.moveTo(1,17),a.lineTo(0,17),a.lineTo(0,0),a.lineTo(1,0),a.lineTo(1,17),a.closePath(),a.fill(),a.beginPath(),a.moveTo(2,2),a.lineTo(1,2),a.lineTo(1,1),a.lineTo(2,1),a.lineTo(2,2),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,4),a.lineTo(3,4),a.lineTo(3,3),a.lineTo(4,3),a.lineTo(4,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(3,3),a.lineTo(2,3),a.lineTo(2,2),a.lineTo(3,2),a.lineTo(3,3),a.closePath(),a.fill(),a.beginPath(),a.moveTo(6,6),a.lineTo(5,6),a.lineTo(5,5),a.lineTo(6,5),a.lineTo(6,6),a.closePath(),a.fill(),a.beginPath(),a.moveTo(5,5),a.lineTo(4,5),a.lineTo(4,4),a.lineTo(5,4),a.lineTo(5,5),a.closePath(),a.fill(),a.beginPath(),a.moveTo(8,8),a.lineTo(7,8),a.lineTo(7,7),a.lineTo(8,7),a.lineTo(8,8),a.closePath(),a.fill(),a.beginPath(),a.moveTo(7,7),a.lineTo(6,7),a.lineTo(6,6),a.lineTo(7,6),a.lineTo(7,7),a.closePath(),a.fill(),a.beginPath(),a.moveTo(12,13),a.lineTo(7,13),a.lineTo(7,12),a.lineTo(12,12),a.lineTo(12,13),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,9),a.lineTo(8,9),a.lineTo(8,8),a.lineTo(9,8),a.lineTo(9,9),a.closePath(),a.fill(),a.beginPath(),a.moveTo(10,10),a.lineTo(9,10),a.lineTo(9,9),a.lineTo(10,9),a.lineTo(10,10),a.closePath(),a.fill(),a.beginPath(),a.moveTo(11,11),a.lineTo(10,11),a.lineTo(10,10),a.lineTo(11,10),a.lineTo(11,11),a.closePath(),a.fill(),a.beginPath(),a.moveTo(12,12),a.lineTo(11,12),a.lineTo(11,11),a.lineTo(12,11),a.lineTo(12,12),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,19),a.lineTo(7,19),a.lineTo(7,18),a.lineTo(9,18),a.lineTo(9,19),a.closePath(),a.fill(),a.beginPath(),a.moveTo(2,17),a.lineTo(1,17),a.lineTo(1,16),a.lineTo(2,16),a.lineTo(2,17),a.closePath(),a.fill(),a.beginPath(),a.moveTo(3,16),a.lineTo(2,16),a.lineTo(2,15),a.lineTo(3,15),a.lineTo(3,16),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,15),a.lineTo(3,15),a.lineTo(3,14),a.lineTo(4,14),a.lineTo(4,15),a.closePath(),a.fill(),a.beginPath(),a.moveTo(5,14),a.lineTo(4,14),a.lineTo(4,13),a.lineTo(5,13),a.lineTo(5,14),a.closePath(),a.fill(),a.beginPath(),a.moveTo(5,14),a.lineTo(6,14),a.lineTo(6,16),a.lineTo(5,16),a.lineTo(5,14),a.closePath(),a.fill(),a.beginPath(),a.moveTo(6,16),a.lineTo(7,16),a.lineTo(7,18),a.lineTo(6,18),a.lineTo(6,16),a.closePath(),a.fill(),a.beginPath(),a.moveTo(7,12),a.lineTo(8,12),a.lineTo(8,14),a.lineTo(7,14),a.lineTo(7,12),a.closePath(),a.fill(),a.beginPath(),a.moveTo(8,14),a.lineTo(9,14),a.lineTo(9,16),a.lineTo(8,16),a.lineTo(8,14),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,16),a.lineTo(10,16),a.lineTo(10,18),a.lineTo(9,18),a.lineTo(9,16),a.closePath(),a.fill()}function drawPanButton(a,b){a.fillStyle=b,a.beginPath(),a.moveTo(9,7),a.lineTo(7,7),a.lineTo(7,2),a.lineTo(9,2),a.lineTo(9,7),a.closePath(),a.fill(),a.beginPath(),a.moveTo(11,3),a.lineTo(5,3),a.lineTo(5,2),a.lineTo(11,2),a.lineTo(11,3),a.closePath(),a.fill(),a.beginPath(),a.moveTo(10,2),a.lineTo(6,2),a.lineTo(6,1),a.lineTo(10,1),a.lineTo(10,2),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,1),a.lineTo(7,1),a.lineTo(7,0),a.lineTo(9,0),a.lineTo(9,1),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,7),a.lineTo(7,7),a.lineTo(7,12),a.lineTo(9,12),a.lineTo(9,7),a.closePath(),a.fill(),a.beginPath(),a.moveTo(11,11),a.lineTo(5,11),a.lineTo(5,12),a.lineTo(11,12),a.lineTo(11,11),a.closePath(),a.fill(),a.beginPath(),a.moveTo(10,12),a.lineTo(6,12),a.lineTo(6,13),a.lineTo(10,13),a.lineTo(10,12),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,13),a.lineTo(7,13),a.lineTo(7,14),a.lineTo(9,14),a.lineTo(9,13),a.closePath(),a.fill(),a.beginPath(),a.moveTo(8,6),a.lineTo(8,8),a.lineTo(13,8),a.lineTo(13,6),a.lineTo(8,6),a.closePath(),a.fill(),a.beginPath(),a.moveTo(12,4),a.lineTo(12,10),a.lineTo(13,10),a.lineTo(13,4),a.lineTo(12,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(13,5),a.lineTo(13,9),a.lineTo(14,9),a.lineTo(14,5),a.lineTo(13,5),a.closePath(),a.fill(),a.beginPath(),a.moveTo(14,6),a.lineTo(14,8),a.lineTo(15,8),a.lineTo(15,6),a.lineTo(14,6),a.closePath(),a.fill(),a.beginPath(),a.moveTo(8,6),a.lineTo(8,8),a.lineTo(3,8),a.lineTo(3,6),a.lineTo(8,6),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,4),a.lineTo(4,10),a.lineTo(3,10),a.lineTo(3,4),a.lineTo(4,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(3,5),a.lineTo(3,9),a.lineTo(2,9),a.lineTo(2,5),a.lineTo(3,5),a.closePath(),a.fill(),a.beginPath(),a.moveTo(2,6),a.lineTo(2,8),a.lineTo(1,8),a.lineTo(1,6),a.lineTo(2,6),a.closePath(),a.fill()}function drawZoomInButton(a,b){a.fillStyle=b,a.beginPath(),a.moveTo(9,3),a.lineTo(7,3),a.lineTo(7,13),a.lineTo(9,13),a.lineTo(9,3),a.closePath(),a.fill(),a.beginPath(),a.moveTo(13,7),a.lineTo(13,9),a.lineTo(3,9),a.lineTo(3,7),a.lineTo(13,7),a.closePath(),a.fill()}function drawZoomOutButton(a,b){a.fillStyle=b,a.beginPath(),a.moveTo(13,7),a.lineTo(13,9),a.lineTo(3,9),a.lineTo(3,7),a.lineTo(13,7),a.closePath(),a.fill()}function drawZoom1to1Button(a,b){a.fillStyle=b,a.beginPath(),a.moveTo(5,3),a.lineTo(3,3),a.lineTo(3,13),a.lineTo(5,13),a.lineTo(5,3),a.closePath(),a.fill(),a.beginPath(),a.moveTo(14,3),a.lineTo(12,3),a.lineTo(12,13),a.lineTo(14,13),a.lineTo(14,3),a.closePath(),a.fill(),a.beginPath(),a.moveTo(12,3),a.lineTo(11,3),a.lineTo(11,5),a.lineTo(12,5),a.lineTo(12,3),a.closePath(),a.fill(),a.beginPath(),a.moveTo(3,3),a.lineTo(2,3),a.lineTo(2,5),a.lineTo(3,5),a.lineTo(3,3),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,9),a.lineTo(7,9),a.lineTo(7,11),a.lineTo(9,11),a.lineTo(9,9),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,5),a.lineTo(7,5),a.lineTo(7,7),a.lineTo(9,7),a.lineTo(9,5),a.closePath(),a.fill()}function drawZoomEmButton(a,b){a.fillStyle=b,a.save(),a.beginPath(),a.moveTo(1,0),a.lineTo(0,0),a.lineTo(0,11),a.lineTo(1,11),a.lineTo(1,0),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,2),a.lineTo(2,2),a.lineTo(2,10),a.lineTo(4,10),a.lineTo(4,2),a.closePath(),a.fill(),a.beginPath(),a.moveTo(12,2),a.lineTo(10,2),a.lineTo(10,10),a.lineTo(12,10),a.lineTo(12,2),a.closePath(),a.fill(),a.beginPath(),a.moveTo(11,3),a.lineTo(9,3),a.lineTo(9,5),a.lineTo(11,5),a.lineTo(11,3),a.closePath(),a.fill(),a.beginPath(),a.moveTo(10,4),a.lineTo(8,4),a.lineTo(8,6),a.lineTo(10,6),a.lineTo(10,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(8,6),a.lineTo(6,6),a.lineTo(6,8),a.lineTo(8,8),a.lineTo(8,6),a.closePath(),a.fill(),a.beginPath(),a.moveTo(6,4),a.lineTo(4,4),a.lineTo(4,6),a.lineTo(6,6),a.lineTo(6,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,5),a.lineTo(5,5),a.lineTo(5,7),a.lineTo(9,7),a.lineTo(9,5),a.closePath(),a.fill(),a.beginPath(),a.moveTo(5,3),a.lineTo(3,3),a.lineTo(3,5),a.lineTo(5,5),a.lineTo(5,3),a.closePath(),a.fill(),a.beginPath(),a.moveTo(14,0),a.lineTo(13,0),a.lineTo(13,11),a.lineTo(14,11),a.lineTo(14,0),a.closePath(),a.fill(),a.beginPath(),a.moveTo(14,11),a.lineTo(0,11),a.lineTo(0,12),a.lineTo(14,12),a.lineTo(14,11),a.closePath(),a.fill(),a.beginPath(),a.moveTo(14,0),a.lineTo(0,0),a.lineTo(0,1),a.lineTo(14,1),a.lineTo(14,0),a.closePath(),a.fill()}function drawPointCornerButton(a,b){a.fillStyle=b,a.beginPath(),a.moveTo(6,8),a.lineTo(5,8),a.lineTo(5,5),a.lineTo(6,5),a.lineTo(6,8),a.closePath(),a.fill(),a.beginPath(),a.moveTo(8,5),a.lineTo(7,5),a.lineTo(7,8),a.lineTo(8,8),a.lineTo(8,5),a.closePath(),a.fill(),a.beginPath(),a.moveTo(5,6),a.lineTo(8,6),a.lineTo(8,5),a.lineTo(5,5),a.lineTo(5,6),a.closePath(),a.fill(),a.beginPath(),a.moveTo(5,8),a.lineTo(8,8),a.lineTo(8,7),a.lineTo(5,7),a.lineTo(5,8),a.closePath(),a.fill(),a.beginPath(),a.moveTo(5,5),a.lineTo(4,5),a.lineTo(4,4),a.lineTo(5,4),a.lineTo(5,5),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,4),a.lineTo(3,4),a.lineTo(3,3),a.lineTo(4,3),a.lineTo(4,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(3,3),a.lineTo(2,3),a.lineTo(2,2),a.lineTo(3,2),a.lineTo(3,3),a.closePath(),a.fill(),a.beginPath(),a.moveTo(5,9),a.lineTo(4,9),a.lineTo(4,8),a.lineTo(5,8),a.lineTo(5,9),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,10),a.lineTo(3,10),a.lineTo(3,9),a.lineTo(4,9),a.lineTo(4,10),a.closePath(),a.fill(),a.beginPath(),a.moveTo(3,11),a.lineTo(2,11),a.lineTo(2,10),a.lineTo(3,10),a.lineTo(3,11),a.closePath(),a.fill(),a.beginPath(),a.moveTo(2,2),a.lineTo(0,2),a.lineTo(0,0),a.lineTo(2,0),a.lineTo(2,2),a.closePath(),a.fill(),a.beginPath(),a.moveTo(2,13),a.lineTo(0,13),a.lineTo(0,11),a.lineTo(2,11),a.lineTo(2,13),a.closePath(),a.fill()}function drawPointFlatButton(a,b){a.fillStyle=b,a.beginPath(),a.moveTo(6,8),a.lineTo(5,8),a.lineTo(5,5),a.lineTo(6,5),a.lineTo(6,8),a.closePath(),a.fill(),a.beginPath(),a.moveTo(8,5),a.lineTo(7,5),a.lineTo(7,8),a.lineTo(8,8),a.lineTo(8,5),a.closePath(),a.fill(),a.beginPath(),a.moveTo(5,6),a.lineTo(8,6),a.lineTo(8,5),a.lineTo(5,5),a.lineTo(5,6),a.closePath(),a.fill(),a.beginPath(),a.moveTo(6,8),a.lineTo(7,8),a.lineTo(7,7),a.lineTo(6,7),a.lineTo(6,8),a.closePath(),a.fill(),a.beginPath(),a.moveTo(5,5),a.lineTo(4,5),a.lineTo(4,4),a.lineTo(5,4),a.lineTo(5,5),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,9),a.lineTo(8,9),a.lineTo(8,8),a.lineTo(9,8),a.lineTo(9,9),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,4),a.lineTo(3,4),a.lineTo(3,3),a.lineTo(4,3),a.lineTo(4,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(3,3),a.lineTo(2,3),a.lineTo(2,2),a.lineTo(3,2),a.lineTo(3,3),a.closePath(),a.fill(),a.beginPath(),a.moveTo(2,2),a.lineTo(0,2),a.lineTo(0,0),a.lineTo(2,0),a.lineTo(2,2),a.closePath(),a.fill(),a.beginPath(),a.moveTo(11,11),a.lineTo(9,11),a.lineTo(9,9),a.lineTo(11,9),a.lineTo(11,11),a.closePath(),a.fill()}function drawPointSymmetricButton(a,b){a.fillStyle=b,a.beginPath(),a.moveTo(5,5),a.lineTo(4,5),a.lineTo(4,4),a.lineTo(5,4),a.lineTo(5,5),a.closePath(),a.fill(),a.beginPath(),a.moveTo(4,4),a.lineTo(3,4),a.lineTo(3,3),a.lineTo(4,3),a.lineTo(4,4),a.closePath(),a.fill(),a.beginPath(),a.moveTo(3,3),a.lineTo(2,3),a.lineTo(2,2),a.lineTo(3,2),a.lineTo(3,3),a.closePath(),a.fill(),a.beginPath(),a.moveTo(2,2),a.lineTo(0,2),a.lineTo(0,0),a.lineTo(2,0),a.lineTo(2,2),a.closePath(),a.fill(),a.beginPath(),a.moveTo(11,11),a.lineTo(10,11),a.lineTo(10,10),a.lineTo(11,10),a.lineTo(11,11),a.closePath(),a.fill(),a.beginPath(),a.moveTo(10,10),a.lineTo(9,10),a.lineTo(9,9),a.lineTo(10,9),a.lineTo(10,10),a.closePath(),a.fill(),a.beginPath(),a.moveTo(9,9),a.lineTo(8,9),a.lineTo(8,8),a.lineTo(9,8),a.lineTo(9,9),a.closePath(),a.fill(),a.beginPath(),a.moveTo(13,13),a.lineTo(11,13),a.lineTo(11,11),a.lineTo(13,11),a.lineTo(13,13),a.closePath(),a.fill(),a.beginPath(),a.moveTo(6,8),a.lineTo(5,8),a.lineTo(5,5),a.lineTo(6,5),a.lineTo(6,8),a.closePath(),a.fill(),a.beginPath(),a.moveTo(8,5),a.lineTo(7,5),a.lineTo(7,8),a.lineTo(8,8),a.lineTo(8,5),a.closePath(),a.fill(),a.beginPath(),a.moveTo(5,6),a.lineTo(8,6),a.lineTo(8,5),a.lineTo(5,5),a.lineTo(5,6),a.closePath(),a.fill(),a.beginPath(),a.moveTo(8,8),a.lineTo(5,8),a.lineTo(5,7),a.lineTo(8,7),a.lineTo(8,8),a.closePath(),a.fill()}function drawLockButton(a,b){var c=a.getContext("2d");c.fillStyle=b,c.beginPath(),c.moveTo(7,4),c.lineTo(0,4),c.lineTo(0,9),c.lineTo(7,9),c.lineTo(7,4),c.closePath(),c.fill(),c.beginPath(),c.moveTo(2,4),c.lineTo(1,4),c.lineTo(1,1),c.lineTo(2,1),c.lineTo(2,4),c.closePath(),c.fill(),c.beginPath(),c.moveTo(5,4),c.lineTo(6,4),c.lineTo(6,1),c.lineTo(5,1),c.lineTo(5,4),c.closePath(),c.fill(),c.beginPath(),c.moveTo(5,1),c.lineTo(2,1),c.lineTo(2,0),c.lineTo(5,0),c.lineTo(5,1),c.closePath(),c.fill()}function drawCheckbox(a,b){var c=a.getContext("2d");c.fillStyle=_UI.colors.text_light,c.beginPath(),c.moveTo(12,15),c.lineTo(0,15),c.lineTo(0,3),c.lineTo(12,3),c.lineTo(12,15),c.closePath(),c.fill(),b&&(c.fillStyle=_UI.colors.accent,c.beginPath(),c.moveTo(0,9),c.lineTo(5.5,15),c.lineTo(15,3.5),c.lineTo(13,0),c.lineTo(5.5,11),c.lineTo(2,6.5),c.lineTo(0,9),c.closePath(),c.fill())}function initEventHandlers(){function b(b){switch(mouseovercec(),document.onselectstart=function(){return!1},(b.layerX||b.layerX)&&(_UI.eventhandlers.mousex=b.layerX-470,_UI.eventhandlers.mousey=b.layerY),(b.offsetX||b.offsetX)&&(_UI.eventhandlers.mousex=b.offsetX,_UI.eventhandlers.mousey=b.offsetY),resetCursor(),_UI.selectedtool){case"pathedit":a=_UI.eventhandlers.eh_shapesel;break;case"shaperesize":a=_UI.eventhandlers.eh_shaperesize;break;case"pan":document.body.style.cursor="move",a=_UI.eventhandlers.eh_pantool;break;case"newpath":document.body.style.cursor="crosshair",a=_UI.eventhandlers.eh_addpath;break;case"newrect":case"newoval":document.body.style.cursor="crosshair",a=_UI.eventhandlers.eh_addrectoval}a[b.type](b)}var a=new pathedit;_UI.eventhandlers.eh_addrectoval=new newbasicShape,_UI.eventhandlers.eh_shapesel=new pathedit,_UI.eventhandlers.eh_shaperesize=new shaperesize,_UI.eventhandlers.eh_pantool=new pantool,_UI.eventhandlers.eh_addpath=new newPath,_UI.eventhandlers.eh_addrectoval=new newbasicShape,_UI.chareditcanvas.addEventListener("mousedown",b,!1),_UI.chareditcanvas.addEventListener("mousemove",b,!1),_UI.chareditcanvas.addEventListener("mouseup",b,!1),_UI.chareditcanvas.onmouseover=mouseovercec,_UI.chareditcanvas.onmouseout=mouseoutcec,document.onkeypress=keypress,document.onkeydown=keydown,document.onkeyup=keyup,document.onmousewheel=mousewheel,window.addEventListener("DOMMouseScroll",mousewheel,!1)}function newPath(){this.dragging=!1,this.firstpoint=!0,this.currpt,this.mousedown=function(){var b=new PathPoint({P:new Coord({x:cx_sx(_UI.eventhandlers.mousex),y:cy_sy(_UI.eventhandlers.mousey)}),H1:new Coord({x:cx_sx(_UI.eventhandlers.mousex-100),y:cy_sy(_UI.eventhandlers.mousey)}),H2:new Coord({x:cx_sx(_UI.eventhandlers.mousex+100),y:cy_sy(_UI.eventhandlers.mousey)}),type:"flat",selected:!0,useh1:!1,useh2:!1});if(this.firstpoint){var c=new Path({pathpoints:[b]}),d=addShape(new Shape({name:"path "+(_UI.shapelayers.length+1),path:c}));d.path.selectPathPoint(0)}else{var e=ss("Event Handler New Path").path,f=e.isOverControlPoint(cx_sx(_UI.eventhandlers.mousex),cy_sy(_UI.eventhandlers.mousey));if("P"==f&&e.pathpoints.length>1){var g=e.pathpoints[0],h=_GP.projectsettings.pointsize/getView("Event Handler newPath mousedown").dz;if(g.P.x+h>cx_sx(_UI.eventhandlers.mousex)&&g.P.x-h<cx_sx(_UI.eventhandlers.mousex)&&g.P.y+h>cy_sy(_UI.eventhandlers.mousey)&&g.P.y-h<cy_sy(_UI.eventhandlers.mousey))return _UI.selectedtool="pathedit",_UI.eventhandlers.eh_shapesel.moving=!0,_UI.eventhandlers.eh_shapesel.controlpoint="H2",_UI.eventhandlers.toolhandoff=!0,this.dragging=!1,this.firstmove=!1,_UI.eventhandlers.lastx=_UI.eventhandlers.mousex,_UI.eventhandlers.lasty=_UI.eventhandlers.mousey,e.clockwise=findClockwise(e.pathpoints),redraw("Event Handler newPath mousedown"),void 0}e.addPathPoint(b,!1)}this.currpt=ss("Event Handler New Path").path.sp(!1,"Event Handler New Path"),this.firstpoint=!1,this.dragging=!0,_UI.eventhandlers.lastx=_UI.eventhandlers.mousex,_UI.eventhandlers.lasty=_UI.eventhandlers.mousey},this.mouseup=function(){this.dragging=!1,this.firstmove=!1,_UI.eventhandlers.lastx=-100,_UI.eventhandlers.lasty=-100,updateCurrentCharWidth(),putundoq("New Path tool"),redraw("Event Handler newPath mouseup")},this.mousemove=function(){this.dragging&&((Math.abs(this.currpt.P.x-cx_sx(_UI.eventhandlers.mousex))>2*_GP.projectsettings.pointsize||Math.abs(this.currpt.P.y-cy_sy(_UI.eventhandlers.mousey))>2*_GP.projectsettings.pointsize)&&(this.currpt.useh1=!0,this.currpt.useh2=!0,this.currpt.H2.x=cx_sx(_UI.eventhandlers.mousex),this.currpt.H2.y=cy_sy(_UI.eventhandlers.mousey),this.currpt.makeSymmetric("H2")),_UI.eventhandlers.lastx=_UI.eventhandlers.mousex,_UI.eventhandlers.lasty=_UI.eventhandlers.mousey,redraw("Event Handler newPath mousemove"))}}function newbasicShape(){this.mousedown=function(){var b=new Shape({visible:!1});b.name="newrect"==_UI.selectedtool?"rect "+(_UI.shapelayers.length+1):"oval "+(_UI.shapelayers.length+1),b=addShape(b),b.path.setLeftX(cx_sx(_UI.eventhandlers.mousex)),b.path.setTopY(cy_sy(_UI.eventhandlers.mousey)),_UI.eventhandlers.temppathdragshape={leftx:cx_sx(_UI.eventhandlers.mousex),rightx:cx_sx(_UI.eventhandlers.mousex),topy:cy_sy(_UI.eventhandlers.mousey),bottomy:cy_sy(_UI.eventhandlers.mousey)},this.dragging=!0,_UI.eventhandlers.lastx=_UI.eventhandlers.mousex,_UI.eventhandlers.lasty=_UI.eventhandlers.mousey,_UI.eventhandlers.firstx=_UI.eventhandlers.mousex,_UI.eventhandlers.firsty=_UI.eventhandlers.mousey,redraw("Event Handler newbasicshape mousedown")},this.mouseup=function(){var a=ss("eventHandler - newbasicshape mouseup");Math.abs(_UI.eventhandlers.lastx-_UI.eventhandlers.firstx)<_GP.projectsettings.pointsize&&Math.abs(_UI.eventhandlers.lasty-_UI.eventhandlers.firsty)<_GP.projectsettings.pointsize&&(_UI.eventhandlers.temppathdragshape={leftx:a.path.leftx,rightx:a.path.rightx,topy:a.path.topy,bottomy:a.path.bottomy}),a.path="newrect"==_UI.selectedtool?rectPathFromCorners(_UI.eventhandlers.temppathdragshape):ovalPathFromCorners(_UI.eventhandlers.temppathdragshape),a.visible=!0,this.dragging=!1,_UI.eventhandlers.lastx=-100,_UI.eventhandlers.lasty=-100,_UI.eventhandlers.firstx=-100,_UI.eventhandlers.firsty=-100,_UI.eventhandlers.temppathdragshape=!1,updateCurrentCharWidth(),putundoq("New Basic Shape tool"),_UI.eventhandlers.uqhaschanged=!1,clicktool("pathedit")},this.mousemove=function(){if(this.dragging){var b=ss("eventHandler - newbasicshape mousemove");evHanShapeResize(b,"se"),_UI.eventhandlers.lastx=_UI.eventhandlers.mousex,_UI.eventhandlers.lasty=_UI.eventhandlers.mousey,_UI.eventhandlers.uqhaschanged=!0,redraw("Event Handler newbasicshape mousemove")}}}function pathedit(){this.moving=!1,this.controlpoint=!1,this.mousedown=function(){var b=ss("Path Edit - Mouse Down");this.controlpoint=b?b.path.isOverControlPoint(cx_sx(_UI.eventhandlers.mousex),cy_sy(_UI.eventhandlers.mousey)):!1,this.controlpoint?(this.moving=!0,_UI.eventhandlers.lastx=_UI.eventhandlers.mousex,_UI.eventhandlers.lasty=_UI.eventhandlers.mousey):clickSelectShape(_UI.eventhandlers.mousex,_UI.eventhandlers.mousey)?(_UI.eventhandlers.lastx=_UI.eventhandlers.mousex,_UI.eventhandlers.lasty=_UI.eventhandlers.mousey):(b&&b.path.calcMaxes(),clickEmptySpace()),redraw("Event Handler pathedit mousedown")},this.mouseup=function(){this.moving=!1,_UI.eventhandlers.lastx=-100,_UI.eventhandlers.lasty=-100,_UI.eventhandlers.uqhaschanged&&(ss("Path Edit - Mouse Up").path.calcMaxes(),updateCurrentCharWidth(),putundoq("Path Edit tool"),_UI.eventhandlers.uqhaschanged=!1,redraw("Event Handler pathedit mouseup"))},this.mousemove=function(){if(this.moving){var b=ss("Path Edit - Mouse Move"),c=b.path.sp();_UI.eventhandlers.toolhandoff&&(c.H2.x=cx_sx(_UI.eventhandlers.mousex),c.H2.y=cy_sy(_UI.eventhandlers.mousey),_UI.eventhandlers.toolhandoff=!1);var d=0,e=0,f=getView("Event Handler pathedit mousemove").dz;switch(this.controlpoint){case"P":c.P.xlock||(d=(_UI.eventhandlers.mousex-_UI.eventhandlers.lastx)/f),c.P.ylock||(e=(_UI.eventhandlers.lasty-_UI.eventhandlers.mousey)/f);break;case"H1":c.H1.xlock||(d=(_UI.eventhandlers.mousex-_UI.eventhandlers.lastx)/f),c.H1.ylock||(e=(_UI.eventhandlers.lasty-_UI.eventhandlers.mousey)/f);break;case"H2":c.H2.xlock||(d=(_UI.eventhandlers.mousex-_UI.eventhandlers.lastx)/f),c.H2.ylock||(e=(_UI.eventhandlers.lasty-_UI.eventhandlers.mousey)/f)}c.updatePointPosition(this.controlpoint,d,e),_UI.eventhandlers.lastx=_UI.eventhandlers.mousex,_UI.eventhandlers.lasty=_UI.eventhandlers.mousey,_UI.eventhandlers.uqhaschanged=!0,redraw("Event Handler pathedit mousemove")}}}function shaperesize(){this.dragging=!1,this.resizing=!1,_UI.eventhandlers.corner=!1,this.mousedown=function(){var b=ss("eventHandler - mousedown");_UI.eventhandlers.corner=b?b.isOverHandle(_UI.eventhandlers.mousex,_UI.eventhandlers.mousey):!1,_UI.eventhandlers.lastx=_UI.eventhandlers.mousex,_UI.eventhandlers.firstx=_UI.eventhandlers.mousex,_UI.eventhandlers.lasty=_UI.eventhandlers.mousey,_UI.eventhandlers.firsty=_UI.eventhandlers.mousey,_UI.eventhandlers.corner?(this.resizing=!0,this.dragging=!1,_GP.projectsettings.quickpathupdating&&(_UI.eventhandlers.temppathdragshape={leftx:b.path.leftx,rightx:b.path.rightx,topy:b.path.topy,bottomy:b.path.bottomy},b.hidden=!0)):clickSelectShape(_UI.eventhandlers.mousex,_UI.eventhandlers.mousey)?(this.dragging=!0,this.resizing=!1,redraw("Event Handler shaperesize mousedown")):clickEmptySpace()},this.mouseup=function(){resetCursor();var a=ss("eventHandler - mouseup");_UI.eventhandlers.temppathdragshape&&(_UI.eventhandlers.temppathdragshape=!1,a.hidden=!1,_UI.eventhandlers.lastx=_UI.eventhandlers.firstx,_UI.eventhandlers.lasty=_UI.eventhandlers.firsty,evHanShapeResize(a,_UI.eventhandlers.corner)),this.resizing&&a.path.calcMaxes(),updateCurrentCharWidth(),this.dragging=!1,this.resizing=!1,_UI.eventhandlers.lastx=-100,_UI.eventhandlers.lasty=-100,_UI.eventhandlers.firstx=-100,_UI.eventhandlers.firsty=-100,_UI.eventhandlers.uqhaschanged?putundoq("Path Edit tool"):!0,_UI.eventhandlers.uqhaschanged=!1,redraw("Event Handler shaperesize mouseup")},this.mousemove=function(){var b=ss("eventHandler - shaperesize mousemove"),c=!1,d=getView("Event Handler shaperesize mousemove").dz;if(b.link)this.dragging&&!b.uselinkedshapexy&&(b.xpos+=Math.round((_UI.eventhandlers.mousex-_UI.eventhandlers.lastx)/d),b.ypos+=Math.round((_UI.eventhandlers.lasty-_UI.eventhandlers.mousey)/d),c=!0,resetCursor());else{if(this.dragging){var e=b.xlock?0:e=Math.round((_UI.eventhandlers.mousex-_UI.eventhandlers.lastx)/d),f=b.ylock?0:f=Math.round((_UI.eventhandlers.lasty-_UI.eventhandlers.mousey)/d);b.path.updatePathPosition(e,f),resetCursor(),c=!0}else this.resizing&&(evHanShapeResize(b,_UI.eventhandlers.corner),c=!0);b?b.isOverHandle(_UI.eventhandlers.mousex,_UI.eventhandlers.mousey):!1}c&&(_UI.eventhandlers.lastx=_UI.eventhandlers.mousex,_UI.eventhandlers.lasty=_UI.eventhandlers.mousey,_UI.eventhandlers.uqhaschanged=!0,redraw("Event Handler shaperesize mousemove"))}}function pantool(){this.dragging=!1,this.deltax=0,this.deltay=0,this.mousedown=function(){var b=getView("Event Handler pantool mousedown");this.deltax=_UI.eventhandlers.mousex-b.dx,this.deltay=_UI.eventhandlers.mousey-b.dy,this.dragging=!0},this.mouseup=function(){this.dragging=!1,this.deltax=0,this.deltay=0},this.mousemove=function(){this.dragging&&(setView({dx:_UI.eventhandlers.mousex-this.deltax,dy:_UI.eventhandlers.mousey-this.deltay}),redraw("Event Handler pantool mousemove"))}}function cx_sx(a){var b=getView("cx_sx");return Math.round((a-b.dx)/b.dz)}function cy_sy(a){var b=getView("cy_sy");return Math.round((b.dy-a)/b.dz)}function clickEmptySpace(){var a=ss("Click Empty Space");a&&(a.path.selectPathPoint(!1),a.path.calcMaxes()),_UI.selectedshape=-1}function evHanShapeResize(a,b){var c=cx_sx(_UI.eventhandlers.mousex),d=cy_sy(_UI.eventhandlers.mousey),e=cx_sx(_UI.eventhandlers.lastx),f=cy_sy(_UI.eventhandlers.lasty);switch(b){case"nw":if(canResize("nw")){var g=d-f,h=c-e;_UI.eventhandlers.temppathdragshape?updateTPDS(h,g,-1*h,-1*g):(a.path.updatePathSize(-1*h,g),a.path.updatePathPosition(h,0))}break;case"n":if(canResize("n")){var g=d-f;_UI.eventhandlers.temppathdragshape?updateTPDS(0,g,0,-1*g):a.path.updatePathSize(0,g)}break;case"ne":if(canResize("ne")){var g=d-f,h=c-e;_UI.eventhandlers.temppathdragshape?updateTPDS(0,g,h,-1*g):a.path.updatePathSize(h,g)}break;case"e":if(canResize("e")){var h=c-e;_UI.eventhandlers.temppathdragshape?updateTPDS(0,0,h,0):a.path.updatePathSize(h,0)}break;case"se":if(canResize("se")){var g=-1*(f-d),h=c-e;_UI.eventhandlers.temppathdragshape?updateTPDS(0,0,h,g):(a.path.updatePathSize(h,-1*g),a.path.updatePathPosition(0,g))}break;case"s":if(canResize("s")){var g=-1*(f-d);_UI.eventhandlers.temppathdragshape?updateTPDS(0,0,0,g):(a.path.updatePathSize(0,-1*g),a.path.updatePathPosition(0,g))}break;case"sw":if(canResize("sw")){var h=c-e,g=-1*(f-d);_UI.eventhandlers.temppathdragshape?updateTPDS(h,0,-1*h,g):(a.path.updatePathSize(-1*h,-1*g),a.path.updatePathPosition(h,g))}break;case"w":if(canResize("w")){var h=c-e;_UI.eventhandlers.temppathdragshape?updateTPDS(h,0,-1*h,0):(a.path.updatePathSize(-1*h,0),a.path.updatePathPosition(h,0))}}}function updateTPDS(a,b,c,d){_UI.eventhandlers.temppathdragshape.leftx+=Math.round(a),_UI.eventhandlers.temppathdragshape.topy+=Math.round(b),_UI.eventhandlers.temppathdragshape.rightx+=Math.round(c+a),_UI.eventhandlers.temppathdragshape.bottomy+=Math.round(d+b)}function canResize(a){var b=ss("canResize");switch(a){case"nw":return!(b.ylock||b.hlock||b.xlock||b.wlock);case"n":return!b.ylock&&!b.hlock;case"ne":return!b.ylock&&!b.hlock&&!b.wlock;case"e":return!b.wlock;case"se":return!b.hlock&&!b.wlock;case"s":return!b.hlock;case"sw":return!b.hlock&&!b.xlock&&!b.wlock;case"w":return!b.xlock&&!b.wlock}return!0}function mousewheel(a){var b=a.detail?-120*a.detail:a.wheelDelta,c="character edit"==_UI.navhere||"linked shapes"==_UI.navhere;c=c&&"block"!=document.getElementById("dialog_box").style.display,c&&(b>0?viewZoom(1.1):viewZoom(.9))}function mouseovercec(){_UI.eventhandlers.ismouseovercec=!0,document.onselectstart=function(){return!1}}function mouseoutcec(){_UI.eventhandlers.ismouseovercec=!1,document.onselectstart=function(){},resetCursor()}function keydown(a){32==a.keyCode&&_UI.eventhandlers.ismouseovercec&&(_UI.eventhandlers.iskeydown||(_UI.eventhandlers.lastTool=_UI.selectedtool,_UI.selectedtool="pan",_UI.eventhandlers.iskeydown=!0,document.body.style.cursor="move",redraw("Event Handler - Keydown Spacebar for pan toggle")))}function keyup(a){32==a.keyCode&&_UI.eventhandlers.ismouseovercec&&(_UI.selectedtool=_UI.eventhandlers.lastTool,_UI.eventhandlers.iskeydown=!1,resetCursor(),redraw("Event Handler - Keyup Spacebar for pan toggle"))}function keypress(){}function triggerProjectFileDownload(){var a=JSON.stringify(_GP,void 0,"	");a=a.replace(/\n/g,"\r\n");var b=new Blob([a],{type:"text/plain;charset=utf-8",endings:"native"}),c=_GP.projectsettings.name+" - Glyphr Project - "+genDateStampSuffix()+".txt";try{window.navigator.msSaveBlob(b,c)}catch(d){var e=document.createElement("a");e.href=window.URL.createObjectURL(b),e.download=c;var f=document.createEvent("MouseEvents");f.initEvent("click",!0,!1),e.dispatchEvent(f)}setProjectAsSaved()}function genDateStampSuffix(){var a=new Date,b=a.getFullYear(),c=a.getMonth()+1,d=a.getDate(),e=a.getHours(),f=(a.getMinutes()<10?"0":"")+a.getMinutes(),g=(a.getSeconds()<10?"0":"")+a.getSeconds();return""+b+"."+c+"."+d+"-"+e+"."+f+"."+g}function triggerTTXFileDownload(){var a=generateTTXXML();a=a.replace(/\n/g,"\r\n");var b=new Blob([a],{type:"text/plain;charset=utf-8"}),c=document.createElement("a");c.href=window.URL.createObjectURL(b),c.download="TTX Data - "+_GP.projectsettings.name+" - "+genDateStampSuffix()+".ttx",c.click()}function generateTTXXML(){var a=calcFontMaxes(),b='<?xml version="1.0" encoding="ISO-8859-1"?>\n';return b+='<ttFont sfntVersion="OTTO" ttLibVersion="2.3">\n\n',b+=genTable_glyphorder({}),b+=genTable_head({}),b+=genTable_hhea(a),b+=genTable_maxp({}),b+=genTable_os_2(a),b+=genTable_name({}),b+=genTable_cmap({}),b+=genTable_post({}),b+=genTable_cff({}),b+=genTable_hmtx({}),b+="</ttFont>"}function calcFontMaxes(){for(var a=_UI.fontmetrics,b={},c=0;c<_GP.fontchars.length;c++)_GP.fontchars[c]&&_GP.fontchars[c].charshapes&&(b=_GP.fontchars[c].calcCharMaxes(),a.xmax=Math.max(b.xmax,a.xmax),a.xmin=Math.min(b.xmin,a.xmin),a.ymax=Math.max(b.ymax,a.ymax),a.ymin=Math.min(b.ymin,a.ymin));var d=a.ymax/(a.ymax-a.ymin),e=a.ymax+Math.abs(a.ymin)+_GP.projectsettings.linegap;a.hhea_ascent=Math.round(e*d),a.hhea_descent=a.hhea_ascent-e}function genTable_glyphorder(){var b="<GlyphOrder>\n";b+='	<GlyphID name=".notdef"/>\n';for(var c=0,d=32;d<_GP.fontchars.length;d++)b+='	<GlyphID name="'+_GP.fontchars[d].charname+'"/>\n',c++;return b+="</GlyphOrder>\n\n"}function genTable_head(){var b="<head>\n";return b+='	<tableVersion value="1.0"/>\n',b+='	<fontRevision value="'+getOTprop("head","fontRevision")+'"/>\n',b+='	<checkSumAdjustment value="0xfd4639aa"/>\n',b+='	<magicNumber value="0x5f0f3cf5"/>\n',b+='	<flags value="00000000 00000011"/>\n',b+='	<unitsPerEm value="'+_GP.projectsettings.upm+'"/>\n',b+='	<created value="'+getOTprop("head","created")+'"/>\n',b+='	<modified value="'+ttxDateString()+'"/>\n',b+='	<xMin value="-100"/>\n',b+='	<yMin value="-100"/>\n',b+='	<xMax value="4048"/>\n',b+='	<yMax value="4048"/>\n',b+='	<macStyle value="00000000 00000000"/>\n',b+='	<lowestRecPPEM value="3"/>\n',b+='	<fontDirectionHint value="2"/>\n',b+='	<indexToLocFormat value="0"/>\n',b+='	<glyphDataFormat value="0"/>\n',b+="</head>\n\n"}function ttxDateString(){var a=new Date,b=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds();a=a.toDateString().split(" "),a.splice(3,0,b);var c=a.join(" ");return c}function genTable_hhea(){var b=_UI.fontmetrics,c="<hhea>\n";return c+='	<tableVersion value="1.0"/>\n',c+='	<ascent value="'+b.hhea_ascent+'"/>\n',c+='	<descent value="'+b.hhea_descent+'"/>\n',c+='	<lineGap value="0"/>\n',c+='	<advanceWidthMax value="1000"/>\n',c+='	<minLeftSideBearing value="'+b.xmin+'"/>\n',c+='	<minRightSideBearing value="0"/>\n',c+='	<xMaxExtent value="1000"/>\n',c+='	<caretSlopeRise value="1"/>\n',c+='	<caretSlopeRun value="0"/>\n',c+='	<caretOffset value="0"/>\n',c+='	<reserved0 value="0"/>\n',c+='	<reserved1 value="0"/>\n',c+='	<reserved2 value="0"/>\n',c+='	<reserved3 value="0"/>\n',c+='	<metricDataFormat value="0"/>\n',c+='	<numberOfHMetrics value="95"/>\n',c+="</hhea>\n\n"}function genTable_maxp(){var b="<maxp>\n";return b+='	<tableVersion value="0x5000"/>\n',b+='	<numGlyphs value="95"/>\n',b+="</maxp>\n\n"}function genTable_os_2(){var b=_GP.projectsettings,c=_UI.fontmetrics,d="<OS_2>\n";return d+='	<version value="3"/>\n',d+='	<xAvgCharWidth value="2100"/>\n',d+='	<usWeightClass value="'+getOTprop("os_2","usWeightClass")+'"/>\n',d+='	<usWidthClass value="'+getOTprop("os_2","usWidthClass")+'"/>\n',d+='	<fsType value="00000000 00001000"/>\n',d+='	<ySubscriptXSize value="650"/>\n',d+='	<ySubscriptYSize value="600"/>\n',d+='	<ySubscriptXOffset value="0"/>\n',d+='	<ySubscriptYOffset value="75"/>\n',d+='	<ySuperscriptXSize value="650"/>\n',d+='	<ySuperscriptYSize value="600"/>\n',d+='	<ySuperscriptXOffset value="0"/>\n',d+='	<ySuperscriptYOffset value="350"/>\n',d+='	<yStrikeoutSize value="50"/>\n',d+='	<yStrikeoutPosition value="384"/>\n',d+='	<sFamilyClass value="0"/>\n',d+="	<panose>\n",d+='		<bFamilyType value="2"/>\n',d+='		<bSerifStyle value="0"/>\n',d+='		<bWeight value="0"/>\n',d+='		<bProportion value="0"/>\n',d+='		<bContrast value="0"/>\n',d+='		<bStrokeVariation value="0"/>\n',d+='		<bArmStyle value="0"/>\n',d+='		<bLetterForm value="0"/>\n',d+='		<bMidline value="0"/>\n',d+='		<bXHeight value="0"/>\n',d+="	</panose>\n",d+='	<ulUnicodeRange1 value="00000000 00000000 00000000 00000001"/>\n',d+='	<ulUnicodeRange2 value="00000000 00000000 00000000 00000000"/>\n',d+='	<ulUnicodeRange3 value="00000000 00000000 00000000 00000000"/>\n',d+='	<ulUnicodeRange4 value="00000000 00000000 00000000 00000000"/>\n',d+='	<achVendID value=""/>\n',d+='	<fsSelection value="00000000 00000000"/>\n',d+='	<fsFirstCharIndex value="32"/>\n',d+='	<fsLastCharIndex value="64258"/>\n',d+='	<sTypoAscender value="'+b.ascent+'"/>\n',d+='	<sTypoDescender value="'+(b.ascent-b.upm)+'"/>\n',d+='	<sTypoLineGap value="'+b.linegap+'"/>\n',d+='	<usWinAscent value="'+c.hhea_ascent+'"/>\n',d+='	<usWinDescent value="'+Math.abs(c.hhea_descent)+'"/>\n',d+='	<ulCodePageRange1 value="00100000 00000000 00000000 00000001"/>\n',d+='	<ulCodePageRange2 value="00000000 00000000 00000000 00000000"/>\n',d+='	<sxHeight value="'+b.xheight+'"/>\n',d+='	<sCapHeight value="'+b.ascent+'"/>\n',d+='	<usDefaultChar value="0"/>\n',d+='	<usBreakChar value="32"/>\n',d+='	<usMaxContex value="4"/>\n',d+="</OS_2>\n\n"}function genTable_name(){var b=_GP.opentypeproperties.name,c="<name>\n";return c+='	<namerecord nameID="0" platformID="1" platEncID="0" langID="0x0">\n		'+b[0].val+"\n	</namerecord>\n",c+='	<namerecord nameID="1" platformID="1" platEncID="0" langID="0x0">\n		'+b[1].val+"\n	</namerecord>\n",c+='	<namerecord nameID="2" platformID="1" platEncID="0" langID="0x0">\n		'+b[2].val+"\n	</namerecord>\n",c+='	<namerecord nameID="3" platformID="1" platEncID="0" langID="0x0">\n		'+b[3].val+"\n	</namerecord>\n",c+='	<namerecord nameID="4" platformID="1" platEncID="0" langID="0x0">\n		'+b[4].val+"\n	</namerecord>\n",c+='	<namerecord nameID="5" platformID="1" platEncID="0" langID="0x0">\n		'+b[5].val+"\n	</namerecord>\n",c+='	<namerecord nameID="6" platformID="1" platEncID="0" langID="0x0">\n		'+b[6].val+"\n	</namerecord>\n",c+='	<namerecord nameID="8" platformID="1" platEncID="0" langID="0x0">\n		'+b[8].val+"\n	</namerecord>\n",c+='	<namerecord nameID="9" platformID="1" platEncID="0" langID="0x0">\n		'+b[9].val+"\n	</namerecord>\n",c+='	<namerecord nameID="10" platformID="1" platEncID="0" langID="0x0">\n		'+b[10].val+"\n	</namerecord>\n",c+='	<namerecord nameID="11" platformID="1" platEncID="0" langID="0x0">\n		'+b[11].val+"\n	</namerecord>\n",c+='	<namerecord nameID="12" platformID="1" platEncID="0" langID="0x0">\n		'+b[12].val+"\n	</namerecord>\n",c+='	<namerecord nameID="13" platformID="1" platEncID="0" langID="0x0">\n		'+b[13].val+"\n	</namerecord>\n",c+='	<namerecord nameID="14" platformID="1" platEncID="0" langID="0x0">\n		'+b[14].val+"\n	</namerecord>\n",c+='	<namerecord nameID="0" platformID="3" platEncID="1" langID="0x409">\n		'+b[0].val+"\n	</namerecord>\n",c+='	<namerecord nameID="1" platformID="3" platEncID="1" langID="0x409">\n		'+b[1].val+"\n	</namerecord>\n",c+='	<namerecord nameID="2" platformID="3" platEncID="1" langID="0x409">\n		'+b[2].val+"\n	</namerecord>\n",c+='	<namerecord nameID="3" platformID="3" platEncID="1" langID="0x409">\n		'+b[3].val+"\n	</namerecord>\n",c+='	<namerecord nameID="4" platformID="3" platEncID="1" langID="0x409">\n		'+b[4].val+"\n	</namerecord>\n",c+='	<namerecord nameID="5" platformID="3" platEncID="1" langID="0x409">\n		'+b[5].val+"\n	</namerecord>\n",c+='	<namerecord nameID="6" platformID="3" platEncID="1" langID="0x409">\n		'+b[6].val+"\n	</namerecord>\n",c+='	<namerecord nameID="8" platformID="3" platEncID="1" langID="0x409">\n		'+b[8].val+"\n	</namerecord>\n",c+='	<namerecord nameID="9" platformID="3" platEncID="1" langID="0x409">\n		'+b[9].val+"\n	</namerecord>\n",c+='	<namerecord nameID="10" platformID="3" platEncID="1" langID="0x409">\n		'+b[10].val+"\n	</namerecord>\n",c+='	<namerecord nameID="11" platformID="3" platEncID="1" langID="0x409">\n		'+b[11].val+"\n	</namerecord>\n",c+='	<namerecord nameID="12" platformID="3" platEncID="1" langID="0x409">\n		'+b[12].val+"\n	</namerecord>\n",c+='	<namerecord nameID="13" platformID="3" platEncID="1" langID="0x409">\n		'+b[13].val+"\n	</namerecord>\n",c+='	<namerecord nameID="14" platformID="3" platEncID="1" langID="0x409">\n		'+b[14].val+"\n	</namerecord>\n",c+="</name>\n\n"}function genTable_cmap(){for(var b="",c=32;c<_GP.fontchars.length;c++)b+='		<map code="'+_GP.fontchars[c].cmapcode+'" name="'+_GP.fontchars[c].charname+'"/>\n';var d="<cmap>\n";return d+='<tableVersion version="0"/>\n',d+='	<cmap_format_4 platformID="0" platEncID="3" language="0">\n',d+=b,d+="	</cmap_format_4>\n",d+='	<cmap_format_6 platformID="1" platEncID="0" language="0">\n',d+=b,d+="	</cmap_format_6>\n",d+='	<cmap_format_4 platformID="3" platEncID="1" language="0">\n',d+=b,d+="	</cmap_format_4>\n",d+="</cmap>\n\n"}function genTable_post(){var b="<post>\n";return b+='	<formatType value="3.0"/>\n',b+='	<italicAngle value="'+getOTprop("post","italicAngle")+'"/>\n',b+='	<underlinePosition value="'+getOTprop("post","underlinePosition")+'"/>\n',b+='	<underlineThickness value="'+getOTprop("post","underlineThickness")+'"/>\n',b+='	<isFixedPitch value="0"/>\n',b+='	<minMemType42 value="0"/>\n',b+='	<maxMemType42 value="0"/>\n',b+='	<minMemType1 value="0"/>\n',b+='	<maxMemType1 value="0"/>\n',b+="</post>\n\n"}function genTable_cff(){var b=_GP.opentypeproperties,c="<CFF>\n";return c+='	<CFFFont name="'+b.name[1].val+'">\n',c+='		<version value="002.000"/>\n',c+='		<Notice value="'+getOTprop("cff","Notice")+'"/>\n',c+='		<FullName value="'+getOTprop("cff","FullName")+'"/>\n',c+='		<FamilyName value="'+getOTprop("cff","FamilyName")+'"/>\n',c+='		<Weight value="'+getOTprop("cff","Weight")+'"/>\n',c+='		<isFixedPitch value="0"/>\n',c+='		<ItalicAngle value="0"/>\n',c+='		<UnderlineThickness value="50"/>\n',c+='		<PaintType value="0"/>\n',c+='		<CharstringType value="2"/>\n',c+='		<FontMatrix value="0.001 0 0 0.001 0 0"/>\n',c+='		<FontBBox value="0 0 0 0"/>\n',c+='		<StrokeWidth value="0"/>\n',c+='		<Encoding name="StandardEncoding"/>\n',c+="		<Private>\n",c+="		</Private>\n",c+="		<CharStrings>\n",c+=genCharStringsPostScript(),c+="		</CharStrings>\n",c+="	</CFFFont>\n",c+="</CFF>\n\n"}function genCharStringsPostScript(){for(var b,c,a='			<CharString name=".notdef">\n				endchar\n			</CharString>\n',d=32;d<_GP.fontchars.length;d++){a+='			<CharString name="'+_GP.fontchars[d].charname+'">\n',b=0,c=0,rvar={};for(var e=0;e<_GP.fontchars[d].charshapes.length;e++)rvar=_GP.fontchars[d].charshapes[e].genPostScript(b,c),a+=rvar.re,b=rvar.lastx,c=rvar.lasty;a+="				endchar\n",a+="			</CharString>\n"}return a}function genTable_hmtx(){var b="<hmtx>\n";b+='	<mtx name=".notdef" width="2100" lsb="0"/>\n';for(var c,d,e=32;e<_GP.fontchars.length;e++)d=_GP.fontchars[e],c=d.leftsidebearing===!1?_GP.projectsettings.defaultlsb:d.leftsidebearing,b+='	<mtx name="'+d.charname+'" width="'+(c+d.charwidth)+'" lsb="'+c+'"/>\n';return b+="</hmtx>\n\n"}Number.prototype.makeCrisp=function(){return Math.round(this)+.5};var _UI={navhere:"firstrun",navprimaryhere:"npChar",thisGlyphrStudioVersion:"Beta 3 - 0.3.0.min",projectsaved:!0,colors:{accent:"rgb(0,170,225)",accent_light:"rgb(165,222,240)",offwhite:"rgb(250,252,255)",g9:"rgb(229,234,239)",g8:"rgb(204,209,214)",g7:"rgb(178,183,188)",g6:"rgb(153,158,163)",g5:"rgb(127,134,137)",g4:"rgb(102,107,112)",g3:"rgb(76,81,86)",g2:"rgb(51,56,61)",g1:"rgb(25,30,35)"},selectedtool:"pathedit",redrawing:!1,thumbsize:50,thumbgutter:5,showgrid:!0,showguides:!0,clipboardshape:!1,chareditcanvas:!1,chareditcanvassize:1600,chareditctx:!1,ishereghostcanvas:!1,ishereghostctx:!1,defaultview:{dx:200,dy:500,dz:.5},views:{},thumbview:{},shownlinkedshape:"id0",linkedshapecurrstate:{},linkedshapeundoq:[],selectedchar:97,selectedshape:-1,charundoq:[],charcurrstate:{},selectchardrawarr:[],shapelayers:[],debugpoints:[!1,!1],locid:0,locarr:[],checkid:0,checkarr:[],testdrivectx:!1,testdrivecanvas:!1,testdrive_fontscale:0,testdrive_showcharbox:!1,testdrive_showhorizontals:!1,testdrive_padsize:10,fontmetrics:{xmax:0,xmin:0,ymax:0,ymin:0,hhea_ascent:0,hhea_descent:0},default_GP:{projectsettings:{name:"My Font",debug:!0,version:0,linkedshapecounter:0,upm:1e3,ascent:700,linegap:250,griddivisions:10,xheight:400,overshoot:10,defaultlsb:10,pointsize:5,spinnervaluechange:1,stoppagenavigation:!1,quickpathupdating:!1,showoutline:!1,showfill:!0,color_glyphfill:"rgb(0,0,0)",color_glyphoutline:"rgb(0,0,0)",color_grid:"rgb(240,240,240)",color_guideline:"rgb(204,79,34)"},fontchars:[],linkedshapes:{},opentypeproperties:{head:[{key:"created",val:""},{key:"fontRevision",val:"1.0"}],os_2:[{key:"usWeightClass",val:"500"},{key:"usWidthClass",val:"5"}],name:[{key:"Copyright notice",val:"Copyright "+(new Date).getFullYear()},{key:"Font Family name",val:"My Font"},{key:"Font Subfamily name",val:""},{key:"Unique font identifier",val:"My Font 1.0"},{key:"Full Font name",val:"My Font"},{key:"Version string",val:"Version 1.0"},{key:"Postscript name",val:"My Font"},null,{key:"Manufacturer name",val:""},{key:"Designer's name",val:""},{key:"Description",val:""},{key:"Vendor URL",val:""},{key:"Designer's URL",val:""},{key:"License Description",val:"Creative Commons Attribution-ShareAlike 3.0 Unported (CC BY-SA 3.0)"},{key:"License URL",val:"http://creativecommons.org/licenses/by-sa/3.0/"}],post:[{key:"italicAngle",val:"0.0"},{key:"underlinePosition",val:"-75"},{key:"underlineThickness",val:"50"}],cff:[{key:"Notice",val:""},{key:"FullName",val:"My Font"},{key:"FamilyName",val:"My Font"},{key:"Weight",val:"500"}]}}};_UI.colors.text_dark=_UI.colors.g1,_UI.colors.text_light=_UI.colors.g8,_UI.colors.button_disabled=_UI.colors.g4,_UI.colors.button_resting=_UI.colors.g8,_UI.colors.button_selected=_UI.colors.accent;var _GP={};Char.prototype.calcCharMaxes=function(){for(var b,c,a={xmax:this.charwidth,xmin:0,ymax:0,ymin:0},d=0;d<this.charshapes.length;d++)b=this.charshapes[d],b.link?(c=_GP.linkedshapes[b.link].shape,b.uselinkedshapexy?(a.xmin=Math.min(c.path.leftx,a.xmin),a.ymax=Math.max(c.path.topy,a.ymax),a.ymin=Math.min(c.path.bottomy,a.ymin)):(a.xmin=Math.min(c.path.leftx+b.xpos,a.xmin),a.ymax=Math.max(c.path.topy+b.ypos,a.ymax),a.ymin=Math.min(c.path.bottomy+b.ypos,a.ymin))):(a.xmin=Math.min(b.path.leftx,a.xmin),a.ymax=Math.max(b.path.topy,a.ymax),a.ymin=Math.min(b.path.bottomy,a.ymin));return a},Char.prototype.calcCharWidth=function(){if(this.isautowide){this.charwidth=0;var a,b;if(this.charshapes)for(var c=0;c<this.charshapes.length;c++)a=this.charshapes[c],a.link?(b=_GP.linkedshapes[a.link].shape,this.charwidth=a.uselinkedshapexy?Math.max(this.charwidth,b.path.rightx):Math.max(this.charwidth,b.path.rightx+a.xpos)):this.charwidth=Math.max(this.charwidth,a.path.rightx)}},Char.prototype.drawCharToArea=function(a,b){var c=_GP.projectsettings,d=this.charshapes;this.getCharNumber();var f=this.charwidth*b.dz;this.isautowide&&(f+=this.leftsidebearing===!1?c.defaultlsb*b.dz:this.leftsidebearing*b.dz);var g={};a.beginPath();for(var h=0;h<d.length;h++)if(g=d[h],g.visible){if(g.link)if(g.uselinkedshapexy)g=_GP.linkedshapes[g.link].shape;else{var i=clone(_GP.linkedshapes[g.link].shape);i.path.updatePathPosition(g.xpos,g.ypos,!0),g=i}g.path.drawPathToArea(a,b)}return a.fillStyle=_GP.projectsettings.color_glyphfill,a.closePath(),a.fill("nonzero"),f},Char.prototype.getCharNumber=function(){return parseInt(this.cmapcode.slice(2),16)},LinkedShapeInstance.prototype.drawShape_Stack=function(a){if(this.uselinkedshapexy)_GP.linkedshapes[this.link].shape.drawShape_Stack(a);else{var b=clone(_GP.linkedshapes[this.link].shape);b.path.updatePathPosition(this.xpos,this.ypos,!0),b.drawShape_Stack(a)}},LinkedShapeInstance.prototype.drawShape_Single=function(a){if(this.uselinkedshapexy)_GP.linkedshapes[this.link].shape.drawShape_Single(a);else{var b=clone(_GP.linkedshapes[this.link].shape);b.path.updatePathPosition(this.xpos,this.ypos,!0),b.drawShape_Single(a)}},LinkedShapeInstance.prototype.genPostScript=function(a,b){if(this.uselinkedshapexy)return _GP.linkedshapes[this.link].shape.path.genPathPostScript(a,b);var c=clone(_GP.linkedshapes[this.link].shape);return c.path.updatePathPosition(this.xpos,this.ypos,!0),c.path.genPathPostScript(a,b)},LinkedShapeInstance.prototype.drawShapeToArea=function(a,b){if(this.uselinkedshapexy)_GP.linkedshapes[this.link].shape.drawShapeToArea(a,b);else{var c=clone(_GP.linkedshapes[this.link].shape);c.path.updatePathPosition(this.xpos,this.ypos,!0),c.name+=" HAS BEEN MOVED",c.drawShapeToArea(a,b)}},LinkedShapeInstance.prototype.drawSelectOutline=function(a){if(this.uselinkedshapexy)_GP.linkedshapes[this.link].shape.drawSelectOutline(a);else{var b=clone(_GP.linkedshapes[this.link].shape);b.path.updatePathPosition(this.xpos,this.ypos),b.drawSelectOutline(a)}},LinkedShapeInstance.prototype.draw8points=function(){},LinkedShapeInstance.prototype.isHere=function(a,b){if(this.uselinkedshapexy)return _GP.linkedshapes[this.link].shape.isHere(a,b);var c=clone(_GP.linkedshapes[this.link].shape);return c.path.updatePathPosition(this.xpos,this.ypos),c.isHere(a,b)},LinkedShapeInstance.prototype.isOverHandle=function(){return!1},Path.prototype.sp=function(a){if(!this.pathpoints)return!1;for(var c=0;c<this.pathpoints.length;c++){var d=this.pathpoints[c];if(d.selected)return a?c:d}return!1},Path.prototype.drawPath=function(a){if(!(this.pathpoints===!1||this.pathpoints.length<2)){var b,c,d,e,f,g,h,i;a.moveTo(sx_cx(this.pathpoints[0].P.x),sy_cy(this.pathpoints[0].P.y));for(var j=0;j<this.pathpoints.length;j++)b=this.pathpoints[j],c=this.pathpoints[(j+1)%this.pathpoints.length],"symmetric"==b.type?b.makeSymmetric("H1"):"flat"==b.type&&b.makeFlat("H1"),d=b.useh2?sx_cx(b.H2.x):sx_cx(b.P.x),e=b.useh2?sy_cy(b.H2.y):sy_cy(b.P.y),f=c.useh1?sx_cx(c.H1.x):sx_cx(c.P.x),g=c.useh1?sy_cy(c.H1.y):sy_cy(c.P.y),h=sx_cx(c.P.x),i=sy_cy(c.P.y),a.bezierCurveTo(d,e,f,g,h,i)}},Path.prototype.drawPathToArea=function(a,b){var c=clone(getView("Path.drawPathToArea"));setView(b),this.drawPath(a),setView(c)},Path.prototype.genPathPostScript=function(a,b){if(!this.pathpoints)return{re:"",lastx:a,lasty:b};for(var c,d,e,f,g,h,i,j,k="",l=""+(this.pathpoints[0].P.x-a)+" "+(this.pathpoints[0].P.y-b)+" rmoveto ",m=0;m<this.pathpoints.length;m++)c=this.pathpoints[m],d=this.pathpoints[(m+1)%this.pathpoints.length],e=c.useh2?c.H2.x-c.P.x:0,f=c.useh2?c.H2.y-c.P.y:0,g=d.useh1?d.H1.x-(c.useh2?c.H2.x:c.P.x):d.P.x-(c.useh2?c.H2.x:c.P.x),h=d.useh1?d.H1.y-(c.useh2?c.H2.y:c.P.y):d.P.y-(c.useh2?c.H2.y:c.P.y),i=d.P.x-(d.useh1?d.H1.x:d.P.x),j=d.P.y-(d.useh1?d.H1.y:d.P.y),k="				"+e+" "+f+" "+g+" "+h+" "+i+" "+j+" rrcurveto \n",l+=k;return{re:l,lastx:d.P.x,lasty:d.P.y}},Path.prototype.isOverControlPoint=function(a,b){for(var c=this.pathpoints,d=_GP.projectsettings.pointsize/getView("Path.isOverControlPoint").dz,e=c.length-1;e>=0;e--){if(c[e].P.x+d>a&&c[e].P.x-d<a&&c[e].P.y+d>b&&c[e].P.y-d<b)return this.selectPathPoint(e),"P";if(c[e].H1.x+d>a&&c[e].H1.x-d<a&&c[e].H1.y+d>b&&c[e].H1.y-d<b)return this.selectPathPoint(e),"H1";if(c[e].H2.x+d>a&&c[e].H2.x-d<a&&c[e].H2.y+d>b&&c[e].H2.y-d<b)return this.selectPathPoint(e),"H2"}return this.selectPathPoint(0),!1},Path.prototype.updatePathSize=function(a,b){_GP.projectsettings;var d=ss("updatePathPosition");if(d.wlock?a=0:!1,d.hlock?b=0:!1,!d.wlock||!d.hlock){for(var e=this.rightx-this.leftx,f=this.topy-this.bottomy,g=Math.max(e+a,1),h=Math.max(f+b,1),i=h/f,j=g/e,k=0;k<this.pathpoints.length;k++){var l=this.pathpoints[k];l.P.x=round((l.P.x-this.leftx)*j+this.leftx),l.H1.x=round((l.H1.x-this.leftx)*j+this.leftx),l.H2.x=round((l.H2.x-this.leftx)*j+this.leftx),l.P.y=round((l.P.y-this.bottomy)*i+this.bottomy),l.H1.y=round((l.H1.y-this.bottomy)*i+this.bottomy),l.H2.y=round((l.H2.y-this.bottomy)*i+this.bottomy)}this.calcMaxes()}},Path.prototype.updatePathPosition=function(a,b,c){isval(c)?!0:c=!1;for(var d=0;d<this.pathpoints.length;d++){var e=this.pathpoints[d];e.updatePointPosition("P",a,b,c)}this.calcMaxes()},Path.prototype.reversePath=function(){var a={};if(this.pathpoints){for(var b=0;b<this.pathpoints.length;b++)a=this.pathpoints[b].H1,this.pathpoints[b].H1=this.pathpoints[b].H2,this.pathpoints[b].H2=a,this.pathpoints[b].useh1!==this.pathpoints[b].useh2&&(this.pathpoints[b].useh1=!this.pathpoints[b].useh1,this.pathpoints[b].useh2=!this.pathpoints[b].useh2);this.pathpoints.reverse(),this.clockwise*=-1}},Path.prototype.flipNS=function(){for(var a=this.topy,b=this.leftx,c=(this.topy-this.bottomy)/2+this.bottomy,d=0;d<this.pathpoints.length;d++){var e=this.pathpoints[d];e.P.y+=2*(c-e.P.y),e.H1.y+=2*(c-e.H1.y),e.H2.y+=2*(c-e.H2.y)}this.setTopY(a),this.setLeftX(b),this.reversePath()},Path.prototype.flipEW=function(){for(var a=this.topy,b=this.leftx,c=(this.rightx-this.leftx)/2+this.leftx,d=0;d<this.pathpoints.length;d++){var e=this.pathpoints[d];e.P.x+=2*(c-e.P.x),e.H1.x+=2*(c-e.H1.x),e.H2.x+=2*(c-e.H2.x)}this.setTopY(a),this.setLeftX(b),this.reversePath()},Path.prototype.setTopY=function(a){var b=1*a-ss("setTopY").path.topy;this.updatePathPosition(0,b,!0)},Path.prototype.setLeftX=function(a){var b=1*a-ss("SetLeftX").path.leftx;this.updatePathPosition(b,0,!0)},Path.prototype.addPathPoint=function(a,b){if(a)this.pathpoints.push(a),this.selectPathPoint(this.pathpoints.length-1);else if(a=new PathPoint({}),b){if(this.pathpoints.length>0){var c=this.pathpoints[0];a.P.x=c.P.x-200,a.P.y=c.P.y-200,a.H1.x=a.P.x,a.H1.y=a.P.y-100,a.H2.x=a.P.x+100,a.H2.y=a.P.y}this.pathpoints.unshift(a),this.selectPathPoint(0)}else{if(this.pathpoints.length>0){var d=this.pathpoints[this.pathpoints.length-1];a.P.x=d.P.x+200,a.P.y=d.P.y+200,a.H1.x=a.P.x,a.H1.y=a.P.y-100,a.H2.x=a.P.x+100,a.H2.y=a.P.y}this.pathpoints.push(a),this.selectPathPoint(this.pathpoints.length-1)}this.calcMaxes()},Path.prototype.insertPathPoint=function(){var a=this.sp(!0,"insert path point"),b=a===!1?this.pathpoints[0]:this.pathpoints[a];if(this.pathpoints.length>1){var c=this.pathpoints[(a+1)%this.pathpoints.length],d=.125*b.P.x+.375*b.H2.x+.375*c.H1.x+.125*c.P.x,e=.125*b.P.y+.375*b.H2.y+.375*c.H1.y+.125*c.P.y,f=new PathPoint({P:new Coord({x:d,y:e}),type:"flat"}),g=(c.H1.x-c.P.x)/2+c.P.x,h=(c.P.y-c.H1.y)/2+c.H1.y;f.makePointedTo(g,h,100);var i=f.H2;f.H2=f.H1,f.H1=i,f.makeSymmetric("H2"),this.pathpoints.splice((a+1)%this.pathpoints.length,0,f),this.selectPathPoint((a+1)%this.pathpoints.length)}this.calcMaxes()},Path.prototype.deletePathPoint=function(){var a=this.pathpoints;if(a.length>1){for(var b=0;b<a.length;b++)a[b].selected&&(a.splice(b,1),b>0?a[b-1].selected=!0:a[0].selected=!0);this.calcMaxes()}else _UI.selectedtool="pathedit",deleteShape()},Path.prototype.selectPathPoint=function(a){for(var b=0;b<this.pathpoints.length;b++)this.pathpoints[b].selected=!1;a!==!1&&(a=-1==a?this.pathpoints.length-1:Math.abs(a),this.pathpoints[a%this.pathpoints.length].selected=!0)},Path.prototype.calcMaxes=function(){this.topy=-1*_UI.chareditcanvassize,this.bottomy=_UI.chareditcanvassize,this.leftx=_UI.chareditcanvassize,this.rightx=-1*_UI.chareditcanvassize;for(var a,b,c,d,e,f,g,h=0;h<this.pathpoints.length;h++)a=this.pathpoints[h],b=this.pathpoints[(h+1)%this.pathpoints.length],c=a.useh2?a.H2.x:a.P.x,d=a.useh2?a.H2.y:a.P.y,e=b.useh1?b.H1.x:b.P.x,f=b.useh1?b.H1.y:b.P.y,g=getBounds(a.P.x,a.P.y,c,d,e,f,b.P.x,b.P.y),this.rightx=Math.max(this.rightx,g.maxx),this.topy=Math.max(this.topy,g.maxy),this.leftx=Math.min(this.leftx,g.minx),this.bottomy=Math.min(this.bottomy,g.miny);updateCurrentCharWidth()},PathPoint.prototype.makeFlat=function(a){var b=this.P.x-this.H1.x,c=this.P.y-this.H1.y,d=Math.sqrt(b*b+c*c),e=Math.acos(b/d),f=this.P.x-this.H2.x,g=this.P.y-this.H2.y,h=Math.sqrt(f*f+g*g),i=Math.acos(f/h);switch(a){case"H1":var j=this.H1.y>this.P.y?-1:1,k=Math.cos(e)*h,l=Math.tan(e)*k;this.H2.x=this.P.x+k,this.H2.y=this.P.y+l*j;break;case"H2":var j=this.H2.y>this.P.y?-1:1,m=Math.cos(i)*d,n=Math.tan(i)*m;this.H1.x=this.P.x+m,this.H1.y=this.P.y+n*j}this.roundAll()},PathPoint.prototype.makeSymmetric=function(a){switch(a){case"H1":this.H2.x=this.P.x-this.H1.x+this.P.x,this.H2.y=this.P.y-this.H1.y+this.P.y;break;case"H2":this.H1.x=this.P.x-this.H2.x+this.P.x,this.H1.y=this.P.y-this.H2.y+this.P.y}this.roundAll()},PathPoint.prototype.makePointedTo=function(a,b,c){var d=this.P.x-a,e=this.P.y-b,f=Math.sqrt(d*d+e*e),g=Math.acos(d/f);this.H1.x=this.P.x-Math.cos(g)*c,this.H1.y=this.P.y-Math.sin(g)*c,this.makeFlat("H1"),this.roundAll()},PathPoint.prototype.resetHandles=function(){this.type="flat",this.H2.x=this.P.x-100,this.H2.y=this.P.y,this.H1.x=this.P.x+100,this.H1.y=this.P.y},PathPoint.prototype.setPointPosition=function(a,b,c){var d=0,e=0;switch(a){case"P":this.P.xlock||isNaN(b)||(d=this.P.x-b,this.P.x=b,this.H1.x-=d,this.H2.x-=d),this.P.ylock||isNaN(c)||(e=this.P.y-c,this.P.y=c,this.H1.y-=e,this.H2.y-=e);break;case"H1":this.H1.xlock||isNaN(b)||(this.H1.x=b),this.H1.ylock||isNaN(c)||(this.H1.y=c);break;case"H2":this.H2.xlock||isNaN(b)||(this.H2.x=b,"symmetric"==this.type?this.makeSymmetric("H2"):"flat"==this.type&&this.makeFlat("H2")),this.H2.ylock||isNaN(c)||(this.H2.y=c,"symmetric"==this.type?this.makeSymmetric("H1"):"flat"==this.type&&this.makeFlat("H1"))}this.roundAll()},PathPoint.prototype.updatePointPosition=function(a,b,c,d){var e="pathedit"==_UI.selectedtool?this.P.xlock:!1,f="pathedit"==_UI.selectedtool?this.P.ylock:!1;switch(isval(d)&&d&&(e=!1,f=!1),a){case"P":e?!0:this.P.x+=b,f?!0:this.P.y+=c,e?!0:this.H1.x+=b,f?!0:this.H1.y+=c,e?!0:this.H2.x+=b,f?!0:this.H2.y+=c;break;case"H1":this.H1.x+=b,this.H1.y+=c,"symmetric"==this.type?this.makeSymmetric("H1"):"flat"==this.type&&this.makeFlat("H1");break;case"H2":this.H2.x+=b,this.H2.y+=c,"symmetric"==this.type?this.makeSymmetric("H2"):"flat"==this.type&&this.makeFlat("H2")}this.roundAll()},PathPoint.prototype.roundAll=function(){this.P.x=Math.round(this.P.x),this.P.y=Math.round(this.P.y),this.H1.x=Math.round(this.H1.x),this.H1.y=Math.round(this.H1.y),this.H2.x=Math.round(this.H2.x),this.H2.y=Math.round(this.H2.y)},PathPoint.prototype.drawPoint=function(a){var b=_GP.projectsettings.pointsize+1,c=b/2;_UI.chareditctx.fillStyle=a?a:_UI.colors.accent,_UI.chareditctx.fillRect((sx_cx(this.P.x)-c).makeCrisp()-1,(sy_cy(this.P.y)-c).makeCrisp()-1,b,b),_UI.chareditctx.strokeRect((sx_cx(this.P.x)-c).makeCrisp()-1,(sy_cy(this.P.y)-c).makeCrisp()-1,b,b)},PathPoint.prototype.drawDirectionalityPoint=function(a,b){_UI.chareditctx.fillStyle=a?a:_UI.colors.accent,_UI.chareditctx.strokeStyle=_UI.colors.accent,_UI.chareditctx.lineWidth=1;var c={x:this.P.x,y:this.P.y},d={x:this.H2.x,y:this.H2.y};this.useh2||(d={x:b.P.x,y:b.P.y});var e=.75*_GP.projectsettings.pointsize,f=[[3*e,0],[e,e],[-e,e],[-e,-e],[e,-e]],g=[],h=-1*Math.atan2(d.y-c.y,d.x-c.x);for(var i in f)g.push([f[i][0]*Math.cos(h)-f[i][1]*Math.sin(h),f[i][0]*Math.sin(h)+f[i][1]*Math.cos(h)]);_UI.chareditctx.beginPath(),_UI.chareditctx.moveTo(g[0][0]+sx_cx(this.P.x),g[0][1]+sy_cy(this.P.y));for(var i in g)i>0&&_UI.chareditctx.lineTo(g[i][0]+sx_cx(this.P.x),g[i][1]+sy_cy(this.P.y));_UI.chareditctx.lineTo(g[0][0]+sx_cx(this.P.x),g[0][1]+sy_cy(this.P.y)),_UI.chareditctx.fill(),_UI.chareditctx.stroke(),_UI.chareditctx.fillStyle=_UI.colors.accent,_UI.chareditctx.fillRect(sx_cx(this.P.x)-.5,sy_cy(this.P.y)-.5,1,1)},PathPoint.prototype.drawHandles=function(a,b){_UI.chareditctx.fillStyle=_UI.colors.accent,_UI.chareditctx.lineWidth=1;var c=_GP.projectsettings.pointsize/2;a&&this.useh1&&(_UI.chareditctx.beginPath(),_UI.chareditctx.arc(sx_cx(this.H1.x),sy_cy(this.H1.y),c,0,2*Math.PI,!0),_UI.chareditctx.closePath(),_UI.chareditctx.fill(),_UI.chareditctx.beginPath(),_UI.chareditctx.moveTo(sx_cx(this.P.x),sy_cy(this.P.y)),_UI.chareditctx.lineTo(sx_cx(this.H1.x),sy_cy(this.H1.y)),_UI.chareditctx.closePath(),_UI.chareditctx.stroke()),b&&this.useh2&&(_UI.chareditctx.beginPath(),_UI.chareditctx.arc(sx_cx(this.H2.x),sy_cy(this.H2.y),c,0,2*Math.PI,!0),_UI.chareditctx.closePath(),_UI.chareditctx.fill(),_UI.chareditctx.beginPath(),_UI.chareditctx.moveTo(sx_cx(this.P.x),sy_cy(this.P.y)),_UI.chareditctx.lineTo(sx_cx(this.H2.x),sy_cy(this.H2.y)),_UI.chareditctx.closePath(),_UI.chareditctx.stroke())},Shape.prototype.drawShape_Single=function(a){this.visible&&(a.fillStyle=_GP.projectsettings.color_glyphfill,a==_UI.ishereghostctx&&(a.fillStyle="rgba(0,0,255,0.2)"),a.beginPath(),this.path.drawPath(a),a.closePath(),a.fill())},Shape.prototype.drawShape_Stack=function(a){if(this.visible){if(this.link)return _GP.linkedshapes[this.link].shape.drawShape_Stack(a),void 0;-1==this.path.rightx&&a==_UI.chareditctx&&"newpath"!=_UI.selectedtool&&this.path.calcMaxes(),this.path.drawPath(a)}},Shape.prototype.drawShapeToArea=function(a,b){this.visible&&(a.fillStyle=_GP.projectsettings.color_glyphfill,a.beginPath(),this.path.drawPathToArea(a,b),a.closePath(),a.fill())},Shape.prototype.drawSelectOutline=function(a){if(_GP.projectsettings.pointsize/2,_UI.chareditctx.lineWidth=1,_UI.chareditctx.strokeStyle=_UI.colors.accent,"newrect"==_UI.selectedtool||"shaperesize"==_UI.selectedtool){_UI.chareditctx.fillStyle="transparent";var c=_UI.eventhandlers.temppathdragshape?sx_cx(_UI.eventhandlers.temppathdragshape.leftx):sx_cx(this.path.leftx),d=_UI.eventhandlers.temppathdragshape?sx_cx(_UI.eventhandlers.temppathdragshape.rightx):sx_cx(this.path.rightx),e=_UI.eventhandlers.temppathdragshape?sy_cy(_UI.eventhandlers.temppathdragshape.topy):sy_cy(this.path.topy),f=_UI.eventhandlers.temppathdragshape?sy_cy(_UI.eventhandlers.temppathdragshape.bottomy):sy_cy(this.path.bottomy),g=c.makeCrisp()-1,h=e.makeCrisp()-1,i=Math.ceil(d-c),j=Math.ceil(f-e);_UI.chareditctx.strokeStyle=_UI.colors.accent,_UI.chareditctx.strokeRect(g,h,i,j),"shaperesize"==_UI.selectedtool&&this.draw8points(a)}else if("pathedit"==_UI.selectedtool||"newpath"==_UI.selectedtool){var k=this.path.sp(!0,"DRAWSELECTOUTLINE"),l=this.path.pathpoints;_UI.chareditctx.lineWidth=1,_UI.chareditctx.strokeStyle=_UI.colors.accent,_UI.chareditctx.beginPath(),this.path.drawPath(_UI.chareditctx),_UI.chareditctx.closePath(),_UI.chareditctx.stroke(),k!==!1&&(l[k].drawHandles(!0,!0),k>0?l[k-1].drawHandles(!1,!0):l[l.length-1].drawHandles(!1,!0),l[(k+1)%l.length].drawHandles(!0,!1));for(var m=0;m<l.length;m++){var n=_UI.colors.accent;this.path.sp(!1)&&l[m].selected&&(n="white"),m==l.length-1?l[m].drawDirectionalityPoint(n,l[0]):l[m].drawDirectionalityPoint(n,l[m+1])}}else if("newoval"==_UI.selectedtool){_UI.chareditctx.strokeStyle=_UI.colors.accent;var o=ovalPathFromCorners(_UI.eventhandlers.temppathdragshape);_UI.chareditctx.lineWidth=1,_UI.chareditctx.strokeStyle=_UI.colors.accent,_UI.chareditctx.beginPath(),o.drawPath(_UI.chareditctx),_UI.chareditctx.closePath(),_UI.chareditctx.stroke()}},Shape.prototype.draw8points=function(a){var b=_GP.projectsettings.pointsize+1,c=b/2,d=_UI.eventhandlers.temppathdragshape?sx_cx(_UI.eventhandlers.temppathdragshape.leftx):sx_cx(this.path.leftx),e=_UI.eventhandlers.temppathdragshape?sx_cx(_UI.eventhandlers.temppathdragshape.rightx):sx_cx(this.path.rightx),f=_UI.eventhandlers.temppathdragshape?sy_cy(_UI.eventhandlers.temppathdragshape.topy):sy_cy(this.path.topy),g=_UI.eventhandlers.temppathdragshape?sy_cy(_UI.eventhandlers.temppathdragshape.bottomy):sy_cy(this.path.bottomy),h=(d-c).makeCrisp(),i=(d+(e-d)/2-c).makeCrisp(),j=(e-c).makeCrisp(),k=(f-c).makeCrisp(),l=(f+(g-f)/2-c).makeCrisp(),m=(g-c).makeCrisp();_UI.chareditctx.fillStyle=a?_UI.colors.accent:"white",a||(canResize("nw")&&(_UI.chareditctx.fillRect(h,k,b,b),_UI.chareditctx.strokeRect(h,k,b,b)),canResize("n")&&(_UI.chareditctx.fillRect(i,k,b,b),_UI.chareditctx.strokeRect(i,k,b,b)),canResize("ne")&&(_UI.chareditctx.fillRect(j,k,b,b),_UI.chareditctx.strokeRect(j,k,b,b)),canResize("e")&&(_UI.chareditctx.fillRect(j,l,b,b),_UI.chareditctx.strokeRect(j,l,b,b)),canResize("se")&&(_UI.chareditctx.fillRect(j,m,b,b),_UI.chareditctx.strokeRect(j,m,b,b)),canResize("s")&&(_UI.chareditctx.fillRect(i,m,b,b),_UI.chareditctx.strokeRect(i,m,b,b)),canResize("sw")&&(_UI.chareditctx.fillRect(h,m,b,b),_UI.chareditctx.strokeRect(h,m,b,b)),canResize("w")&&(_UI.chareditctx.fillRect(h,l,b,b),_UI.chareditctx.strokeRect(h,l,b,b))),_UI.chareditctx.fillRect(i,l,b,b),_UI.chareditctx.strokeRect(i,l,b,b)},Shape.prototype.genPostScript=function(a,b){return this.path?this.path.genPathPostScript(a,b):{re:"",lastx:a,lasty:b}},Shape.prototype.isHere=function(a,b){var c;return _UI.ishereghostctx.clearRect(0,0,_UI.chareditcanvassize,_UI.chareditcanvassize),this.drawShape_Single(_UI.ishereghostctx),c=_UI.ishereghostctx.getImageData(a,b,1,1),c.data[3]>0},Shape.prototype.isOverHandle=function(a,b){var c=_GP.projectsettings.pointsize/2,d=sx_cx(this.path.leftx)-c,e=Math.floor(sx_cx(this.path.leftx)+(sx_cx(this.path.rightx)-sx_cx(this.path.leftx))/2-c)+.5,f=sx_cx(this.path.rightx)-c,g=sy_cy(this.path.topy)-c,h=Math.floor(sy_cy(this.path.topy)+(sy_cy(this.path.bottomy)-sy_cy(this.path.topy))/2-c)+.5,i=sy_cy(this.path.bottomy)-c;return canResize("nw")&&a>d&&a<d+_GP.projectsettings.pointsize&&b>g&&b<g+_GP.projectsettings.pointsize?(document.body.style.cursor="nw-resize","nw"):canResize("n")&&a>e&&a<e+_GP.projectsettings.pointsize&&b>g&&b<g+_GP.projectsettings.pointsize?(document.body.style.cursor="n-resize","n"):canResize("ne")&&a>f&&a<f+_GP.projectsettings.pointsize&&b>g&&b<g+_GP.projectsettings.pointsize?(document.body.style.cursor="ne-resize","ne"):canResize("e")&&a>f&&a<f+_GP.projectsettings.pointsize&&b>h&&b<h+_GP.projectsettings.pointsize?(document.body.style.cursor="e-resize","e"):canResize("se")&&a>f&&a<f+_GP.projectsettings.pointsize&&b>i&&b<i+_GP.projectsettings.pointsize?(document.body.style.cursor="se-resize","se"):canResize("s")&&a>e&&a<e+_GP.projectsettings.pointsize&&b>i&&b<i+_GP.projectsettings.pointsize?(document.body.style.cursor="s-resize","s"):canResize("sw")&&a>d&&a<d+_GP.projectsettings.pointsize&&b>i&&b<i+_GP.projectsettings.pointsize?(document.body.style.cursor="sw-resize","sw"):canResize("w")&&a>d&&a<d+_GP.projectsettings.pointsize&&b>h&&b<h+_GP.projectsettings.pointsize?(document.body.style.cursor="w-resize","w"):(document.body.style.cursor="default",!1)},Shape.prototype.changeShapeName=function(a){a=strSan(a),""!=a?(this.name=a,putundoq("shape name")):openDialog("<h2>Invalid shape name</h2><br>Shape names must only contain alphanumeric characters or spaces.<br>"),redraw("Shape Name")},_UI.eventhandlers={temppathdragshape:!1,mousex:0,mousey:0,ismouseovercec:!1,corner:!1,toolhandoff:!1,lastx:-100,lasty:-100,firstx:-100,firsty:-100,uqhaschanged:!1,eh_shapesel:!1,eh_shaperesize:!1,eh_pantool:!1,eh_addpath:!1,lastTool:"pathedit",iskeydown:!1};</script>
		<style>*{margin:0;padding:0;font-family:tahoma,verdana,sans-serif;font-size:14px;font-weight:400;z-index:0;text-align:left;color:#33383d}body{background-color:#00aae1;overflow:hidden}input{border:0;padding:4px;text-align:left}input[type=file],input[type=text],textarea{background-color:#fff;color:#191e23;border:1px solid #e5eaef}input[type=text][disabled=disabled]{background-color:#e5eaef;border:1px solid #e5eaef;color:#7f8689}input[type=radio]{margin-bottom:6px}a{color:#00aae1;text-decoration:none}a:hover{text-decoration:underline}p{display:block}h1{margin-left:0;color:#ccd1d6;font-size:2em;clear:right;text-transform:uppercase}h2{color:#666b70;display:inline;font-size:1.6em;padding:0 1em 0 0;margin:0 0 .2em;text-transform:lowercase}h3{color:#666b70;font-size:1.3em;padding:0 1em .4em 0;text-transform:lowercase}td{vertical-align:top}ul{margin-left:20px;margin-bottom:8px}li{margin-top:8px}table{border-collapse:collapse}.button,.buttondis,.buttonsel{padding:10px 8px;margin:1px;cursor:pointer}.button,.button:active,.button:link{background-color:#4c5156;color:#ccd1d6}.button:hover{color:#e5eaef}.buttonsel,.buttonsel:hover{background-color:#00aae1;color:#a5def0}.buttonsel:hover{color:#fafcff}.buttondis{background-color:#4c5156;color:#33383d;cursor:default}.spinnerbutton,.spinnerbutton:active{height:22px;width:20px;font-size:15px;text-align:center;padding:0;vertical-align:4px;font-weight:700;margin:0;background-color:#999ea3}.spinnerbutton:hover{color:#fff}#navprimarypane{display:block;position:absolute;top:0;left:0;width:70px;height:100%;background-color:#ccd1d6;padding:0}#navtargetpane{display:block;position:absolute;top:0;left:70px;width:400px;height:100%;padding:0 10px;background-color:#e5eaef;overflow-y:scroll;overflow-x:hidden}#navtargetpane a{color:#33383d}#mainwrapper{width:100%;height:100%;overflow-x:hidden;overflow-y:hidden;position:absolute;top:0;left:0;background-color:#fafcff}#mainpane{margin-left:470px}.primarynavbutton{height:50px;width:50px;margin-left:5px;border-left:5px solid transparent;margin-top:10px;cursor:pointer}#navtargetpane h1{color:#ccd1d6;font-weight:400;margin:10px 0}#pnsaveout{width:100%;overflow-x:hidden;overflow-y:scroll;height:400px}#logocanvas{background-color:transparent;margin:2px 0 0 2px;border:0;position:fixed;right:15px;bottom:40px;z-index:999}#npSaveout{height:800px;width:100%}.pagecontent{margin:10px 20px 100px 40px}.textpage{width:700px}.pagecontent h1,.pagecontent h2,.pagecontent h3{display:block;text-transform:none;margin-bottom:0}.pagecontent h1{margin-top:30px;margin-bottom:10px}.pagecontent>h1:first-child{margin-top:0}.pagecontent h2{margin-top:20px}.pagecontent h3{margin-top:16px}.btt{font-style:normal;margin-left:20px}.pagecontent br{height:15px;display:block}.pagecontent input[type=text]{margin:6px 3px 2px 0;padding-left:10px}.pagecontent p{margin-top:8px}.charselectarea{width:100%}.charselectbuttonwrapper{display:inline;float:left;height:49px;width:49px;cursor:pointer;background-color:#fafcff;margin:0 5px 5px 0}.charselectcanvas{height:50px;width:50px}.charselectcanvassel{background-color:#00aae1}.charselectbutton,.charselectbuttonsel{width:100%;height:100%;text-align:center;color:#ccd1d6;font-size:25px;overflow:hidden;padding-top:10px}.charselectbuttonsel{background-color:#00aae1}.unit{font-size:10px;color:#7f8689;padding-left:4px}.navtargetbutton,.navtargetbuttonsel{font-size:1.5em;display:block;text-transform:lowercase;font-weight:lighter;padding:4px 2px 4px 0;background-color:transparent;cursor:pointer}.navtargetbutton:hover{padding:4px 0 4px 2px}.navtargetbuttonsel{color:#00aae1}#dialog_bg{display:none;position:absolute;top:0;left:0;width:100%;height:100%;text-align:center;background-color:#4c5156;z-index:1001;-moz-opacity:.8;opacity:.8;filter:alpha(opacity=80)}#dialog_box{display:none;position:absolute;top:100px;left:100px;height:auto;width:auto;background-color:#ccd1d6;z-index:1002;overflow:auto}.dialogCloseButton{width:20px;height:25px;color:#e5eaef;background-color:#00aae1;font-size:24px;font-weight:700;text-align:center;padding:0;cursor:pointer;border-radius:0}#dialogLeftBar{width:20px;vertical-align:top;background-color:#00aae1}#dialogRightContent{padding:10px 20px 20px;color:#191e23}#dialogRightContent h1{margin-bottom:10px}#dialogRightContent td{color:#191e23}#dialogRightContent input{background-color:#191e23;color:#ccd1d6;margin:1px;cursor:pointer;padding:4px 12px}#dialogRightContent .subnavunit{margin:10px 0 0;width:400px;padding:0}#dialogRightContent h1,#dialogRightContent h2,#dialogRightContent h3{color:#4c5156}.splashscreen{text-align:center;width:800px;margin:0 auto}.splashver{position:relative;top:-200px;left:167px;width:466px;margin-bottom:-70px;font-size:.8em;color:#fff}.splashver a{font-size:.9em;color:#fff;text-decoration:underline}#splashscreencanvas{position:relative;top:0;left:0}#newprojectname{width:98%;height:25px;margin:10px 0 0;color:#33383d;display:block}#droptarget{width:90%;height:72px;margin:7px 0 20px;background-color:#fff;border:1px dashed #7f8689;color:#00aae1;padding:20px}.charedittable{width:600px;height:100%;position:fixed;left:0;top:40px;background-color:transparent;z-index:10}#ishereghostcanvas{display:none}.ssthumb{border:3px solid #ccd1d6;cursor:pointer}.ssthumb:hover{border:3px solid #00aae1}#toolsarea{position:fixed;left:500px;top:10px;z-index:10}#toolsarea div{margin-right:0}.tool{height:24px;width:24px;overflow:visible;padding:4px 0 0 4px;margin-right:0;display:inline;float:left}.out{background-color:#ccd1d6;color:#33383d;padding:4px 0 0 6px;margin:1px 0 0 1px;width:70px}.tool canvas{margin:0 4px}.layertable{width:100%}.layer,.layersel{width:100%;border-bottom:6px solid #e5eaef;background-color:#b2b7bc;height:50px;margin-bottom:-10px;cursor:pointer}.layer .layername{color:#fafcff}.layersel .layername{background-color:#00aae1;color:#a5def0}.layername{padding:6px 0 6px 10px;height:45px;text-align:left;font-size:24px}.layernote{font-size:.4em;color:#fff;display:block;margin-top:4px;clear:both}.layerthumb{height:50px;width:50px;background-color:#fafcff}.layerthumb canvas{height:50px;width:50px}.detail{width:380px}.detail td{margin:10px 10px 0;padding:5px 10px 0 0;vertical-align:top}.detail h3{padding:0}.detail input[type=text]{padding:0 .4em;display:inline;width:140px;height:20px;vertical-align:top;border:1px solid #fff}.detail input[type=text][disabled=disabled]{background-color:#ccd1d6;border:1px solid #ccd1d6;color:#4c5156}.detail .rightcol{width:200px}.detail .leftcol{width:11px;padding:10px 0 0;margin:0;overflow:hidden}.detail .leftcol canvas{position:relative;top:-3px}.canvasbutton{padding-right:6px;cursor:pointer}.actionsgrid{padding:0 10px 30px 5px;width:380px}.actionsgrid td{width:33%}.actionsgrid h3{margin-top:10px}.actionsgrid input{width:123px;text-transform:lowercase}.metadata h3{margin-top:30px}.opentypepropertiestable{width:100%}.propname{padding:4px 0 0;width:20%}.opentypepropertiestable input[type=text]{width:100%;margin:0 0 10px 20px}.fontmetricstable td{padding:0 10px 0 0;vertical-align:middle}.fontmetricstable .spinnerbutton{height:28px;position:relative;top:4px;left:-4px}#genoutput{font-family:monospace}#tdcanvas{background-color:#fff}#tdtextarea{width:795px;height:150px;padding:2px 0 0 5px;border:0;background-color:#ccd1d6;overflow:hidden;margin:1px 0 10px;font-size:2em}#roughptsize{padding-left:6px}.ssthumbcontainer{width:100%;overflow-y:auto;overflow-x:hidden}.ssthumbcontainer table{margin:0 10px 30px 0;display:inline;float:left;text-transform:none}.ssthumbcontainer canvas{background-color:#fff}.ssusedinthumb{border-bottom:3px solid transparent}.ssusedinthumb:hover{cursor:pointer;border-bottom:3px solid #00aae1}</style>
	</head>
	<body onload="setup();">
		<div id="mainwrapper"><div id="mainpane">
			<div style="margin:70px; font-size:20px;">
				<h2>Wah wah.</h2><br/>
				It looks like there was a JavaScript error.<br/> If, by chance, there was a dialog box with some error text,<br/> please <a style="font-size:20px;" href="mailto:mail@glyphrstudio.com&subject=Issue%20Report%20-%20Breaking%20JavaScript%20Error">send an issue report to the Glyphr team</a>.<br/>
			</div>
		</div></div>
		<div id="navprimarypane" onMouseOver="mouseoutcec();"></div>
		<div id="navtargetpane" onMouseOver="mouseoutcec();"></div>
		<div id="dialog_box">
			<table cellpadding=0 cellspacing=0 border=0><tr>
				<td id='dialogLeftBar'><input type='button' class='dialogCloseButton' value='&times;' onclick='closeDialog();'></td>
				<td id='dialogRightContent'></td>
			</tr></table>
		</div>
		<div id="dialog_bg" onclick="closeDialog();"></div>
		<canvas id="logocanvas" height="60" width="190"><h3>Hey there!</h3>You'll need a modern browser that supports HTML5 in order for this to work.</canvas>
		<canvas id="ishereghostcanvas" height=10 width=10 ></canvas>
	</body>
</html>